const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/SalesTrackingPage-D1Dm6akF.js","assets/SalesTrackingPage-Bbgo5x5y.css"])))=>i.map(i=>d[i]);
function MN(t,r){for(var s=0;s<r.length;s++){const a=r[s];if(typeof a!="string"&&!Array.isArray(a)){for(const i in a)if(i!=="default"&&!(i in t)){const l=Object.getOwnPropertyDescriptor(a,i);l&&Object.defineProperty(t,i,l.get?l:{enumerable:!0,get:()=>a[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function s(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(i){if(i.ep)return;i.ep=!0;const l=s(i);fetch(i.href,l)}})();function q0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var em={exports:{}},Bo={},tm={exports:{}},Be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _g;function RN(){if(_g)return Be;_g=1;var t=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function x(_){return _===null||typeof _!="object"?null:(_=g&&_[g]||_["@@iterator"],typeof _=="function"?_:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,S={};function k(_,M,Z){this.props=_,this.context=M,this.refs=S,this.updater=Z||v}k.prototype.isReactComponent={},k.prototype.setState=function(_,M){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,M,"setState")},k.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function E(){}E.prototype=k.prototype;function C(_,M,Z){this.props=_,this.context=M,this.refs=S,this.updater=Z||v}var j=C.prototype=new E;j.constructor=C,w(j,k.prototype),j.isPureReactComponent=!0;var A=Array.isArray,P=Object.prototype.hasOwnProperty,F={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function L(_,M,Z){var X,V={},de=null,ue=null;if(M!=null)for(X in M.ref!==void 0&&(ue=M.ref),M.key!==void 0&&(de=""+M.key),M)P.call(M,X)&&!T.hasOwnProperty(X)&&(V[X]=M[X]);var le=arguments.length-2;if(le===1)V.children=Z;else if(1<le){for(var te=Array(le),pe=0;pe<le;pe++)te[pe]=arguments[pe+2];V.children=te}if(_&&_.defaultProps)for(X in le=_.defaultProps,le)V[X]===void 0&&(V[X]=le[X]);return{$$typeof:t,type:_,key:de,ref:ue,props:V,_owner:F.current}}function z(_,M){return{$$typeof:t,type:_.type,key:M,ref:_.ref,props:_.props,_owner:_._owner}}function q(_){return typeof _=="object"&&_!==null&&_.$$typeof===t}function O(_){var M={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(Z){return M[Z]})}var B=/\/+/g;function U(_,M){return typeof _=="object"&&_!==null&&_.key!=null?O(""+_.key):M.toString(36)}function R(_,M,Z,X,V){var de=typeof _;(de==="undefined"||de==="boolean")&&(_=null);var ue=!1;if(_===null)ue=!0;else switch(de){case"string":case"number":ue=!0;break;case"object":switch(_.$$typeof){case t:case r:ue=!0}}if(ue)return ue=_,V=V(ue),_=X===""?"."+U(ue,0):X,A(V)?(Z="",_!=null&&(Z=_.replace(B,"$&/")+"/"),R(V,M,Z,"",function(pe){return pe})):V!=null&&(q(V)&&(V=z(V,Z+(!V.key||ue&&ue.key===V.key?"":(""+V.key).replace(B,"$&/")+"/")+_)),M.push(V)),1;if(ue=0,X=X===""?".":X+":",A(_))for(var le=0;le<_.length;le++){de=_[le];var te=X+U(de,le);ue+=R(de,M,Z,te,V)}else if(te=x(_),typeof te=="function")for(_=te.call(_),le=0;!(de=_.next()).done;)de=de.value,te=X+U(de,le++),ue+=R(de,M,Z,te,V);else if(de==="object")throw M=String(_),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.");return ue}function ee(_,M,Z){if(_==null)return _;var X=[],V=0;return R(_,X,"","",function(de){return M.call(Z,de,V++)}),X}function J(_){if(_._status===-1){var M=_._result;M=M(),M.then(function(Z){(_._status===0||_._status===-1)&&(_._status=1,_._result=Z)},function(Z){(_._status===0||_._status===-1)&&(_._status=2,_._result=Z)}),_._status===-1&&(_._status=0,_._result=M)}if(_._status===1)return _._result.default;throw _._result}var H={current:null},K={transition:null},I={ReactCurrentDispatcher:H,ReactCurrentBatchConfig:K,ReactCurrentOwner:F};function G(){throw Error("act(...) is not supported in production builds of React.")}return Be.Children={map:ee,forEach:function(_,M,Z){ee(_,function(){M.apply(this,arguments)},Z)},count:function(_){var M=0;return ee(_,function(){M++}),M},toArray:function(_){return ee(_,function(M){return M})||[]},only:function(_){if(!q(_))throw Error("React.Children.only expected to receive a single React element child.");return _}},Be.Component=k,Be.Fragment=s,Be.Profiler=i,Be.PureComponent=C,Be.StrictMode=a,Be.Suspense=m,Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,Be.act=G,Be.cloneElement=function(_,M,Z){if(_==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+_+".");var X=w({},_.props),V=_.key,de=_.ref,ue=_._owner;if(M!=null){if(M.ref!==void 0&&(de=M.ref,ue=F.current),M.key!==void 0&&(V=""+M.key),_.type&&_.type.defaultProps)var le=_.type.defaultProps;for(te in M)P.call(M,te)&&!T.hasOwnProperty(te)&&(X[te]=M[te]===void 0&&le!==void 0?le[te]:M[te])}var te=arguments.length-2;if(te===1)X.children=Z;else if(1<te){le=Array(te);for(var pe=0;pe<te;pe++)le[pe]=arguments[pe+2];X.children=le}return{$$typeof:t,type:_.type,key:V,ref:de,props:X,_owner:ue}},Be.createContext=function(_){return _={$$typeof:c,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},_.Provider={$$typeof:l,_context:_},_.Consumer=_},Be.createElement=L,Be.createFactory=function(_){var M=L.bind(null,_);return M.type=_,M},Be.createRef=function(){return{current:null}},Be.forwardRef=function(_){return{$$typeof:u,render:_}},Be.isValidElement=q,Be.lazy=function(_){return{$$typeof:p,_payload:{_status:-1,_result:_},_init:J}},Be.memo=function(_,M){return{$$typeof:h,type:_,compare:M===void 0?null:M}},Be.startTransition=function(_){var M=K.transition;K.transition={};try{_()}finally{K.transition=M}},Be.unstable_act=G,Be.useCallback=function(_,M){return H.current.useCallback(_,M)},Be.useContext=function(_){return H.current.useContext(_)},Be.useDebugValue=function(){},Be.useDeferredValue=function(_){return H.current.useDeferredValue(_)},Be.useEffect=function(_,M){return H.current.useEffect(_,M)},Be.useId=function(){return H.current.useId()},Be.useImperativeHandle=function(_,M,Z){return H.current.useImperativeHandle(_,M,Z)},Be.useInsertionEffect=function(_,M){return H.current.useInsertionEffect(_,M)},Be.useLayoutEffect=function(_,M){return H.current.useLayoutEffect(_,M)},Be.useMemo=function(_,M){return H.current.useMemo(_,M)},Be.useReducer=function(_,M,Z){return H.current.useReducer(_,M,Z)},Be.useRef=function(_){return H.current.useRef(_)},Be.useState=function(_){return H.current.useState(_)},Be.useSyncExternalStore=function(_,M,Z){return H.current.useSyncExternalStore(_,M,Z)},Be.useTransition=function(){return H.current.useTransition()},Be.version="18.3.1",Be}var Og;function Y0(){return Og||(Og=1,tm.exports=RN()),tm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fg;function LN(){if(Fg)return Bo;Fg=1;var t=Y0(),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(u,m,h){var p,g={},x=null,v=null;h!==void 0&&(x=""+h),m.key!==void 0&&(x=""+m.key),m.ref!==void 0&&(v=m.ref);for(p in m)a.call(m,p)&&!l.hasOwnProperty(p)&&(g[p]=m[p]);if(u&&u.defaultProps)for(p in m=u.defaultProps,m)g[p]===void 0&&(g[p]=m[p]);return{$$typeof:r,type:u,key:x,ref:v,props:g,_owner:i.current}}return Bo.Fragment=s,Bo.jsx=c,Bo.jsxs=c,Bo}var Bg;function IN(){return Bg||(Bg=1,em.exports=LN()),em.exports}var e=IN(),y=Y0();const je=q0(y),K0=MN({__proto__:null,default:je},[y]);var Hl={},rm={exports:{}},ir={},sm={exports:{}},am={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ug;function _N(){return Ug||(Ug=1,(function(t){function r(K,I){var G=K.length;K.push(I);e:for(;0<G;){var _=G-1>>>1,M=K[_];if(0<i(M,I))K[_]=I,K[G]=M,G=_;else break e}}function s(K){return K.length===0?null:K[0]}function a(K){if(K.length===0)return null;var I=K[0],G=K.pop();if(G!==I){K[0]=G;e:for(var _=0,M=K.length,Z=M>>>1;_<Z;){var X=2*(_+1)-1,V=K[X],de=X+1,ue=K[de];if(0>i(V,G))de<M&&0>i(ue,V)?(K[_]=ue,K[de]=G,_=de):(K[_]=V,K[X]=G,_=X);else if(de<M&&0>i(ue,G))K[_]=ue,K[de]=G,_=de;else break e}}return I}function i(K,I){var G=K.sortIndex-I.sortIndex;return G!==0?G:K.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,u=c.now();t.unstable_now=function(){return c.now()-u}}var m=[],h=[],p=1,g=null,x=3,v=!1,w=!1,S=!1,k=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(K){for(var I=s(h);I!==null;){if(I.callback===null)a(h);else if(I.startTime<=K)a(h),I.sortIndex=I.expirationTime,r(m,I);else break;I=s(h)}}function A(K){if(S=!1,j(K),!w)if(s(m)!==null)w=!0,J(P);else{var I=s(h);I!==null&&H(A,I.startTime-K)}}function P(K,I){w=!1,S&&(S=!1,E(L),L=-1),v=!0;var G=x;try{for(j(I),g=s(m);g!==null&&(!(g.expirationTime>I)||K&&!O());){var _=g.callback;if(typeof _=="function"){g.callback=null,x=g.priorityLevel;var M=_(g.expirationTime<=I);I=t.unstable_now(),typeof M=="function"?g.callback=M:g===s(m)&&a(m),j(I)}else a(m);g=s(m)}if(g!==null)var Z=!0;else{var X=s(h);X!==null&&H(A,X.startTime-I),Z=!1}return Z}finally{g=null,x=G,v=!1}}var F=!1,T=null,L=-1,z=5,q=-1;function O(){return!(t.unstable_now()-q<z)}function B(){if(T!==null){var K=t.unstable_now();q=K;var I=!0;try{I=T(!0,K)}finally{I?U():(F=!1,T=null)}}else F=!1}var U;if(typeof C=="function")U=function(){C(B)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ee=R.port2;R.port1.onmessage=B,U=function(){ee.postMessage(null)}}else U=function(){k(B,0)};function J(K){T=K,F||(F=!0,U())}function H(K,I){L=k(function(){K(t.unstable_now())},I)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_continueExecution=function(){w||v||(w=!0,J(P))},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return s(m)},t.unstable_next=function(K){switch(x){case 1:case 2:case 3:var I=3;break;default:I=x}var G=x;x=I;try{return K()}finally{x=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(K,I){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var G=x;x=K;try{return I()}finally{x=G}},t.unstable_scheduleCallback=function(K,I,G){var _=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?_+G:_):G=_,K){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=G+M,K={id:p++,callback:I,priorityLevel:K,startTime:G,expirationTime:M,sortIndex:-1},G>_?(K.sortIndex=G,r(h,K),s(m)===null&&K===s(h)&&(S?(E(L),L=-1):S=!0,H(A,G-_))):(K.sortIndex=M,r(m,K),w||v||(w=!0,J(P))),K},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(K){var I=x;return function(){var G=x;x=I;try{return K.apply(this,arguments)}finally{x=G}}}})(am)),am}var $g;function ON(){return $g||($g=1,sm.exports=_N()),sm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vg;function FN(){if(Vg)return ir;Vg=1;var t=Y0(),r=ON();function s(n){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+n,d=1;d<arguments.length;d++)o+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+n+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,i={};function l(n,o){c(n,o),c(n+"Capture",o)}function c(n,o){for(i[n]=o,n=0;n<o.length;n++)a.add(o[n])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},g={};function x(n){return m.call(g,n)?!0:m.call(p,n)?!1:h.test(n)?g[n]=!0:(p[n]=!0,!1)}function v(n,o,d,f){if(d!==null&&d.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return f?!1:d!==null?!d.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function w(n,o,d,f){if(o===null||typeof o>"u"||v(n,o,d,f))return!0;if(f)return!1;if(d!==null)switch(d.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function S(n,o,d,f,b,N,D){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=f,this.attributeNamespace=b,this.mustUseProperty=d,this.propertyName=n,this.type=o,this.sanitizeURL=N,this.removeEmptyString=D}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){k[n]=new S(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var o=n[0];k[o]=new S(o,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){k[n]=new S(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){k[n]=new S(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){k[n]=new S(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){k[n]=new S(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){k[n]=new S(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){k[n]=new S(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){k[n]=new S(n,5,!1,n.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function C(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var o=n.replace(E,C);k[o]=new S(o,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var o=n.replace(E,C);k[o]=new S(o,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var o=n.replace(E,C);k[o]=new S(o,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){k[n]=new S(n,1,!1,n.toLowerCase(),null,!1,!1)}),k.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){k[n]=new S(n,1,!1,n.toLowerCase(),null,!0,!0)});function j(n,o,d,f){var b=k.hasOwnProperty(o)?k[o]:null;(b!==null?b.type!==0:f||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(w(o,d,b,f)&&(d=null),f||b===null?x(o)&&(d===null?n.removeAttribute(o):n.setAttribute(o,""+d)):b.mustUseProperty?n[b.propertyName]=d===null?b.type===3?!1:"":d:(o=b.attributeName,f=b.attributeNamespace,d===null?n.removeAttribute(o):(b=b.type,d=b===3||b===4&&d===!0?"":""+d,f?n.setAttributeNS(f,o,d):n.setAttribute(o,d))))}var A=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),F=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),O=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),H=Symbol.for("react.offscreen"),K=Symbol.iterator;function I(n){return n===null||typeof n!="object"?null:(n=K&&n[K]||n["@@iterator"],typeof n=="function"?n:null)}var G=Object.assign,_;function M(n){if(_===void 0)try{throw Error()}catch(d){var o=d.stack.trim().match(/\n( *(at )?)/);_=o&&o[1]||""}return`
`+_+n}var Z=!1;function X(n,o){if(!n||Z)return"";Z=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(oe){var f=oe}Reflect.construct(n,[],o)}else{try{o.call()}catch(oe){f=oe}n.call(o.prototype)}else{try{throw Error()}catch(oe){f=oe}n()}}catch(oe){if(oe&&f&&typeof oe.stack=="string"){for(var b=oe.stack.split(`
`),N=f.stack.split(`
`),D=b.length-1,$=N.length-1;1<=D&&0<=$&&b[D]!==N[$];)$--;for(;1<=D&&0<=$;D--,$--)if(b[D]!==N[$]){if(D!==1||$!==1)do if(D--,$--,0>$||b[D]!==N[$]){var Y=`
`+b[D].replace(" at new "," at ");return n.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",n.displayName)),Y}while(1<=D&&0<=$);break}}}finally{Z=!1,Error.prepareStackTrace=d}return(n=n?n.displayName||n.name:"")?M(n):""}function V(n){switch(n.tag){case 5:return M(n.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return n=X(n.type,!1),n;case 11:return n=X(n.type.render,!1),n;case 1:return n=X(n.type,!0),n;default:return""}}function de(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case T:return"Fragment";case F:return"Portal";case z:return"Profiler";case L:return"StrictMode";case U:return"Suspense";case R:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case O:return(n.displayName||"Context")+".Consumer";case q:return(n._context.displayName||"Context")+".Provider";case B:var o=n.render;return n=n.displayName,n||(n=o.displayName||o.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case ee:return o=n.displayName||null,o!==null?o:de(n.type)||"Memo";case J:o=n._payload,n=n._init;try{return de(n(o))}catch{}}return null}function ue(n){var o=n.type;switch(n.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=o.render,n=n.displayName||n.name||"",o.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return de(o);case 8:return o===L?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function le(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function te(n){var o=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function pe(n){var o=te(n)?"checked":"value",d=Object.getOwnPropertyDescriptor(n.constructor.prototype,o),f=""+n[o];if(!n.hasOwnProperty(o)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var b=d.get,N=d.set;return Object.defineProperty(n,o,{configurable:!0,get:function(){return b.call(this)},set:function(D){f=""+D,N.call(this,D)}}),Object.defineProperty(n,o,{enumerable:d.enumerable}),{getValue:function(){return f},setValue:function(D){f=""+D},stopTracking:function(){n._valueTracker=null,delete n[o]}}}}function se(n){n._valueTracker||(n._valueTracker=pe(n))}function we(n){if(!n)return!1;var o=n._valueTracker;if(!o)return!0;var d=o.getValue(),f="";return n&&(f=te(n)?n.checked?"true":"false":n.value),n=f,n!==d?(o.setValue(n),!0):!1}function W(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function ye(n,o){var d=o.checked;return G({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??n._wrapperState.initialChecked})}function Ae(n,o){var d=o.defaultValue==null?"":o.defaultValue,f=o.checked!=null?o.checked:o.defaultChecked;d=le(o.value!=null?o.value:d),n._wrapperState={initialChecked:f,initialValue:d,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Pe(n,o){o=o.checked,o!=null&&j(n,"checked",o,!1)}function ct(n,o){Pe(n,o);var d=le(o.value),f=o.type;if(d!=null)f==="number"?(d===0&&n.value===""||n.value!=d)&&(n.value=""+d):n.value!==""+d&&(n.value=""+d);else if(f==="submit"||f==="reset"){n.removeAttribute("value");return}o.hasOwnProperty("value")?va(n,o.type,d):o.hasOwnProperty("defaultValue")&&va(n,o.type,le(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(n.defaultChecked=!!o.defaultChecked)}function Li(n,o,d){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var f=o.type;if(!(f!=="submit"&&f!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+n._wrapperState.initialValue,d||o===n.value||(n.value=o),n.defaultValue=o}d=n.name,d!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,d!==""&&(n.name=d)}function va(n,o,d){(o!=="number"||W(n.ownerDocument)!==n)&&(d==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+d&&(n.defaultValue=""+d))}var Rr=Array.isArray;function fs(n,o,d,f){if(n=n.options,o){o={};for(var b=0;b<d.length;b++)o["$"+d[b]]=!0;for(d=0;d<n.length;d++)b=o.hasOwnProperty("$"+n[d].value),n[d].selected!==b&&(n[d].selected=b),b&&f&&(n[d].defaultSelected=!0)}else{for(d=""+le(d),o=null,b=0;b<n.length;b++){if(n[b].value===d){n[b].selected=!0,f&&(n[b].defaultSelected=!0);return}o!==null||n[b].disabled||(o=n[b])}o!==null&&(o.selected=!0)}}function Za(n,o){if(o.dangerouslySetInnerHTML!=null)throw Error(s(91));return G({},o,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function ne(n,o){var d=o.value;if(d==null){if(d=o.children,o=o.defaultValue,d!=null){if(o!=null)throw Error(s(92));if(Rr(d)){if(1<d.length)throw Error(s(93));d=d[0]}o=d}o==null&&(o=""),d=o}n._wrapperState={initialValue:le(d)}}function ze(n,o){var d=le(o.value),f=le(o.defaultValue);d!=null&&(d=""+d,d!==n.value&&(n.value=d),o.defaultValue==null&&n.defaultValue!==d&&(n.defaultValue=d)),f!=null&&(n.defaultValue=""+f)}function Le(n){var o=n.textContent;o===n._wrapperState.initialValue&&o!==""&&o!==null&&(n.value=o)}function Ue(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dt(n,o){return n==null||n==="http://www.w3.org/1999/xhtml"?Ue(o):n==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var ut,Ii=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,d,f,b){MSApp.execUnsafeLocalFunction(function(){return n(o,d,f,b)})}:n})(function(n,o){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=o;else{for(ut=ut||document.createElement("div"),ut.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=ut.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;o.firstChild;)n.appendChild(o.firstChild)}});function Rs(n,o){if(o){var d=n.firstChild;if(d&&d===n.lastChild&&d.nodeType===3){d.nodeValue=o;return}}n.textContent=o}var Ls={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_i=["Webkit","ms","Moz","O"];Object.keys(Ls).forEach(function(n){_i.forEach(function(o){o=o+n.charAt(0).toUpperCase()+n.substring(1),Ls[o]=Ls[n]})});function ud(n,o,d){return o==null||typeof o=="boolean"||o===""?"":d||typeof o!="number"||o===0||Ls.hasOwnProperty(n)&&Ls[n]?(""+o).trim():o+"px"}function Qh(n,o){n=n.style;for(var d in o)if(o.hasOwnProperty(d)){var f=d.indexOf("--")===0,b=ud(d,o[d],f);d==="float"&&(d="cssFloat"),f?n.setProperty(d,b):n[d]=b}}var Ow=G({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function md(n,o){if(o){if(Ow[n]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(s(137,n));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(s(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(s(61))}if(o.style!=null&&typeof o.style!="object")throw Error(s(62))}}function hd(n,o){if(n.indexOf("-")===-1)return typeof o.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fd=null;function pd(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var gd=null,en=null,tn=null;function Jh(n){if(n=ko(n)){if(typeof gd!="function")throw Error(s(280));var o=n.stateNode;o&&(o=nl(o),gd(n.stateNode,n.type,o))}}function Zh(n){en?tn?tn.push(n):tn=[n]:en=n}function ef(){if(en){var n=en,o=tn;if(tn=en=null,Jh(n),o)for(n=0;n<o.length;n++)Jh(o[n])}}function tf(n,o){return n(o)}function rf(){}var xd=!1;function sf(n,o,d){if(xd)return n(o,d);xd=!0;try{return tf(n,o,d)}finally{xd=!1,(en!==null||tn!==null)&&(rf(),ef())}}function ro(n,o){var d=n.stateNode;if(d===null)return null;var f=nl(d);if(f===null)return null;d=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(n=n.type,f=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!f;break e;default:n=!1}if(n)return null;if(d&&typeof d!="function")throw Error(s(231,o,typeof d));return d}var yd=!1;if(u)try{var so={};Object.defineProperty(so,"passive",{get:function(){yd=!0}}),window.addEventListener("test",so,so),window.removeEventListener("test",so,so)}catch{yd=!1}function Fw(n,o,d,f,b,N,D,$,Y){var oe=Array.prototype.slice.call(arguments,3);try{o.apply(d,oe)}catch(fe){this.onError(fe)}}var ao=!1,Oi=null,Fi=!1,bd=null,Bw={onError:function(n){ao=!0,Oi=n}};function Uw(n,o,d,f,b,N,D,$,Y){ao=!1,Oi=null,Fw.apply(Bw,arguments)}function $w(n,o,d,f,b,N,D,$,Y){if(Uw.apply(this,arguments),ao){if(ao){var oe=Oi;ao=!1,Oi=null}else throw Error(s(198));Fi||(Fi=!0,bd=oe)}}function wa(n){var o=n,d=n;if(n.alternate)for(;o.return;)o=o.return;else{n=o;do o=n,(o.flags&4098)!==0&&(d=o.return),n=o.return;while(n)}return o.tag===3?d:null}function af(n){if(n.tag===13){var o=n.memoizedState;if(o===null&&(n=n.alternate,n!==null&&(o=n.memoizedState)),o!==null)return o.dehydrated}return null}function nf(n){if(wa(n)!==n)throw Error(s(188))}function Vw(n){var o=n.alternate;if(!o){if(o=wa(n),o===null)throw Error(s(188));return o!==n?null:n}for(var d=n,f=o;;){var b=d.return;if(b===null)break;var N=b.alternate;if(N===null){if(f=b.return,f!==null){d=f;continue}break}if(b.child===N.child){for(N=b.child;N;){if(N===d)return nf(b),n;if(N===f)return nf(b),o;N=N.sibling}throw Error(s(188))}if(d.return!==f.return)d=b,f=N;else{for(var D=!1,$=b.child;$;){if($===d){D=!0,d=b,f=N;break}if($===f){D=!0,f=b,d=N;break}$=$.sibling}if(!D){for($=N.child;$;){if($===d){D=!0,d=N,f=b;break}if($===f){D=!0,f=N,d=b;break}$=$.sibling}if(!D)throw Error(s(189))}}if(d.alternate!==f)throw Error(s(190))}if(d.tag!==3)throw Error(s(188));return d.stateNode.current===d?n:o}function of(n){return n=Vw(n),n!==null?lf(n):null}function lf(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var o=lf(n);if(o!==null)return o;n=n.sibling}return null}var cf=r.unstable_scheduleCallback,df=r.unstable_cancelCallback,zw=r.unstable_shouldYield,Hw=r.unstable_requestPaint,xt=r.unstable_now,Ww=r.unstable_getCurrentPriorityLevel,vd=r.unstable_ImmediatePriority,uf=r.unstable_UserBlockingPriority,Bi=r.unstable_NormalPriority,qw=r.unstable_LowPriority,mf=r.unstable_IdlePriority,Ui=null,Kr=null;function Yw(n){if(Kr&&typeof Kr.onCommitFiberRoot=="function")try{Kr.onCommitFiberRoot(Ui,n,void 0,(n.current.flags&128)===128)}catch{}}var Lr=Math.clz32?Math.clz32:Xw,Kw=Math.log,Gw=Math.LN2;function Xw(n){return n>>>=0,n===0?32:31-(Kw(n)/Gw|0)|0}var $i=64,Vi=4194304;function no(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function zi(n,o){var d=n.pendingLanes;if(d===0)return 0;var f=0,b=n.suspendedLanes,N=n.pingedLanes,D=d&268435455;if(D!==0){var $=D&~b;$!==0?f=no($):(N&=D,N!==0&&(f=no(N)))}else D=d&~b,D!==0?f=no(D):N!==0&&(f=no(N));if(f===0)return 0;if(o!==0&&o!==f&&(o&b)===0&&(b=f&-f,N=o&-o,b>=N||b===16&&(N&4194240)!==0))return o;if((f&4)!==0&&(f|=d&16),o=n.entangledLanes,o!==0)for(n=n.entanglements,o&=f;0<o;)d=31-Lr(o),b=1<<d,f|=n[d],o&=~b;return f}function Qw(n,o){switch(n){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jw(n,o){for(var d=n.suspendedLanes,f=n.pingedLanes,b=n.expirationTimes,N=n.pendingLanes;0<N;){var D=31-Lr(N),$=1<<D,Y=b[D];Y===-1?(($&d)===0||($&f)!==0)&&(b[D]=Qw($,o)):Y<=o&&(n.expiredLanes|=$),N&=~$}}function wd(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function hf(){var n=$i;return $i<<=1,($i&4194240)===0&&($i=64),n}function jd(n){for(var o=[],d=0;31>d;d++)o.push(n);return o}function oo(n,o,d){n.pendingLanes|=o,o!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,o=31-Lr(o),n[o]=d}function Zw(n,o){var d=n.pendingLanes&~o;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=o,n.mutableReadLanes&=o,n.entangledLanes&=o,o=n.entanglements;var f=n.eventTimes;for(n=n.expirationTimes;0<d;){var b=31-Lr(d),N=1<<b;o[b]=0,f[b]=-1,n[b]=-1,d&=~N}}function Nd(n,o){var d=n.entangledLanes|=o;for(n=n.entanglements;d;){var f=31-Lr(d),b=1<<f;b&o|n[f]&o&&(n[f]|=o),d&=~b}}var Ge=0;function ff(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var pf,kd,gf,xf,yf,Sd=!1,Hi=[],Is=null,_s=null,Os=null,io=new Map,lo=new Map,Fs=[],ej="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bf(n,o){switch(n){case"focusin":case"focusout":Is=null;break;case"dragenter":case"dragleave":_s=null;break;case"mouseover":case"mouseout":Os=null;break;case"pointerover":case"pointerout":io.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":lo.delete(o.pointerId)}}function co(n,o,d,f,b,N){return n===null||n.nativeEvent!==N?(n={blockedOn:o,domEventName:d,eventSystemFlags:f,nativeEvent:N,targetContainers:[b]},o!==null&&(o=ko(o),o!==null&&kd(o)),n):(n.eventSystemFlags|=f,o=n.targetContainers,b!==null&&o.indexOf(b)===-1&&o.push(b),n)}function tj(n,o,d,f,b){switch(o){case"focusin":return Is=co(Is,n,o,d,f,b),!0;case"dragenter":return _s=co(_s,n,o,d,f,b),!0;case"mouseover":return Os=co(Os,n,o,d,f,b),!0;case"pointerover":var N=b.pointerId;return io.set(N,co(io.get(N)||null,n,o,d,f,b)),!0;case"gotpointercapture":return N=b.pointerId,lo.set(N,co(lo.get(N)||null,n,o,d,f,b)),!0}return!1}function vf(n){var o=ja(n.target);if(o!==null){var d=wa(o);if(d!==null){if(o=d.tag,o===13){if(o=af(d),o!==null){n.blockedOn=o,yf(n.priority,function(){gf(d)});return}}else if(o===3&&d.stateNode.current.memoizedState.isDehydrated){n.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Wi(n){if(n.blockedOn!==null)return!1;for(var o=n.targetContainers;0<o.length;){var d=Ed(n.domEventName,n.eventSystemFlags,o[0],n.nativeEvent);if(d===null){d=n.nativeEvent;var f=new d.constructor(d.type,d);fd=f,d.target.dispatchEvent(f),fd=null}else return o=ko(d),o!==null&&kd(o),n.blockedOn=d,!1;o.shift()}return!0}function wf(n,o,d){Wi(n)&&d.delete(o)}function rj(){Sd=!1,Is!==null&&Wi(Is)&&(Is=null),_s!==null&&Wi(_s)&&(_s=null),Os!==null&&Wi(Os)&&(Os=null),io.forEach(wf),lo.forEach(wf)}function uo(n,o){n.blockedOn===o&&(n.blockedOn=null,Sd||(Sd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,rj)))}function mo(n){function o(b){return uo(b,n)}if(0<Hi.length){uo(Hi[0],n);for(var d=1;d<Hi.length;d++){var f=Hi[d];f.blockedOn===n&&(f.blockedOn=null)}}for(Is!==null&&uo(Is,n),_s!==null&&uo(_s,n),Os!==null&&uo(Os,n),io.forEach(o),lo.forEach(o),d=0;d<Fs.length;d++)f=Fs[d],f.blockedOn===n&&(f.blockedOn=null);for(;0<Fs.length&&(d=Fs[0],d.blockedOn===null);)vf(d),d.blockedOn===null&&Fs.shift()}var rn=A.ReactCurrentBatchConfig,qi=!0;function sj(n,o,d,f){var b=Ge,N=rn.transition;rn.transition=null;try{Ge=1,Cd(n,o,d,f)}finally{Ge=b,rn.transition=N}}function aj(n,o,d,f){var b=Ge,N=rn.transition;rn.transition=null;try{Ge=4,Cd(n,o,d,f)}finally{Ge=b,rn.transition=N}}function Cd(n,o,d,f){if(qi){var b=Ed(n,o,d,f);if(b===null)Hd(n,o,f,Yi,d),bf(n,f);else if(tj(b,n,o,d,f))f.stopPropagation();else if(bf(n,f),o&4&&-1<ej.indexOf(n)){for(;b!==null;){var N=ko(b);if(N!==null&&pf(N),N=Ed(n,o,d,f),N===null&&Hd(n,o,f,Yi,d),N===b)break;b=N}b!==null&&f.stopPropagation()}else Hd(n,o,f,null,d)}}var Yi=null;function Ed(n,o,d,f){if(Yi=null,n=pd(f),n=ja(n),n!==null)if(o=wa(n),o===null)n=null;else if(d=o.tag,d===13){if(n=af(o),n!==null)return n;n=null}else if(d===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;n=null}else o!==n&&(n=null);return Yi=n,null}function jf(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ww()){case vd:return 1;case uf:return 4;case Bi:case qw:return 16;case mf:return 536870912;default:return 16}default:return 16}}var Bs=null,Td=null,Ki=null;function Nf(){if(Ki)return Ki;var n,o=Td,d=o.length,f,b="value"in Bs?Bs.value:Bs.textContent,N=b.length;for(n=0;n<d&&o[n]===b[n];n++);var D=d-n;for(f=1;f<=D&&o[d-f]===b[N-f];f++);return Ki=b.slice(n,1<f?1-f:void 0)}function Gi(n){var o=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&o===13&&(n=13)):n=o,n===10&&(n=13),32<=n||n===13?n:0}function Xi(){return!0}function kf(){return!1}function hr(n){function o(d,f,b,N,D){this._reactName=d,this._targetInst=b,this.type=f,this.nativeEvent=N,this.target=D,this.currentTarget=null;for(var $ in n)n.hasOwnProperty($)&&(d=n[$],this[$]=d?d(N):N[$]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?Xi:kf,this.isPropagationStopped=kf,this}return G(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Xi)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Xi)},persist:function(){},isPersistent:Xi}),o}var sn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ad=hr(sn),ho=G({},sn,{view:0,detail:0}),nj=hr(ho),Pd,Dd,fo,Qi=G({},ho,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rd,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==fo&&(fo&&n.type==="mousemove"?(Pd=n.screenX-fo.screenX,Dd=n.screenY-fo.screenY):Dd=Pd=0,fo=n),Pd)},movementY:function(n){return"movementY"in n?n.movementY:Dd}}),Sf=hr(Qi),oj=G({},Qi,{dataTransfer:0}),ij=hr(oj),lj=G({},ho,{relatedTarget:0}),Md=hr(lj),cj=G({},sn,{animationName:0,elapsedTime:0,pseudoElement:0}),dj=hr(cj),uj=G({},sn,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),mj=hr(uj),hj=G({},sn,{data:0}),Cf=hr(hj),fj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xj(n){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(n):(n=gj[n])?!!o[n]:!1}function Rd(){return xj}var yj=G({},ho,{key:function(n){if(n.key){var o=fj[n.key]||n.key;if(o!=="Unidentified")return o}return n.type==="keypress"?(n=Gi(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?pj[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rd,charCode:function(n){return n.type==="keypress"?Gi(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Gi(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),bj=hr(yj),vj=G({},Qi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ef=hr(vj),wj=G({},ho,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rd}),jj=hr(wj),Nj=G({},sn,{propertyName:0,elapsedTime:0,pseudoElement:0}),kj=hr(Nj),Sj=G({},Qi,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Cj=hr(Sj),Ej=[9,13,27,32],Ld=u&&"CompositionEvent"in window,po=null;u&&"documentMode"in document&&(po=document.documentMode);var Tj=u&&"TextEvent"in window&&!po,Tf=u&&(!Ld||po&&8<po&&11>=po),Af=" ",Pf=!1;function Df(n,o){switch(n){case"keyup":return Ej.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mf(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var an=!1;function Aj(n,o){switch(n){case"compositionend":return Mf(o);case"keypress":return o.which!==32?null:(Pf=!0,Af);case"textInput":return n=o.data,n===Af&&Pf?null:n;default:return null}}function Pj(n,o){if(an)return n==="compositionend"||!Ld&&Df(n,o)?(n=Nf(),Ki=Td=Bs=null,an=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Tf&&o.locale!=="ko"?null:o.data;default:return null}}var Dj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rf(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o==="input"?!!Dj[n.type]:o==="textarea"}function Lf(n,o,d,f){Zh(f),o=rl(o,"onChange"),0<o.length&&(d=new Ad("onChange","change",null,d,f),n.push({event:d,listeners:o}))}var go=null,xo=null;function Mj(n){Jf(n,0)}function Ji(n){var o=dn(n);if(we(o))return n}function Rj(n,o){if(n==="change")return o}var If=!1;if(u){var Id;if(u){var _d="oninput"in document;if(!_d){var _f=document.createElement("div");_f.setAttribute("oninput","return;"),_d=typeof _f.oninput=="function"}Id=_d}else Id=!1;If=Id&&(!document.documentMode||9<document.documentMode)}function Of(){go&&(go.detachEvent("onpropertychange",Ff),xo=go=null)}function Ff(n){if(n.propertyName==="value"&&Ji(xo)){var o=[];Lf(o,xo,n,pd(n)),sf(Mj,o)}}function Lj(n,o,d){n==="focusin"?(Of(),go=o,xo=d,go.attachEvent("onpropertychange",Ff)):n==="focusout"&&Of()}function Ij(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ji(xo)}function _j(n,o){if(n==="click")return Ji(o)}function Oj(n,o){if(n==="input"||n==="change")return Ji(o)}function Fj(n,o){return n===o&&(n!==0||1/n===1/o)||n!==n&&o!==o}var Ir=typeof Object.is=="function"?Object.is:Fj;function yo(n,o){if(Ir(n,o))return!0;if(typeof n!="object"||n===null||typeof o!="object"||o===null)return!1;var d=Object.keys(n),f=Object.keys(o);if(d.length!==f.length)return!1;for(f=0;f<d.length;f++){var b=d[f];if(!m.call(o,b)||!Ir(n[b],o[b]))return!1}return!0}function Bf(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Uf(n,o){var d=Bf(n);n=0;for(var f;d;){if(d.nodeType===3){if(f=n+d.textContent.length,n<=o&&f>=o)return{node:d,offset:o-n};n=f}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Bf(d)}}function $f(n,o){return n&&o?n===o?!0:n&&n.nodeType===3?!1:o&&o.nodeType===3?$f(n,o.parentNode):"contains"in n?n.contains(o):n.compareDocumentPosition?!!(n.compareDocumentPosition(o)&16):!1:!1}function Vf(){for(var n=window,o=W();o instanceof n.HTMLIFrameElement;){try{var d=typeof o.contentWindow.location.href=="string"}catch{d=!1}if(d)n=o.contentWindow;else break;o=W(n.document)}return o}function Od(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o&&(o==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||o==="textarea"||n.contentEditable==="true")}function Bj(n){var o=Vf(),d=n.focusedElem,f=n.selectionRange;if(o!==d&&d&&d.ownerDocument&&$f(d.ownerDocument.documentElement,d)){if(f!==null&&Od(d)){if(o=f.start,n=f.end,n===void 0&&(n=o),"selectionStart"in d)d.selectionStart=o,d.selectionEnd=Math.min(n,d.value.length);else if(n=(o=d.ownerDocument||document)&&o.defaultView||window,n.getSelection){n=n.getSelection();var b=d.textContent.length,N=Math.min(f.start,b);f=f.end===void 0?N:Math.min(f.end,b),!n.extend&&N>f&&(b=f,f=N,N=b),b=Uf(d,N);var D=Uf(d,f);b&&D&&(n.rangeCount!==1||n.anchorNode!==b.node||n.anchorOffset!==b.offset||n.focusNode!==D.node||n.focusOffset!==D.offset)&&(o=o.createRange(),o.setStart(b.node,b.offset),n.removeAllRanges(),N>f?(n.addRange(o),n.extend(D.node,D.offset)):(o.setEnd(D.node,D.offset),n.addRange(o)))}}for(o=[],n=d;n=n.parentNode;)n.nodeType===1&&o.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<o.length;d++)n=o[d],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Uj=u&&"documentMode"in document&&11>=document.documentMode,nn=null,Fd=null,bo=null,Bd=!1;function zf(n,o,d){var f=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Bd||nn==null||nn!==W(f)||(f=nn,"selectionStart"in f&&Od(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),bo&&yo(bo,f)||(bo=f,f=rl(Fd,"onSelect"),0<f.length&&(o=new Ad("onSelect","select",null,o,d),n.push({event:o,listeners:f}),o.target=nn)))}function Zi(n,o){var d={};return d[n.toLowerCase()]=o.toLowerCase(),d["Webkit"+n]="webkit"+o,d["Moz"+n]="moz"+o,d}var on={animationend:Zi("Animation","AnimationEnd"),animationiteration:Zi("Animation","AnimationIteration"),animationstart:Zi("Animation","AnimationStart"),transitionend:Zi("Transition","TransitionEnd")},Ud={},Hf={};u&&(Hf=document.createElement("div").style,"AnimationEvent"in window||(delete on.animationend.animation,delete on.animationiteration.animation,delete on.animationstart.animation),"TransitionEvent"in window||delete on.transitionend.transition);function el(n){if(Ud[n])return Ud[n];if(!on[n])return n;var o=on[n],d;for(d in o)if(o.hasOwnProperty(d)&&d in Hf)return Ud[n]=o[d];return n}var Wf=el("animationend"),qf=el("animationiteration"),Yf=el("animationstart"),Kf=el("transitionend"),Gf=new Map,Xf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Us(n,o){Gf.set(n,o),l(o,[n])}for(var $d=0;$d<Xf.length;$d++){var Vd=Xf[$d],$j=Vd.toLowerCase(),Vj=Vd[0].toUpperCase()+Vd.slice(1);Us($j,"on"+Vj)}Us(Wf,"onAnimationEnd"),Us(qf,"onAnimationIteration"),Us(Yf,"onAnimationStart"),Us("dblclick","onDoubleClick"),Us("focusin","onFocus"),Us("focusout","onBlur"),Us(Kf,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zj=new Set("cancel close invalid load scroll toggle".split(" ").concat(vo));function Qf(n,o,d){var f=n.type||"unknown-event";n.currentTarget=d,$w(f,o,void 0,n),n.currentTarget=null}function Jf(n,o){o=(o&4)!==0;for(var d=0;d<n.length;d++){var f=n[d],b=f.event;f=f.listeners;e:{var N=void 0;if(o)for(var D=f.length-1;0<=D;D--){var $=f[D],Y=$.instance,oe=$.currentTarget;if($=$.listener,Y!==N&&b.isPropagationStopped())break e;Qf(b,$,oe),N=Y}else for(D=0;D<f.length;D++){if($=f[D],Y=$.instance,oe=$.currentTarget,$=$.listener,Y!==N&&b.isPropagationStopped())break e;Qf(b,$,oe),N=Y}}}if(Fi)throw n=bd,Fi=!1,bd=null,n}function tt(n,o){var d=o[Xd];d===void 0&&(d=o[Xd]=new Set);var f=n+"__bubble";d.has(f)||(Zf(o,n,2,!1),d.add(f))}function zd(n,o,d){var f=0;o&&(f|=4),Zf(d,n,f,o)}var tl="_reactListening"+Math.random().toString(36).slice(2);function wo(n){if(!n[tl]){n[tl]=!0,a.forEach(function(d){d!=="selectionchange"&&(zj.has(d)||zd(d,!1,n),zd(d,!0,n))});var o=n.nodeType===9?n:n.ownerDocument;o===null||o[tl]||(o[tl]=!0,zd("selectionchange",!1,o))}}function Zf(n,o,d,f){switch(jf(o)){case 1:var b=sj;break;case 4:b=aj;break;default:b=Cd}d=b.bind(null,o,d,n),b=void 0,!yd||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(b=!0),f?b!==void 0?n.addEventListener(o,d,{capture:!0,passive:b}):n.addEventListener(o,d,!0):b!==void 0?n.addEventListener(o,d,{passive:b}):n.addEventListener(o,d,!1)}function Hd(n,o,d,f,b){var N=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var D=f.tag;if(D===3||D===4){var $=f.stateNode.containerInfo;if($===b||$.nodeType===8&&$.parentNode===b)break;if(D===4)for(D=f.return;D!==null;){var Y=D.tag;if((Y===3||Y===4)&&(Y=D.stateNode.containerInfo,Y===b||Y.nodeType===8&&Y.parentNode===b))return;D=D.return}for(;$!==null;){if(D=ja($),D===null)return;if(Y=D.tag,Y===5||Y===6){f=N=D;continue e}$=$.parentNode}}f=f.return}sf(function(){var oe=N,fe=pd(d),ge=[];e:{var he=Gf.get(n);if(he!==void 0){var Ne=Ad,Se=n;switch(n){case"keypress":if(Gi(d)===0)break e;case"keydown":case"keyup":Ne=bj;break;case"focusin":Se="focus",Ne=Md;break;case"focusout":Se="blur",Ne=Md;break;case"beforeblur":case"afterblur":Ne=Md;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ne=Sf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ne=ij;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ne=jj;break;case Wf:case qf:case Yf:Ne=dj;break;case Kf:Ne=kj;break;case"scroll":Ne=nj;break;case"wheel":Ne=Cj;break;case"copy":case"cut":case"paste":Ne=mj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ne=Ef}var Ce=(o&4)!==0,yt=!Ce&&n==="scroll",re=Ce?he!==null?he+"Capture":null:he;Ce=[];for(var Q=oe,ae;Q!==null;){ae=Q;var be=ae.stateNode;if(ae.tag===5&&be!==null&&(ae=be,re!==null&&(be=ro(Q,re),be!=null&&Ce.push(jo(Q,be,ae)))),yt)break;Q=Q.return}0<Ce.length&&(he=new Ne(he,Se,null,d,fe),ge.push({event:he,listeners:Ce}))}}if((o&7)===0){e:{if(he=n==="mouseover"||n==="pointerover",Ne=n==="mouseout"||n==="pointerout",he&&d!==fd&&(Se=d.relatedTarget||d.fromElement)&&(ja(Se)||Se[ps]))break e;if((Ne||he)&&(he=fe.window===fe?fe:(he=fe.ownerDocument)?he.defaultView||he.parentWindow:window,Ne?(Se=d.relatedTarget||d.toElement,Ne=oe,Se=Se?ja(Se):null,Se!==null&&(yt=wa(Se),Se!==yt||Se.tag!==5&&Se.tag!==6)&&(Se=null)):(Ne=null,Se=oe),Ne!==Se)){if(Ce=Sf,be="onMouseLeave",re="onMouseEnter",Q="mouse",(n==="pointerout"||n==="pointerover")&&(Ce=Ef,be="onPointerLeave",re="onPointerEnter",Q="pointer"),yt=Ne==null?he:dn(Ne),ae=Se==null?he:dn(Se),he=new Ce(be,Q+"leave",Ne,d,fe),he.target=yt,he.relatedTarget=ae,be=null,ja(fe)===oe&&(Ce=new Ce(re,Q+"enter",Se,d,fe),Ce.target=ae,Ce.relatedTarget=yt,be=Ce),yt=be,Ne&&Se)t:{for(Ce=Ne,re=Se,Q=0,ae=Ce;ae;ae=ln(ae))Q++;for(ae=0,be=re;be;be=ln(be))ae++;for(;0<Q-ae;)Ce=ln(Ce),Q--;for(;0<ae-Q;)re=ln(re),ae--;for(;Q--;){if(Ce===re||re!==null&&Ce===re.alternate)break t;Ce=ln(Ce),re=ln(re)}Ce=null}else Ce=null;Ne!==null&&ep(ge,he,Ne,Ce,!1),Se!==null&&yt!==null&&ep(ge,yt,Se,Ce,!0)}}e:{if(he=oe?dn(oe):window,Ne=he.nodeName&&he.nodeName.toLowerCase(),Ne==="select"||Ne==="input"&&he.type==="file")var Ee=Rj;else if(Rf(he))if(If)Ee=Oj;else{Ee=Ij;var De=Lj}else(Ne=he.nodeName)&&Ne.toLowerCase()==="input"&&(he.type==="checkbox"||he.type==="radio")&&(Ee=_j);if(Ee&&(Ee=Ee(n,oe))){Lf(ge,Ee,d,fe);break e}De&&De(n,he,oe),n==="focusout"&&(De=he._wrapperState)&&De.controlled&&he.type==="number"&&va(he,"number",he.value)}switch(De=oe?dn(oe):window,n){case"focusin":(Rf(De)||De.contentEditable==="true")&&(nn=De,Fd=oe,bo=null);break;case"focusout":bo=Fd=nn=null;break;case"mousedown":Bd=!0;break;case"contextmenu":case"mouseup":case"dragend":Bd=!1,zf(ge,d,fe);break;case"selectionchange":if(Uj)break;case"keydown":case"keyup":zf(ge,d,fe)}var Me;if(Ld)e:{switch(n){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else an?Df(n,d)&&(Ie="onCompositionEnd"):n==="keydown"&&d.keyCode===229&&(Ie="onCompositionStart");Ie&&(Tf&&d.locale!=="ko"&&(an||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&an&&(Me=Nf()):(Bs=fe,Td="value"in Bs?Bs.value:Bs.textContent,an=!0)),De=rl(oe,Ie),0<De.length&&(Ie=new Cf(Ie,n,null,d,fe),ge.push({event:Ie,listeners:De}),Me?Ie.data=Me:(Me=Mf(d),Me!==null&&(Ie.data=Me)))),(Me=Tj?Aj(n,d):Pj(n,d))&&(oe=rl(oe,"onBeforeInput"),0<oe.length&&(fe=new Cf("onBeforeInput","beforeinput",null,d,fe),ge.push({event:fe,listeners:oe}),fe.data=Me))}Jf(ge,o)})}function jo(n,o,d){return{instance:n,listener:o,currentTarget:d}}function rl(n,o){for(var d=o+"Capture",f=[];n!==null;){var b=n,N=b.stateNode;b.tag===5&&N!==null&&(b=N,N=ro(n,d),N!=null&&f.unshift(jo(n,N,b)),N=ro(n,o),N!=null&&f.push(jo(n,N,b))),n=n.return}return f}function ln(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function ep(n,o,d,f,b){for(var N=o._reactName,D=[];d!==null&&d!==f;){var $=d,Y=$.alternate,oe=$.stateNode;if(Y!==null&&Y===f)break;$.tag===5&&oe!==null&&($=oe,b?(Y=ro(d,N),Y!=null&&D.unshift(jo(d,Y,$))):b||(Y=ro(d,N),Y!=null&&D.push(jo(d,Y,$)))),d=d.return}D.length!==0&&n.push({event:o,listeners:D})}var Hj=/\r\n?/g,Wj=/\u0000|\uFFFD/g;function tp(n){return(typeof n=="string"?n:""+n).replace(Hj,`
`).replace(Wj,"")}function sl(n,o,d){if(o=tp(o),tp(n)!==o&&d)throw Error(s(425))}function al(){}var Wd=null,qd=null;function Yd(n,o){return n==="textarea"||n==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Kd=typeof setTimeout=="function"?setTimeout:void 0,qj=typeof clearTimeout=="function"?clearTimeout:void 0,rp=typeof Promise=="function"?Promise:void 0,Yj=typeof queueMicrotask=="function"?queueMicrotask:typeof rp<"u"?function(n){return rp.resolve(null).then(n).catch(Kj)}:Kd;function Kj(n){setTimeout(function(){throw n})}function Gd(n,o){var d=o,f=0;do{var b=d.nextSibling;if(n.removeChild(d),b&&b.nodeType===8)if(d=b.data,d==="/$"){if(f===0){n.removeChild(b),mo(o);return}f--}else d!=="$"&&d!=="$?"&&d!=="$!"||f++;d=b}while(d);mo(o)}function $s(n){for(;n!=null;n=n.nextSibling){var o=n.nodeType;if(o===1||o===3)break;if(o===8){if(o=n.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return n}function sp(n){n=n.previousSibling;for(var o=0;n;){if(n.nodeType===8){var d=n.data;if(d==="$"||d==="$!"||d==="$?"){if(o===0)return n;o--}else d==="/$"&&o++}n=n.previousSibling}return null}var cn=Math.random().toString(36).slice(2),Gr="__reactFiber$"+cn,No="__reactProps$"+cn,ps="__reactContainer$"+cn,Xd="__reactEvents$"+cn,Gj="__reactListeners$"+cn,Xj="__reactHandles$"+cn;function ja(n){var o=n[Gr];if(o)return o;for(var d=n.parentNode;d;){if(o=d[ps]||d[Gr]){if(d=o.alternate,o.child!==null||d!==null&&d.child!==null)for(n=sp(n);n!==null;){if(d=n[Gr])return d;n=sp(n)}return o}n=d,d=n.parentNode}return null}function ko(n){return n=n[Gr]||n[ps],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function dn(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(s(33))}function nl(n){return n[No]||null}var Qd=[],un=-1;function Vs(n){return{current:n}}function rt(n){0>un||(n.current=Qd[un],Qd[un]=null,un--)}function Ze(n,o){un++,Qd[un]=n.current,n.current=o}var zs={},zt=Vs(zs),rr=Vs(!1),Na=zs;function mn(n,o){var d=n.type.contextTypes;if(!d)return zs;var f=n.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===o)return f.__reactInternalMemoizedMaskedChildContext;var b={},N;for(N in d)b[N]=o[N];return f&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=o,n.__reactInternalMemoizedMaskedChildContext=b),b}function sr(n){return n=n.childContextTypes,n!=null}function ol(){rt(rr),rt(zt)}function ap(n,o,d){if(zt.current!==zs)throw Error(s(168));Ze(zt,o),Ze(rr,d)}function np(n,o,d){var f=n.stateNode;if(o=o.childContextTypes,typeof f.getChildContext!="function")return d;f=f.getChildContext();for(var b in f)if(!(b in o))throw Error(s(108,ue(n)||"Unknown",b));return G({},d,f)}function il(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||zs,Na=zt.current,Ze(zt,n),Ze(rr,rr.current),!0}function op(n,o,d){var f=n.stateNode;if(!f)throw Error(s(169));d?(n=np(n,o,Na),f.__reactInternalMemoizedMergedChildContext=n,rt(rr),rt(zt),Ze(zt,n)):rt(rr),Ze(rr,d)}var gs=null,ll=!1,Jd=!1;function ip(n){gs===null?gs=[n]:gs.push(n)}function Qj(n){ll=!0,ip(n)}function Hs(){if(!Jd&&gs!==null){Jd=!0;var n=0,o=Ge;try{var d=gs;for(Ge=1;n<d.length;n++){var f=d[n];do f=f(!0);while(f!==null)}gs=null,ll=!1}catch(b){throw gs!==null&&(gs=gs.slice(n+1)),cf(vd,Hs),b}finally{Ge=o,Jd=!1}}return null}var hn=[],fn=0,cl=null,dl=0,br=[],vr=0,ka=null,xs=1,ys="";function Sa(n,o){hn[fn++]=dl,hn[fn++]=cl,cl=n,dl=o}function lp(n,o,d){br[vr++]=xs,br[vr++]=ys,br[vr++]=ka,ka=n;var f=xs;n=ys;var b=32-Lr(f)-1;f&=~(1<<b),d+=1;var N=32-Lr(o)+b;if(30<N){var D=b-b%5;N=(f&(1<<D)-1).toString(32),f>>=D,b-=D,xs=1<<32-Lr(o)+b|d<<b|f,ys=N+n}else xs=1<<N|d<<b|f,ys=n}function Zd(n){n.return!==null&&(Sa(n,1),lp(n,1,0))}function eu(n){for(;n===cl;)cl=hn[--fn],hn[fn]=null,dl=hn[--fn],hn[fn]=null;for(;n===ka;)ka=br[--vr],br[vr]=null,ys=br[--vr],br[vr]=null,xs=br[--vr],br[vr]=null}var fr=null,pr=null,at=!1,_r=null;function cp(n,o){var d=kr(5,null,null,0);d.elementType="DELETED",d.stateNode=o,d.return=n,o=n.deletions,o===null?(n.deletions=[d],n.flags|=16):o.push(d)}function dp(n,o){switch(n.tag){case 5:var d=n.type;return o=o.nodeType!==1||d.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(n.stateNode=o,fr=n,pr=$s(o.firstChild),!0):!1;case 6:return o=n.pendingProps===""||o.nodeType!==3?null:o,o!==null?(n.stateNode=o,fr=n,pr=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(d=ka!==null?{id:xs,overflow:ys}:null,n.memoizedState={dehydrated:o,treeContext:d,retryLane:1073741824},d=kr(18,null,null,0),d.stateNode=o,d.return=n,n.child=d,fr=n,pr=null,!0):!1;default:return!1}}function tu(n){return(n.mode&1)!==0&&(n.flags&128)===0}function ru(n){if(at){var o=pr;if(o){var d=o;if(!dp(n,o)){if(tu(n))throw Error(s(418));o=$s(d.nextSibling);var f=fr;o&&dp(n,o)?cp(f,d):(n.flags=n.flags&-4097|2,at=!1,fr=n)}}else{if(tu(n))throw Error(s(418));n.flags=n.flags&-4097|2,at=!1,fr=n}}}function up(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;fr=n}function ul(n){if(n!==fr)return!1;if(!at)return up(n),at=!0,!1;var o;if((o=n.tag!==3)&&!(o=n.tag!==5)&&(o=n.type,o=o!=="head"&&o!=="body"&&!Yd(n.type,n.memoizedProps)),o&&(o=pr)){if(tu(n))throw mp(),Error(s(418));for(;o;)cp(n,o),o=$s(o.nextSibling)}if(up(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,o=0;n;){if(n.nodeType===8){var d=n.data;if(d==="/$"){if(o===0){pr=$s(n.nextSibling);break e}o--}else d!=="$"&&d!=="$!"&&d!=="$?"||o++}n=n.nextSibling}pr=null}}else pr=fr?$s(n.stateNode.nextSibling):null;return!0}function mp(){for(var n=pr;n;)n=$s(n.nextSibling)}function pn(){pr=fr=null,at=!1}function su(n){_r===null?_r=[n]:_r.push(n)}var Jj=A.ReactCurrentBatchConfig;function So(n,o,d){if(n=d.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(s(309));var f=d.stateNode}if(!f)throw Error(s(147,n));var b=f,N=""+n;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===N?o.ref:(o=function(D){var $=b.refs;D===null?delete $[N]:$[N]=D},o._stringRef=N,o)}if(typeof n!="string")throw Error(s(284));if(!d._owner)throw Error(s(290,n))}return n}function ml(n,o){throw n=Object.prototype.toString.call(o),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":n))}function hp(n){var o=n._init;return o(n._payload)}function fp(n){function o(re,Q){if(n){var ae=re.deletions;ae===null?(re.deletions=[Q],re.flags|=16):ae.push(Q)}}function d(re,Q){if(!n)return null;for(;Q!==null;)o(re,Q),Q=Q.sibling;return null}function f(re,Q){for(re=new Map;Q!==null;)Q.key!==null?re.set(Q.key,Q):re.set(Q.index,Q),Q=Q.sibling;return re}function b(re,Q){return re=Js(re,Q),re.index=0,re.sibling=null,re}function N(re,Q,ae){return re.index=ae,n?(ae=re.alternate,ae!==null?(ae=ae.index,ae<Q?(re.flags|=2,Q):ae):(re.flags|=2,Q)):(re.flags|=1048576,Q)}function D(re){return n&&re.alternate===null&&(re.flags|=2),re}function $(re,Q,ae,be){return Q===null||Q.tag!==6?(Q=Ku(ae,re.mode,be),Q.return=re,Q):(Q=b(Q,ae),Q.return=re,Q)}function Y(re,Q,ae,be){var Ee=ae.type;return Ee===T?fe(re,Q,ae.props.children,be,ae.key):Q!==null&&(Q.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===J&&hp(Ee)===Q.type)?(be=b(Q,ae.props),be.ref=So(re,Q,ae),be.return=re,be):(be=_l(ae.type,ae.key,ae.props,null,re.mode,be),be.ref=So(re,Q,ae),be.return=re,be)}function oe(re,Q,ae,be){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==ae.containerInfo||Q.stateNode.implementation!==ae.implementation?(Q=Gu(ae,re.mode,be),Q.return=re,Q):(Q=b(Q,ae.children||[]),Q.return=re,Q)}function fe(re,Q,ae,be,Ee){return Q===null||Q.tag!==7?(Q=Ra(ae,re.mode,be,Ee),Q.return=re,Q):(Q=b(Q,ae),Q.return=re,Q)}function ge(re,Q,ae){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Q=Ku(""+Q,re.mode,ae),Q.return=re,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case P:return ae=_l(Q.type,Q.key,Q.props,null,re.mode,ae),ae.ref=So(re,null,Q),ae.return=re,ae;case F:return Q=Gu(Q,re.mode,ae),Q.return=re,Q;case J:var be=Q._init;return ge(re,be(Q._payload),ae)}if(Rr(Q)||I(Q))return Q=Ra(Q,re.mode,ae,null),Q.return=re,Q;ml(re,Q)}return null}function he(re,Q,ae,be){var Ee=Q!==null?Q.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number")return Ee!==null?null:$(re,Q,""+ae,be);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case P:return ae.key===Ee?Y(re,Q,ae,be):null;case F:return ae.key===Ee?oe(re,Q,ae,be):null;case J:return Ee=ae._init,he(re,Q,Ee(ae._payload),be)}if(Rr(ae)||I(ae))return Ee!==null?null:fe(re,Q,ae,be,null);ml(re,ae)}return null}function Ne(re,Q,ae,be,Ee){if(typeof be=="string"&&be!==""||typeof be=="number")return re=re.get(ae)||null,$(Q,re,""+be,Ee);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case P:return re=re.get(be.key===null?ae:be.key)||null,Y(Q,re,be,Ee);case F:return re=re.get(be.key===null?ae:be.key)||null,oe(Q,re,be,Ee);case J:var De=be._init;return Ne(re,Q,ae,De(be._payload),Ee)}if(Rr(be)||I(be))return re=re.get(ae)||null,fe(Q,re,be,Ee,null);ml(Q,be)}return null}function Se(re,Q,ae,be){for(var Ee=null,De=null,Me=Q,Ie=Q=0,Lt=null;Me!==null&&Ie<ae.length;Ie++){Me.index>Ie?(Lt=Me,Me=null):Lt=Me.sibling;var qe=he(re,Me,ae[Ie],be);if(qe===null){Me===null&&(Me=Lt);break}n&&Me&&qe.alternate===null&&o(re,Me),Q=N(qe,Q,Ie),De===null?Ee=qe:De.sibling=qe,De=qe,Me=Lt}if(Ie===ae.length)return d(re,Me),at&&Sa(re,Ie),Ee;if(Me===null){for(;Ie<ae.length;Ie++)Me=ge(re,ae[Ie],be),Me!==null&&(Q=N(Me,Q,Ie),De===null?Ee=Me:De.sibling=Me,De=Me);return at&&Sa(re,Ie),Ee}for(Me=f(re,Me);Ie<ae.length;Ie++)Lt=Ne(Me,re,Ie,ae[Ie],be),Lt!==null&&(n&&Lt.alternate!==null&&Me.delete(Lt.key===null?Ie:Lt.key),Q=N(Lt,Q,Ie),De===null?Ee=Lt:De.sibling=Lt,De=Lt);return n&&Me.forEach(function(Zs){return o(re,Zs)}),at&&Sa(re,Ie),Ee}function Ce(re,Q,ae,be){var Ee=I(ae);if(typeof Ee!="function")throw Error(s(150));if(ae=Ee.call(ae),ae==null)throw Error(s(151));for(var De=Ee=null,Me=Q,Ie=Q=0,Lt=null,qe=ae.next();Me!==null&&!qe.done;Ie++,qe=ae.next()){Me.index>Ie?(Lt=Me,Me=null):Lt=Me.sibling;var Zs=he(re,Me,qe.value,be);if(Zs===null){Me===null&&(Me=Lt);break}n&&Me&&Zs.alternate===null&&o(re,Me),Q=N(Zs,Q,Ie),De===null?Ee=Zs:De.sibling=Zs,De=Zs,Me=Lt}if(qe.done)return d(re,Me),at&&Sa(re,Ie),Ee;if(Me===null){for(;!qe.done;Ie++,qe=ae.next())qe=ge(re,qe.value,be),qe!==null&&(Q=N(qe,Q,Ie),De===null?Ee=qe:De.sibling=qe,De=qe);return at&&Sa(re,Ie),Ee}for(Me=f(re,Me);!qe.done;Ie++,qe=ae.next())qe=Ne(Me,re,Ie,qe.value,be),qe!==null&&(n&&qe.alternate!==null&&Me.delete(qe.key===null?Ie:qe.key),Q=N(qe,Q,Ie),De===null?Ee=qe:De.sibling=qe,De=qe);return n&&Me.forEach(function(DN){return o(re,DN)}),at&&Sa(re,Ie),Ee}function yt(re,Q,ae,be){if(typeof ae=="object"&&ae!==null&&ae.type===T&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case P:e:{for(var Ee=ae.key,De=Q;De!==null;){if(De.key===Ee){if(Ee=ae.type,Ee===T){if(De.tag===7){d(re,De.sibling),Q=b(De,ae.props.children),Q.return=re,re=Q;break e}}else if(De.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===J&&hp(Ee)===De.type){d(re,De.sibling),Q=b(De,ae.props),Q.ref=So(re,De,ae),Q.return=re,re=Q;break e}d(re,De);break}else o(re,De);De=De.sibling}ae.type===T?(Q=Ra(ae.props.children,re.mode,be,ae.key),Q.return=re,re=Q):(be=_l(ae.type,ae.key,ae.props,null,re.mode,be),be.ref=So(re,Q,ae),be.return=re,re=be)}return D(re);case F:e:{for(De=ae.key;Q!==null;){if(Q.key===De)if(Q.tag===4&&Q.stateNode.containerInfo===ae.containerInfo&&Q.stateNode.implementation===ae.implementation){d(re,Q.sibling),Q=b(Q,ae.children||[]),Q.return=re,re=Q;break e}else{d(re,Q);break}else o(re,Q);Q=Q.sibling}Q=Gu(ae,re.mode,be),Q.return=re,re=Q}return D(re);case J:return De=ae._init,yt(re,Q,De(ae._payload),be)}if(Rr(ae))return Se(re,Q,ae,be);if(I(ae))return Ce(re,Q,ae,be);ml(re,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"?(ae=""+ae,Q!==null&&Q.tag===6?(d(re,Q.sibling),Q=b(Q,ae),Q.return=re,re=Q):(d(re,Q),Q=Ku(ae,re.mode,be),Q.return=re,re=Q),D(re)):d(re,Q)}return yt}var gn=fp(!0),pp=fp(!1),hl=Vs(null),fl=null,xn=null,au=null;function nu(){au=xn=fl=null}function ou(n){var o=hl.current;rt(hl),n._currentValue=o}function iu(n,o,d){for(;n!==null;){var f=n.alternate;if((n.childLanes&o)!==o?(n.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),n===d)break;n=n.return}}function yn(n,o){fl=n,au=xn=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&o)!==0&&(ar=!0),n.firstContext=null)}function wr(n){var o=n._currentValue;if(au!==n)if(n={context:n,memoizedValue:o,next:null},xn===null){if(fl===null)throw Error(s(308));xn=n,fl.dependencies={lanes:0,firstContext:n}}else xn=xn.next=n;return o}var Ca=null;function lu(n){Ca===null?Ca=[n]:Ca.push(n)}function gp(n,o,d,f){var b=o.interleaved;return b===null?(d.next=d,lu(o)):(d.next=b.next,b.next=d),o.interleaved=d,bs(n,f)}function bs(n,o){n.lanes|=o;var d=n.alternate;for(d!==null&&(d.lanes|=o),d=n,n=n.return;n!==null;)n.childLanes|=o,d=n.alternate,d!==null&&(d.childLanes|=o),d=n,n=n.return;return d.tag===3?d.stateNode:null}var Ws=!1;function cu(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xp(n,o){n=n.updateQueue,o.updateQueue===n&&(o.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function vs(n,o){return{eventTime:n,lane:o,tag:0,payload:null,callback:null,next:null}}function qs(n,o,d){var f=n.updateQueue;if(f===null)return null;if(f=f.shared,(He&2)!==0){var b=f.pending;return b===null?o.next=o:(o.next=b.next,b.next=o),f.pending=o,bs(n,d)}return b=f.interleaved,b===null?(o.next=o,lu(f)):(o.next=b.next,b.next=o),f.interleaved=o,bs(n,d)}function pl(n,o,d){if(o=o.updateQueue,o!==null&&(o=o.shared,(d&4194240)!==0)){var f=o.lanes;f&=n.pendingLanes,d|=f,o.lanes=d,Nd(n,d)}}function yp(n,o){var d=n.updateQueue,f=n.alternate;if(f!==null&&(f=f.updateQueue,d===f)){var b=null,N=null;if(d=d.firstBaseUpdate,d!==null){do{var D={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};N===null?b=N=D:N=N.next=D,d=d.next}while(d!==null);N===null?b=N=o:N=N.next=o}else b=N=o;d={baseState:f.baseState,firstBaseUpdate:b,lastBaseUpdate:N,shared:f.shared,effects:f.effects},n.updateQueue=d;return}n=d.lastBaseUpdate,n===null?d.firstBaseUpdate=o:n.next=o,d.lastBaseUpdate=o}function gl(n,o,d,f){var b=n.updateQueue;Ws=!1;var N=b.firstBaseUpdate,D=b.lastBaseUpdate,$=b.shared.pending;if($!==null){b.shared.pending=null;var Y=$,oe=Y.next;Y.next=null,D===null?N=oe:D.next=oe,D=Y;var fe=n.alternate;fe!==null&&(fe=fe.updateQueue,$=fe.lastBaseUpdate,$!==D&&($===null?fe.firstBaseUpdate=oe:$.next=oe,fe.lastBaseUpdate=Y))}if(N!==null){var ge=b.baseState;D=0,fe=oe=Y=null,$=N;do{var he=$.lane,Ne=$.eventTime;if((f&he)===he){fe!==null&&(fe=fe.next={eventTime:Ne,lane:0,tag:$.tag,payload:$.payload,callback:$.callback,next:null});e:{var Se=n,Ce=$;switch(he=o,Ne=d,Ce.tag){case 1:if(Se=Ce.payload,typeof Se=="function"){ge=Se.call(Ne,ge,he);break e}ge=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Ce.payload,he=typeof Se=="function"?Se.call(Ne,ge,he):Se,he==null)break e;ge=G({},ge,he);break e;case 2:Ws=!0}}$.callback!==null&&$.lane!==0&&(n.flags|=64,he=b.effects,he===null?b.effects=[$]:he.push($))}else Ne={eventTime:Ne,lane:he,tag:$.tag,payload:$.payload,callback:$.callback,next:null},fe===null?(oe=fe=Ne,Y=ge):fe=fe.next=Ne,D|=he;if($=$.next,$===null){if($=b.shared.pending,$===null)break;he=$,$=he.next,he.next=null,b.lastBaseUpdate=he,b.shared.pending=null}}while(!0);if(fe===null&&(Y=ge),b.baseState=Y,b.firstBaseUpdate=oe,b.lastBaseUpdate=fe,o=b.shared.interleaved,o!==null){b=o;do D|=b.lane,b=b.next;while(b!==o)}else N===null&&(b.shared.lanes=0);Aa|=D,n.lanes=D,n.memoizedState=ge}}function bp(n,o,d){if(n=o.effects,o.effects=null,n!==null)for(o=0;o<n.length;o++){var f=n[o],b=f.callback;if(b!==null){if(f.callback=null,f=d,typeof b!="function")throw Error(s(191,b));b.call(f)}}}var Co={},Xr=Vs(Co),Eo=Vs(Co),To=Vs(Co);function Ea(n){if(n===Co)throw Error(s(174));return n}function du(n,o){switch(Ze(To,o),Ze(Eo,n),Ze(Xr,Co),n=o.nodeType,n){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:dt(null,"");break;default:n=n===8?o.parentNode:o,o=n.namespaceURI||null,n=n.tagName,o=dt(o,n)}rt(Xr),Ze(Xr,o)}function bn(){rt(Xr),rt(Eo),rt(To)}function vp(n){Ea(To.current);var o=Ea(Xr.current),d=dt(o,n.type);o!==d&&(Ze(Eo,n),Ze(Xr,d))}function uu(n){Eo.current===n&&(rt(Xr),rt(Eo))}var mt=Vs(0);function xl(n){for(var o=n;o!==null;){if(o.tag===13){var d=o.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var mu=[];function hu(){for(var n=0;n<mu.length;n++)mu[n]._workInProgressVersionPrimary=null;mu.length=0}var yl=A.ReactCurrentDispatcher,fu=A.ReactCurrentBatchConfig,Ta=0,ht=null,At=null,Mt=null,bl=!1,Ao=!1,Po=0,Zj=0;function Ht(){throw Error(s(321))}function pu(n,o){if(o===null)return!1;for(var d=0;d<o.length&&d<n.length;d++)if(!Ir(n[d],o[d]))return!1;return!0}function gu(n,o,d,f,b,N){if(Ta=N,ht=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,yl.current=n===null||n.memoizedState===null?sN:aN,n=d(f,b),Ao){N=0;do{if(Ao=!1,Po=0,25<=N)throw Error(s(301));N+=1,Mt=At=null,o.updateQueue=null,yl.current=nN,n=d(f,b)}while(Ao)}if(yl.current=jl,o=At!==null&&At.next!==null,Ta=0,Mt=At=ht=null,bl=!1,o)throw Error(s(300));return n}function xu(){var n=Po!==0;return Po=0,n}function Qr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?ht.memoizedState=Mt=n:Mt=Mt.next=n,Mt}function jr(){if(At===null){var n=ht.alternate;n=n!==null?n.memoizedState:null}else n=At.next;var o=Mt===null?ht.memoizedState:Mt.next;if(o!==null)Mt=o,At=n;else{if(n===null)throw Error(s(310));At=n,n={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},Mt===null?ht.memoizedState=Mt=n:Mt=Mt.next=n}return Mt}function Do(n,o){return typeof o=="function"?o(n):o}function yu(n){var o=jr(),d=o.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=n;var f=At,b=f.baseQueue,N=d.pending;if(N!==null){if(b!==null){var D=b.next;b.next=N.next,N.next=D}f.baseQueue=b=N,d.pending=null}if(b!==null){N=b.next,f=f.baseState;var $=D=null,Y=null,oe=N;do{var fe=oe.lane;if((Ta&fe)===fe)Y!==null&&(Y=Y.next={lane:0,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),f=oe.hasEagerState?oe.eagerState:n(f,oe.action);else{var ge={lane:fe,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null};Y===null?($=Y=ge,D=f):Y=Y.next=ge,ht.lanes|=fe,Aa|=fe}oe=oe.next}while(oe!==null&&oe!==N);Y===null?D=f:Y.next=$,Ir(f,o.memoizedState)||(ar=!0),o.memoizedState=f,o.baseState=D,o.baseQueue=Y,d.lastRenderedState=f}if(n=d.interleaved,n!==null){b=n;do N=b.lane,ht.lanes|=N,Aa|=N,b=b.next;while(b!==n)}else b===null&&(d.lanes=0);return[o.memoizedState,d.dispatch]}function bu(n){var o=jr(),d=o.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=n;var f=d.dispatch,b=d.pending,N=o.memoizedState;if(b!==null){d.pending=null;var D=b=b.next;do N=n(N,D.action),D=D.next;while(D!==b);Ir(N,o.memoizedState)||(ar=!0),o.memoizedState=N,o.baseQueue===null&&(o.baseState=N),d.lastRenderedState=N}return[N,f]}function wp(){}function jp(n,o){var d=ht,f=jr(),b=o(),N=!Ir(f.memoizedState,b);if(N&&(f.memoizedState=b,ar=!0),f=f.queue,vu(Sp.bind(null,d,f,n),[n]),f.getSnapshot!==o||N||Mt!==null&&Mt.memoizedState.tag&1){if(d.flags|=2048,Mo(9,kp.bind(null,d,f,b,o),void 0,null),Rt===null)throw Error(s(349));(Ta&30)!==0||Np(d,o,b)}return b}function Np(n,o,d){n.flags|=16384,n={getSnapshot:o,value:d},o=ht.updateQueue,o===null?(o={lastEffect:null,stores:null},ht.updateQueue=o,o.stores=[n]):(d=o.stores,d===null?o.stores=[n]:d.push(n))}function kp(n,o,d,f){o.value=d,o.getSnapshot=f,Cp(o)&&Ep(n)}function Sp(n,o,d){return d(function(){Cp(o)&&Ep(n)})}function Cp(n){var o=n.getSnapshot;n=n.value;try{var d=o();return!Ir(n,d)}catch{return!0}}function Ep(n){var o=bs(n,1);o!==null&&Ur(o,n,1,-1)}function Tp(n){var o=Qr();return typeof n=="function"&&(n=n()),o.memoizedState=o.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Do,lastRenderedState:n},o.queue=n,n=n.dispatch=rN.bind(null,ht,n),[o.memoizedState,n]}function Mo(n,o,d,f){return n={tag:n,create:o,destroy:d,deps:f,next:null},o=ht.updateQueue,o===null?(o={lastEffect:null,stores:null},ht.updateQueue=o,o.lastEffect=n.next=n):(d=o.lastEffect,d===null?o.lastEffect=n.next=n:(f=d.next,d.next=n,n.next=f,o.lastEffect=n)),n}function Ap(){return jr().memoizedState}function vl(n,o,d,f){var b=Qr();ht.flags|=n,b.memoizedState=Mo(1|o,d,void 0,f===void 0?null:f)}function wl(n,o,d,f){var b=jr();f=f===void 0?null:f;var N=void 0;if(At!==null){var D=At.memoizedState;if(N=D.destroy,f!==null&&pu(f,D.deps)){b.memoizedState=Mo(o,d,N,f);return}}ht.flags|=n,b.memoizedState=Mo(1|o,d,N,f)}function Pp(n,o){return vl(8390656,8,n,o)}function vu(n,o){return wl(2048,8,n,o)}function Dp(n,o){return wl(4,2,n,o)}function Mp(n,o){return wl(4,4,n,o)}function Rp(n,o){if(typeof o=="function")return n=n(),o(n),function(){o(null)};if(o!=null)return n=n(),o.current=n,function(){o.current=null}}function Lp(n,o,d){return d=d!=null?d.concat([n]):null,wl(4,4,Rp.bind(null,o,n),d)}function wu(){}function Ip(n,o){var d=jr();o=o===void 0?null:o;var f=d.memoizedState;return f!==null&&o!==null&&pu(o,f[1])?f[0]:(d.memoizedState=[n,o],n)}function _p(n,o){var d=jr();o=o===void 0?null:o;var f=d.memoizedState;return f!==null&&o!==null&&pu(o,f[1])?f[0]:(n=n(),d.memoizedState=[n,o],n)}function Op(n,o,d){return(Ta&21)===0?(n.baseState&&(n.baseState=!1,ar=!0),n.memoizedState=d):(Ir(d,o)||(d=hf(),ht.lanes|=d,Aa|=d,n.baseState=!0),o)}function eN(n,o){var d=Ge;Ge=d!==0&&4>d?d:4,n(!0);var f=fu.transition;fu.transition={};try{n(!1),o()}finally{Ge=d,fu.transition=f}}function Fp(){return jr().memoizedState}function tN(n,o,d){var f=Xs(n);if(d={lane:f,action:d,hasEagerState:!1,eagerState:null,next:null},Bp(n))Up(o,d);else if(d=gp(n,o,d,f),d!==null){var b=Qt();Ur(d,n,f,b),$p(d,o,f)}}function rN(n,o,d){var f=Xs(n),b={lane:f,action:d,hasEagerState:!1,eagerState:null,next:null};if(Bp(n))Up(o,b);else{var N=n.alternate;if(n.lanes===0&&(N===null||N.lanes===0)&&(N=o.lastRenderedReducer,N!==null))try{var D=o.lastRenderedState,$=N(D,d);if(b.hasEagerState=!0,b.eagerState=$,Ir($,D)){var Y=o.interleaved;Y===null?(b.next=b,lu(o)):(b.next=Y.next,Y.next=b),o.interleaved=b;return}}catch{}finally{}d=gp(n,o,b,f),d!==null&&(b=Qt(),Ur(d,n,f,b),$p(d,o,f))}}function Bp(n){var o=n.alternate;return n===ht||o!==null&&o===ht}function Up(n,o){Ao=bl=!0;var d=n.pending;d===null?o.next=o:(o.next=d.next,d.next=o),n.pending=o}function $p(n,o,d){if((d&4194240)!==0){var f=o.lanes;f&=n.pendingLanes,d|=f,o.lanes=d,Nd(n,d)}}var jl={readContext:wr,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useInsertionEffect:Ht,useLayoutEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useMutableSource:Ht,useSyncExternalStore:Ht,useId:Ht,unstable_isNewReconciler:!1},sN={readContext:wr,useCallback:function(n,o){return Qr().memoizedState=[n,o===void 0?null:o],n},useContext:wr,useEffect:Pp,useImperativeHandle:function(n,o,d){return d=d!=null?d.concat([n]):null,vl(4194308,4,Rp.bind(null,o,n),d)},useLayoutEffect:function(n,o){return vl(4194308,4,n,o)},useInsertionEffect:function(n,o){return vl(4,2,n,o)},useMemo:function(n,o){var d=Qr();return o=o===void 0?null:o,n=n(),d.memoizedState=[n,o],n},useReducer:function(n,o,d){var f=Qr();return o=d!==void 0?d(o):o,f.memoizedState=f.baseState=o,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:o},f.queue=n,n=n.dispatch=tN.bind(null,ht,n),[f.memoizedState,n]},useRef:function(n){var o=Qr();return n={current:n},o.memoizedState=n},useState:Tp,useDebugValue:wu,useDeferredValue:function(n){return Qr().memoizedState=n},useTransition:function(){var n=Tp(!1),o=n[0];return n=eN.bind(null,n[1]),Qr().memoizedState=n,[o,n]},useMutableSource:function(){},useSyncExternalStore:function(n,o,d){var f=ht,b=Qr();if(at){if(d===void 0)throw Error(s(407));d=d()}else{if(d=o(),Rt===null)throw Error(s(349));(Ta&30)!==0||Np(f,o,d)}b.memoizedState=d;var N={value:d,getSnapshot:o};return b.queue=N,Pp(Sp.bind(null,f,N,n),[n]),f.flags|=2048,Mo(9,kp.bind(null,f,N,d,o),void 0,null),d},useId:function(){var n=Qr(),o=Rt.identifierPrefix;if(at){var d=ys,f=xs;d=(f&~(1<<32-Lr(f)-1)).toString(32)+d,o=":"+o+"R"+d,d=Po++,0<d&&(o+="H"+d.toString(32)),o+=":"}else d=Zj++,o=":"+o+"r"+d.toString(32)+":";return n.memoizedState=o},unstable_isNewReconciler:!1},aN={readContext:wr,useCallback:Ip,useContext:wr,useEffect:vu,useImperativeHandle:Lp,useInsertionEffect:Dp,useLayoutEffect:Mp,useMemo:_p,useReducer:yu,useRef:Ap,useState:function(){return yu(Do)},useDebugValue:wu,useDeferredValue:function(n){var o=jr();return Op(o,At.memoizedState,n)},useTransition:function(){var n=yu(Do)[0],o=jr().memoizedState;return[n,o]},useMutableSource:wp,useSyncExternalStore:jp,useId:Fp,unstable_isNewReconciler:!1},nN={readContext:wr,useCallback:Ip,useContext:wr,useEffect:vu,useImperativeHandle:Lp,useInsertionEffect:Dp,useLayoutEffect:Mp,useMemo:_p,useReducer:bu,useRef:Ap,useState:function(){return bu(Do)},useDebugValue:wu,useDeferredValue:function(n){var o=jr();return At===null?o.memoizedState=n:Op(o,At.memoizedState,n)},useTransition:function(){var n=bu(Do)[0],o=jr().memoizedState;return[n,o]},useMutableSource:wp,useSyncExternalStore:jp,useId:Fp,unstable_isNewReconciler:!1};function Or(n,o){if(n&&n.defaultProps){o=G({},o),n=n.defaultProps;for(var d in n)o[d]===void 0&&(o[d]=n[d]);return o}return o}function ju(n,o,d,f){o=n.memoizedState,d=d(f,o),d=d==null?o:G({},o,d),n.memoizedState=d,n.lanes===0&&(n.updateQueue.baseState=d)}var Nl={isMounted:function(n){return(n=n._reactInternals)?wa(n)===n:!1},enqueueSetState:function(n,o,d){n=n._reactInternals;var f=Qt(),b=Xs(n),N=vs(f,b);N.payload=o,d!=null&&(N.callback=d),o=qs(n,N,b),o!==null&&(Ur(o,n,b,f),pl(o,n,b))},enqueueReplaceState:function(n,o,d){n=n._reactInternals;var f=Qt(),b=Xs(n),N=vs(f,b);N.tag=1,N.payload=o,d!=null&&(N.callback=d),o=qs(n,N,b),o!==null&&(Ur(o,n,b,f),pl(o,n,b))},enqueueForceUpdate:function(n,o){n=n._reactInternals;var d=Qt(),f=Xs(n),b=vs(d,f);b.tag=2,o!=null&&(b.callback=o),o=qs(n,b,f),o!==null&&(Ur(o,n,f,d),pl(o,n,f))}};function Vp(n,o,d,f,b,N,D){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(f,N,D):o.prototype&&o.prototype.isPureReactComponent?!yo(d,f)||!yo(b,N):!0}function zp(n,o,d){var f=!1,b=zs,N=o.contextType;return typeof N=="object"&&N!==null?N=wr(N):(b=sr(o)?Na:zt.current,f=o.contextTypes,N=(f=f!=null)?mn(n,b):zs),o=new o(d,N),n.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Nl,n.stateNode=o,o._reactInternals=n,f&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=b,n.__reactInternalMemoizedMaskedChildContext=N),o}function Hp(n,o,d,f){n=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(d,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(d,f),o.state!==n&&Nl.enqueueReplaceState(o,o.state,null)}function Nu(n,o,d,f){var b=n.stateNode;b.props=d,b.state=n.memoizedState,b.refs={},cu(n);var N=o.contextType;typeof N=="object"&&N!==null?b.context=wr(N):(N=sr(o)?Na:zt.current,b.context=mn(n,N)),b.state=n.memoizedState,N=o.getDerivedStateFromProps,typeof N=="function"&&(ju(n,o,N,d),b.state=n.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(o=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),o!==b.state&&Nl.enqueueReplaceState(b,b.state,null),gl(n,d,b,f),b.state=n.memoizedState),typeof b.componentDidMount=="function"&&(n.flags|=4194308)}function vn(n,o){try{var d="",f=o;do d+=V(f),f=f.return;while(f);var b=d}catch(N){b=`
Error generating stack: `+N.message+`
`+N.stack}return{value:n,source:o,stack:b,digest:null}}function ku(n,o,d){return{value:n,source:null,stack:d??null,digest:o??null}}function Su(n,o){try{console.error(o.value)}catch(d){setTimeout(function(){throw d})}}var oN=typeof WeakMap=="function"?WeakMap:Map;function Wp(n,o,d){d=vs(-1,d),d.tag=3,d.payload={element:null};var f=o.value;return d.callback=function(){Pl||(Pl=!0,Uu=f),Su(n,o)},d}function qp(n,o,d){d=vs(-1,d),d.tag=3;var f=n.type.getDerivedStateFromError;if(typeof f=="function"){var b=o.value;d.payload=function(){return f(b)},d.callback=function(){Su(n,o)}}var N=n.stateNode;return N!==null&&typeof N.componentDidCatch=="function"&&(d.callback=function(){Su(n,o),typeof f!="function"&&(Ks===null?Ks=new Set([this]):Ks.add(this));var D=o.stack;this.componentDidCatch(o.value,{componentStack:D!==null?D:""})}),d}function Yp(n,o,d){var f=n.pingCache;if(f===null){f=n.pingCache=new oN;var b=new Set;f.set(o,b)}else b=f.get(o),b===void 0&&(b=new Set,f.set(o,b));b.has(d)||(b.add(d),n=vN.bind(null,n,o,d),o.then(n,n))}function Kp(n){do{var o;if((o=n.tag===13)&&(o=n.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return n;n=n.return}while(n!==null);return null}function Gp(n,o,d,f,b){return(n.mode&1)===0?(n===o?n.flags|=65536:(n.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(o=vs(-1,1),o.tag=2,qs(d,o,1))),d.lanes|=1),n):(n.flags|=65536,n.lanes=b,n)}var iN=A.ReactCurrentOwner,ar=!1;function Xt(n,o,d,f){o.child=n===null?pp(o,null,d,f):gn(o,n.child,d,f)}function Xp(n,o,d,f,b){d=d.render;var N=o.ref;return yn(o,b),f=gu(n,o,d,f,N,b),d=xu(),n!==null&&!ar?(o.updateQueue=n.updateQueue,o.flags&=-2053,n.lanes&=~b,ws(n,o,b)):(at&&d&&Zd(o),o.flags|=1,Xt(n,o,f,b),o.child)}function Qp(n,o,d,f,b){if(n===null){var N=d.type;return typeof N=="function"&&!Yu(N)&&N.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(o.tag=15,o.type=N,Jp(n,o,N,f,b)):(n=_l(d.type,null,f,o,o.mode,b),n.ref=o.ref,n.return=o,o.child=n)}if(N=n.child,(n.lanes&b)===0){var D=N.memoizedProps;if(d=d.compare,d=d!==null?d:yo,d(D,f)&&n.ref===o.ref)return ws(n,o,b)}return o.flags|=1,n=Js(N,f),n.ref=o.ref,n.return=o,o.child=n}function Jp(n,o,d,f,b){if(n!==null){var N=n.memoizedProps;if(yo(N,f)&&n.ref===o.ref)if(ar=!1,o.pendingProps=f=N,(n.lanes&b)!==0)(n.flags&131072)!==0&&(ar=!0);else return o.lanes=n.lanes,ws(n,o,b)}return Cu(n,o,d,f,b)}function Zp(n,o,d){var f=o.pendingProps,b=f.children,N=n!==null?n.memoizedState:null;if(f.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(jn,gr),gr|=d;else{if((d&1073741824)===0)return n=N!==null?N.baseLanes|d:d,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:n,cachePool:null,transitions:null},o.updateQueue=null,Ze(jn,gr),gr|=n,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=N!==null?N.baseLanes:d,Ze(jn,gr),gr|=f}else N!==null?(f=N.baseLanes|d,o.memoizedState=null):f=d,Ze(jn,gr),gr|=f;return Xt(n,o,b,d),o.child}function eg(n,o){var d=o.ref;(n===null&&d!==null||n!==null&&n.ref!==d)&&(o.flags|=512,o.flags|=2097152)}function Cu(n,o,d,f,b){var N=sr(d)?Na:zt.current;return N=mn(o,N),yn(o,b),d=gu(n,o,d,f,N,b),f=xu(),n!==null&&!ar?(o.updateQueue=n.updateQueue,o.flags&=-2053,n.lanes&=~b,ws(n,o,b)):(at&&f&&Zd(o),o.flags|=1,Xt(n,o,d,b),o.child)}function tg(n,o,d,f,b){if(sr(d)){var N=!0;il(o)}else N=!1;if(yn(o,b),o.stateNode===null)Sl(n,o),zp(o,d,f),Nu(o,d,f,b),f=!0;else if(n===null){var D=o.stateNode,$=o.memoizedProps;D.props=$;var Y=D.context,oe=d.contextType;typeof oe=="object"&&oe!==null?oe=wr(oe):(oe=sr(d)?Na:zt.current,oe=mn(o,oe));var fe=d.getDerivedStateFromProps,ge=typeof fe=="function"||typeof D.getSnapshotBeforeUpdate=="function";ge||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||($!==f||Y!==oe)&&Hp(o,D,f,oe),Ws=!1;var he=o.memoizedState;D.state=he,gl(o,f,D,b),Y=o.memoizedState,$!==f||he!==Y||rr.current||Ws?(typeof fe=="function"&&(ju(o,d,fe,f),Y=o.memoizedState),($=Ws||Vp(o,d,$,f,he,Y,oe))?(ge||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(o.flags|=4194308)):(typeof D.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=Y),D.props=f,D.state=Y,D.context=oe,f=$):(typeof D.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{D=o.stateNode,xp(n,o),$=o.memoizedProps,oe=o.type===o.elementType?$:Or(o.type,$),D.props=oe,ge=o.pendingProps,he=D.context,Y=d.contextType,typeof Y=="object"&&Y!==null?Y=wr(Y):(Y=sr(d)?Na:zt.current,Y=mn(o,Y));var Ne=d.getDerivedStateFromProps;(fe=typeof Ne=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||($!==ge||he!==Y)&&Hp(o,D,f,Y),Ws=!1,he=o.memoizedState,D.state=he,gl(o,f,D,b);var Se=o.memoizedState;$!==ge||he!==Se||rr.current||Ws?(typeof Ne=="function"&&(ju(o,d,Ne,f),Se=o.memoizedState),(oe=Ws||Vp(o,d,oe,f,he,Se,Y)||!1)?(fe||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(f,Se,Y),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(f,Se,Y)),typeof D.componentDidUpdate=="function"&&(o.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof D.componentDidUpdate!="function"||$===n.memoizedProps&&he===n.memoizedState||(o.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||$===n.memoizedProps&&he===n.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=Se),D.props=f,D.state=Se,D.context=Y,f=oe):(typeof D.componentDidUpdate!="function"||$===n.memoizedProps&&he===n.memoizedState||(o.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||$===n.memoizedProps&&he===n.memoizedState||(o.flags|=1024),f=!1)}return Eu(n,o,d,f,N,b)}function Eu(n,o,d,f,b,N){eg(n,o);var D=(o.flags&128)!==0;if(!f&&!D)return b&&op(o,d,!1),ws(n,o,N);f=o.stateNode,iN.current=o;var $=D&&typeof d.getDerivedStateFromError!="function"?null:f.render();return o.flags|=1,n!==null&&D?(o.child=gn(o,n.child,null,N),o.child=gn(o,null,$,N)):Xt(n,o,$,N),o.memoizedState=f.state,b&&op(o,d,!0),o.child}function rg(n){var o=n.stateNode;o.pendingContext?ap(n,o.pendingContext,o.pendingContext!==o.context):o.context&&ap(n,o.context,!1),du(n,o.containerInfo)}function sg(n,o,d,f,b){return pn(),su(b),o.flags|=256,Xt(n,o,d,f),o.child}var Tu={dehydrated:null,treeContext:null,retryLane:0};function Au(n){return{baseLanes:n,cachePool:null,transitions:null}}function ag(n,o,d){var f=o.pendingProps,b=mt.current,N=!1,D=(o.flags&128)!==0,$;if(($=D)||($=n!==null&&n.memoizedState===null?!1:(b&2)!==0),$?(N=!0,o.flags&=-129):(n===null||n.memoizedState!==null)&&(b|=1),Ze(mt,b&1),n===null)return ru(o),n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((o.mode&1)===0?o.lanes=1:n.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(D=f.children,n=f.fallback,N?(f=o.mode,N=o.child,D={mode:"hidden",children:D},(f&1)===0&&N!==null?(N.childLanes=0,N.pendingProps=D):N=Ol(D,f,0,null),n=Ra(n,f,d,null),N.return=o,n.return=o,N.sibling=n,o.child=N,o.child.memoizedState=Au(d),o.memoizedState=Tu,n):Pu(o,D));if(b=n.memoizedState,b!==null&&($=b.dehydrated,$!==null))return lN(n,o,D,f,$,b,d);if(N){N=f.fallback,D=o.mode,b=n.child,$=b.sibling;var Y={mode:"hidden",children:f.children};return(D&1)===0&&o.child!==b?(f=o.child,f.childLanes=0,f.pendingProps=Y,o.deletions=null):(f=Js(b,Y),f.subtreeFlags=b.subtreeFlags&14680064),$!==null?N=Js($,N):(N=Ra(N,D,d,null),N.flags|=2),N.return=o,f.return=o,f.sibling=N,o.child=f,f=N,N=o.child,D=n.child.memoizedState,D=D===null?Au(d):{baseLanes:D.baseLanes|d,cachePool:null,transitions:D.transitions},N.memoizedState=D,N.childLanes=n.childLanes&~d,o.memoizedState=Tu,f}return N=n.child,n=N.sibling,f=Js(N,{mode:"visible",children:f.children}),(o.mode&1)===0&&(f.lanes=d),f.return=o,f.sibling=null,n!==null&&(d=o.deletions,d===null?(o.deletions=[n],o.flags|=16):d.push(n)),o.child=f,o.memoizedState=null,f}function Pu(n,o){return o=Ol({mode:"visible",children:o},n.mode,0,null),o.return=n,n.child=o}function kl(n,o,d,f){return f!==null&&su(f),gn(o,n.child,null,d),n=Pu(o,o.pendingProps.children),n.flags|=2,o.memoizedState=null,n}function lN(n,o,d,f,b,N,D){if(d)return o.flags&256?(o.flags&=-257,f=ku(Error(s(422))),kl(n,o,D,f)):o.memoizedState!==null?(o.child=n.child,o.flags|=128,null):(N=f.fallback,b=o.mode,f=Ol({mode:"visible",children:f.children},b,0,null),N=Ra(N,b,D,null),N.flags|=2,f.return=o,N.return=o,f.sibling=N,o.child=f,(o.mode&1)!==0&&gn(o,n.child,null,D),o.child.memoizedState=Au(D),o.memoizedState=Tu,N);if((o.mode&1)===0)return kl(n,o,D,null);if(b.data==="$!"){if(f=b.nextSibling&&b.nextSibling.dataset,f)var $=f.dgst;return f=$,N=Error(s(419)),f=ku(N,f,void 0),kl(n,o,D,f)}if($=(D&n.childLanes)!==0,ar||$){if(f=Rt,f!==null){switch(D&-D){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}b=(b&(f.suspendedLanes|D))!==0?0:b,b!==0&&b!==N.retryLane&&(N.retryLane=b,bs(n,b),Ur(f,n,b,-1))}return qu(),f=ku(Error(s(421))),kl(n,o,D,f)}return b.data==="$?"?(o.flags|=128,o.child=n.child,o=wN.bind(null,n),b._reactRetry=o,null):(n=N.treeContext,pr=$s(b.nextSibling),fr=o,at=!0,_r=null,n!==null&&(br[vr++]=xs,br[vr++]=ys,br[vr++]=ka,xs=n.id,ys=n.overflow,ka=o),o=Pu(o,f.children),o.flags|=4096,o)}function ng(n,o,d){n.lanes|=o;var f=n.alternate;f!==null&&(f.lanes|=o),iu(n.return,o,d)}function Du(n,o,d,f,b){var N=n.memoizedState;N===null?n.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:d,tailMode:b}:(N.isBackwards=o,N.rendering=null,N.renderingStartTime=0,N.last=f,N.tail=d,N.tailMode=b)}function og(n,o,d){var f=o.pendingProps,b=f.revealOrder,N=f.tail;if(Xt(n,o,f.children,d),f=mt.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=o.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&ng(n,d,o);else if(n.tag===19)ng(n,d,o);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===o)break e;for(;n.sibling===null;){if(n.return===null||n.return===o)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}f&=1}if(Ze(mt,f),(o.mode&1)===0)o.memoizedState=null;else switch(b){case"forwards":for(d=o.child,b=null;d!==null;)n=d.alternate,n!==null&&xl(n)===null&&(b=d),d=d.sibling;d=b,d===null?(b=o.child,o.child=null):(b=d.sibling,d.sibling=null),Du(o,!1,b,d,N);break;case"backwards":for(d=null,b=o.child,o.child=null;b!==null;){if(n=b.alternate,n!==null&&xl(n)===null){o.child=b;break}n=b.sibling,b.sibling=d,d=b,b=n}Du(o,!0,d,null,N);break;case"together":Du(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Sl(n,o){(o.mode&1)===0&&n!==null&&(n.alternate=null,o.alternate=null,o.flags|=2)}function ws(n,o,d){if(n!==null&&(o.dependencies=n.dependencies),Aa|=o.lanes,(d&o.childLanes)===0)return null;if(n!==null&&o.child!==n.child)throw Error(s(153));if(o.child!==null){for(n=o.child,d=Js(n,n.pendingProps),o.child=d,d.return=o;n.sibling!==null;)n=n.sibling,d=d.sibling=Js(n,n.pendingProps),d.return=o;d.sibling=null}return o.child}function cN(n,o,d){switch(o.tag){case 3:rg(o),pn();break;case 5:vp(o);break;case 1:sr(o.type)&&il(o);break;case 4:du(o,o.stateNode.containerInfo);break;case 10:var f=o.type._context,b=o.memoizedProps.value;Ze(hl,f._currentValue),f._currentValue=b;break;case 13:if(f=o.memoizedState,f!==null)return f.dehydrated!==null?(Ze(mt,mt.current&1),o.flags|=128,null):(d&o.child.childLanes)!==0?ag(n,o,d):(Ze(mt,mt.current&1),n=ws(n,o,d),n!==null?n.sibling:null);Ze(mt,mt.current&1);break;case 19:if(f=(d&o.childLanes)!==0,(n.flags&128)!==0){if(f)return og(n,o,d);o.flags|=128}if(b=o.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),Ze(mt,mt.current),f)break;return null;case 22:case 23:return o.lanes=0,Zp(n,o,d)}return ws(n,o,d)}var ig,Mu,lg,cg;ig=function(n,o){for(var d=o.child;d!==null;){if(d.tag===5||d.tag===6)n.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===o)break;for(;d.sibling===null;){if(d.return===null||d.return===o)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},Mu=function(){},lg=function(n,o,d,f){var b=n.memoizedProps;if(b!==f){n=o.stateNode,Ea(Xr.current);var N=null;switch(d){case"input":b=ye(n,b),f=ye(n,f),N=[];break;case"select":b=G({},b,{value:void 0}),f=G({},f,{value:void 0}),N=[];break;case"textarea":b=Za(n,b),f=Za(n,f),N=[];break;default:typeof b.onClick!="function"&&typeof f.onClick=="function"&&(n.onclick=al)}md(d,f);var D;d=null;for(oe in b)if(!f.hasOwnProperty(oe)&&b.hasOwnProperty(oe)&&b[oe]!=null)if(oe==="style"){var $=b[oe];for(D in $)$.hasOwnProperty(D)&&(d||(d={}),d[D]="")}else oe!=="dangerouslySetInnerHTML"&&oe!=="children"&&oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&oe!=="autoFocus"&&(i.hasOwnProperty(oe)?N||(N=[]):(N=N||[]).push(oe,null));for(oe in f){var Y=f[oe];if($=b!=null?b[oe]:void 0,f.hasOwnProperty(oe)&&Y!==$&&(Y!=null||$!=null))if(oe==="style")if($){for(D in $)!$.hasOwnProperty(D)||Y&&Y.hasOwnProperty(D)||(d||(d={}),d[D]="");for(D in Y)Y.hasOwnProperty(D)&&$[D]!==Y[D]&&(d||(d={}),d[D]=Y[D])}else d||(N||(N=[]),N.push(oe,d)),d=Y;else oe==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,$=$?$.__html:void 0,Y!=null&&$!==Y&&(N=N||[]).push(oe,Y)):oe==="children"?typeof Y!="string"&&typeof Y!="number"||(N=N||[]).push(oe,""+Y):oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&(i.hasOwnProperty(oe)?(Y!=null&&oe==="onScroll"&&tt("scroll",n),N||$===Y||(N=[])):(N=N||[]).push(oe,Y))}d&&(N=N||[]).push("style",d);var oe=N;(o.updateQueue=oe)&&(o.flags|=4)}},cg=function(n,o,d,f){d!==f&&(o.flags|=4)};function Ro(n,o){if(!at)switch(n.tailMode){case"hidden":o=n.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?n.tail=null:d.sibling=null;break;case"collapsed":d=n.tail;for(var f=null;d!==null;)d.alternate!==null&&(f=d),d=d.sibling;f===null?o||n.tail===null?n.tail=null:n.tail.sibling=null:f.sibling=null}}function Wt(n){var o=n.alternate!==null&&n.alternate.child===n.child,d=0,f=0;if(o)for(var b=n.child;b!==null;)d|=b.lanes|b.childLanes,f|=b.subtreeFlags&14680064,f|=b.flags&14680064,b.return=n,b=b.sibling;else for(b=n.child;b!==null;)d|=b.lanes|b.childLanes,f|=b.subtreeFlags,f|=b.flags,b.return=n,b=b.sibling;return n.subtreeFlags|=f,n.childLanes=d,o}function dN(n,o,d){var f=o.pendingProps;switch(eu(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(o),null;case 1:return sr(o.type)&&ol(),Wt(o),null;case 3:return f=o.stateNode,bn(),rt(rr),rt(zt),hu(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(n===null||n.child===null)&&(ul(o)?o.flags|=4:n===null||n.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,_r!==null&&(zu(_r),_r=null))),Mu(n,o),Wt(o),null;case 5:uu(o);var b=Ea(To.current);if(d=o.type,n!==null&&o.stateNode!=null)lg(n,o,d,f,b),n.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!f){if(o.stateNode===null)throw Error(s(166));return Wt(o),null}if(n=Ea(Xr.current),ul(o)){f=o.stateNode,d=o.type;var N=o.memoizedProps;switch(f[Gr]=o,f[No]=N,n=(o.mode&1)!==0,d){case"dialog":tt("cancel",f),tt("close",f);break;case"iframe":case"object":case"embed":tt("load",f);break;case"video":case"audio":for(b=0;b<vo.length;b++)tt(vo[b],f);break;case"source":tt("error",f);break;case"img":case"image":case"link":tt("error",f),tt("load",f);break;case"details":tt("toggle",f);break;case"input":Ae(f,N),tt("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!N.multiple},tt("invalid",f);break;case"textarea":ne(f,N),tt("invalid",f)}md(d,N),b=null;for(var D in N)if(N.hasOwnProperty(D)){var $=N[D];D==="children"?typeof $=="string"?f.textContent!==$&&(N.suppressHydrationWarning!==!0&&sl(f.textContent,$,n),b=["children",$]):typeof $=="number"&&f.textContent!==""+$&&(N.suppressHydrationWarning!==!0&&sl(f.textContent,$,n),b=["children",""+$]):i.hasOwnProperty(D)&&$!=null&&D==="onScroll"&&tt("scroll",f)}switch(d){case"input":se(f),Li(f,N,!0);break;case"textarea":se(f),Le(f);break;case"select":case"option":break;default:typeof N.onClick=="function"&&(f.onclick=al)}f=b,o.updateQueue=f,f!==null&&(o.flags|=4)}else{D=b.nodeType===9?b:b.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Ue(d)),n==="http://www.w3.org/1999/xhtml"?d==="script"?(n=D.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof f.is=="string"?n=D.createElement(d,{is:f.is}):(n=D.createElement(d),d==="select"&&(D=n,f.multiple?D.multiple=!0:f.size&&(D.size=f.size))):n=D.createElementNS(n,d),n[Gr]=o,n[No]=f,ig(n,o,!1,!1),o.stateNode=n;e:{switch(D=hd(d,f),d){case"dialog":tt("cancel",n),tt("close",n),b=f;break;case"iframe":case"object":case"embed":tt("load",n),b=f;break;case"video":case"audio":for(b=0;b<vo.length;b++)tt(vo[b],n);b=f;break;case"source":tt("error",n),b=f;break;case"img":case"image":case"link":tt("error",n),tt("load",n),b=f;break;case"details":tt("toggle",n),b=f;break;case"input":Ae(n,f),b=ye(n,f),tt("invalid",n);break;case"option":b=f;break;case"select":n._wrapperState={wasMultiple:!!f.multiple},b=G({},f,{value:void 0}),tt("invalid",n);break;case"textarea":ne(n,f),b=Za(n,f),tt("invalid",n);break;default:b=f}md(d,b),$=b;for(N in $)if($.hasOwnProperty(N)){var Y=$[N];N==="style"?Qh(n,Y):N==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,Y!=null&&Ii(n,Y)):N==="children"?typeof Y=="string"?(d!=="textarea"||Y!=="")&&Rs(n,Y):typeof Y=="number"&&Rs(n,""+Y):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(i.hasOwnProperty(N)?Y!=null&&N==="onScroll"&&tt("scroll",n):Y!=null&&j(n,N,Y,D))}switch(d){case"input":se(n),Li(n,f,!1);break;case"textarea":se(n),Le(n);break;case"option":f.value!=null&&n.setAttribute("value",""+le(f.value));break;case"select":n.multiple=!!f.multiple,N=f.value,N!=null?fs(n,!!f.multiple,N,!1):f.defaultValue!=null&&fs(n,!!f.multiple,f.defaultValue,!0);break;default:typeof b.onClick=="function"&&(n.onclick=al)}switch(d){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Wt(o),null;case 6:if(n&&o.stateNode!=null)cg(n,o,n.memoizedProps,f);else{if(typeof f!="string"&&o.stateNode===null)throw Error(s(166));if(d=Ea(To.current),Ea(Xr.current),ul(o)){if(f=o.stateNode,d=o.memoizedProps,f[Gr]=o,(N=f.nodeValue!==d)&&(n=fr,n!==null))switch(n.tag){case 3:sl(f.nodeValue,d,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&sl(f.nodeValue,d,(n.mode&1)!==0)}N&&(o.flags|=4)}else f=(d.nodeType===9?d:d.ownerDocument).createTextNode(f),f[Gr]=o,o.stateNode=f}return Wt(o),null;case 13:if(rt(mt),f=o.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(at&&pr!==null&&(o.mode&1)!==0&&(o.flags&128)===0)mp(),pn(),o.flags|=98560,N=!1;else if(N=ul(o),f!==null&&f.dehydrated!==null){if(n===null){if(!N)throw Error(s(318));if(N=o.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(s(317));N[Gr]=o}else pn(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Wt(o),N=!1}else _r!==null&&(zu(_r),_r=null),N=!0;if(!N)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=d,o):(f=f!==null,f!==(n!==null&&n.memoizedState!==null)&&f&&(o.child.flags|=8192,(o.mode&1)!==0&&(n===null||(mt.current&1)!==0?Pt===0&&(Pt=3):qu())),o.updateQueue!==null&&(o.flags|=4),Wt(o),null);case 4:return bn(),Mu(n,o),n===null&&wo(o.stateNode.containerInfo),Wt(o),null;case 10:return ou(o.type._context),Wt(o),null;case 17:return sr(o.type)&&ol(),Wt(o),null;case 19:if(rt(mt),N=o.memoizedState,N===null)return Wt(o),null;if(f=(o.flags&128)!==0,D=N.rendering,D===null)if(f)Ro(N,!1);else{if(Pt!==0||n!==null&&(n.flags&128)!==0)for(n=o.child;n!==null;){if(D=xl(n),D!==null){for(o.flags|=128,Ro(N,!1),f=D.updateQueue,f!==null&&(o.updateQueue=f,o.flags|=4),o.subtreeFlags=0,f=d,d=o.child;d!==null;)N=d,n=f,N.flags&=14680066,D=N.alternate,D===null?(N.childLanes=0,N.lanes=n,N.child=null,N.subtreeFlags=0,N.memoizedProps=null,N.memoizedState=null,N.updateQueue=null,N.dependencies=null,N.stateNode=null):(N.childLanes=D.childLanes,N.lanes=D.lanes,N.child=D.child,N.subtreeFlags=0,N.deletions=null,N.memoizedProps=D.memoizedProps,N.memoizedState=D.memoizedState,N.updateQueue=D.updateQueue,N.type=D.type,n=D.dependencies,N.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),d=d.sibling;return Ze(mt,mt.current&1|2),o.child}n=n.sibling}N.tail!==null&&xt()>Nn&&(o.flags|=128,f=!0,Ro(N,!1),o.lanes=4194304)}else{if(!f)if(n=xl(D),n!==null){if(o.flags|=128,f=!0,d=n.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),Ro(N,!0),N.tail===null&&N.tailMode==="hidden"&&!D.alternate&&!at)return Wt(o),null}else 2*xt()-N.renderingStartTime>Nn&&d!==1073741824&&(o.flags|=128,f=!0,Ro(N,!1),o.lanes=4194304);N.isBackwards?(D.sibling=o.child,o.child=D):(d=N.last,d!==null?d.sibling=D:o.child=D,N.last=D)}return N.tail!==null?(o=N.tail,N.rendering=o,N.tail=o.sibling,N.renderingStartTime=xt(),o.sibling=null,d=mt.current,Ze(mt,f?d&1|2:d&1),o):(Wt(o),null);case 22:case 23:return Wu(),f=o.memoizedState!==null,n!==null&&n.memoizedState!==null!==f&&(o.flags|=8192),f&&(o.mode&1)!==0?(gr&1073741824)!==0&&(Wt(o),o.subtreeFlags&6&&(o.flags|=8192)):Wt(o),null;case 24:return null;case 25:return null}throw Error(s(156,o.tag))}function uN(n,o){switch(eu(o),o.tag){case 1:return sr(o.type)&&ol(),n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 3:return bn(),rt(rr),rt(zt),hu(),n=o.flags,(n&65536)!==0&&(n&128)===0?(o.flags=n&-65537|128,o):null;case 5:return uu(o),null;case 13:if(rt(mt),n=o.memoizedState,n!==null&&n.dehydrated!==null){if(o.alternate===null)throw Error(s(340));pn()}return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 19:return rt(mt),null;case 4:return bn(),null;case 10:return ou(o.type._context),null;case 22:case 23:return Wu(),null;case 24:return null;default:return null}}var Cl=!1,qt=!1,mN=typeof WeakSet=="function"?WeakSet:Set,ke=null;function wn(n,o){var d=n.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(f){pt(n,o,f)}else d.current=null}function Ru(n,o,d){try{d()}catch(f){pt(n,o,f)}}var dg=!1;function hN(n,o){if(Wd=qi,n=Vf(),Od(n)){if("selectionStart"in n)var d={start:n.selectionStart,end:n.selectionEnd};else e:{d=(d=n.ownerDocument)&&d.defaultView||window;var f=d.getSelection&&d.getSelection();if(f&&f.rangeCount!==0){d=f.anchorNode;var b=f.anchorOffset,N=f.focusNode;f=f.focusOffset;try{d.nodeType,N.nodeType}catch{d=null;break e}var D=0,$=-1,Y=-1,oe=0,fe=0,ge=n,he=null;t:for(;;){for(var Ne;ge!==d||b!==0&&ge.nodeType!==3||($=D+b),ge!==N||f!==0&&ge.nodeType!==3||(Y=D+f),ge.nodeType===3&&(D+=ge.nodeValue.length),(Ne=ge.firstChild)!==null;)he=ge,ge=Ne;for(;;){if(ge===n)break t;if(he===d&&++oe===b&&($=D),he===N&&++fe===f&&(Y=D),(Ne=ge.nextSibling)!==null)break;ge=he,he=ge.parentNode}ge=Ne}d=$===-1||Y===-1?null:{start:$,end:Y}}else d=null}d=d||{start:0,end:0}}else d=null;for(qd={focusedElem:n,selectionRange:d},qi=!1,ke=o;ke!==null;)if(o=ke,n=o.child,(o.subtreeFlags&1028)!==0&&n!==null)n.return=o,ke=n;else for(;ke!==null;){o=ke;try{var Se=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Se!==null){var Ce=Se.memoizedProps,yt=Se.memoizedState,re=o.stateNode,Q=re.getSnapshotBeforeUpdate(o.elementType===o.type?Ce:Or(o.type,Ce),yt);re.__reactInternalSnapshotBeforeUpdate=Q}break;case 3:var ae=o.stateNode.containerInfo;ae.nodeType===1?ae.textContent="":ae.nodeType===9&&ae.documentElement&&ae.removeChild(ae.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(be){pt(o,o.return,be)}if(n=o.sibling,n!==null){n.return=o.return,ke=n;break}ke=o.return}return Se=dg,dg=!1,Se}function Lo(n,o,d){var f=o.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var b=f=f.next;do{if((b.tag&n)===n){var N=b.destroy;b.destroy=void 0,N!==void 0&&Ru(o,d,N)}b=b.next}while(b!==f)}}function El(n,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var d=o=o.next;do{if((d.tag&n)===n){var f=d.create;d.destroy=f()}d=d.next}while(d!==o)}}function Lu(n){var o=n.ref;if(o!==null){var d=n.stateNode;switch(n.tag){case 5:n=d;break;default:n=d}typeof o=="function"?o(n):o.current=n}}function ug(n){var o=n.alternate;o!==null&&(n.alternate=null,ug(o)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(o=n.stateNode,o!==null&&(delete o[Gr],delete o[No],delete o[Xd],delete o[Gj],delete o[Xj])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function mg(n){return n.tag===5||n.tag===3||n.tag===4}function hg(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||mg(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Iu(n,o,d){var f=n.tag;if(f===5||f===6)n=n.stateNode,o?d.nodeType===8?d.parentNode.insertBefore(n,o):d.insertBefore(n,o):(d.nodeType===8?(o=d.parentNode,o.insertBefore(n,d)):(o=d,o.appendChild(n)),d=d._reactRootContainer,d!=null||o.onclick!==null||(o.onclick=al));else if(f!==4&&(n=n.child,n!==null))for(Iu(n,o,d),n=n.sibling;n!==null;)Iu(n,o,d),n=n.sibling}function _u(n,o,d){var f=n.tag;if(f===5||f===6)n=n.stateNode,o?d.insertBefore(n,o):d.appendChild(n);else if(f!==4&&(n=n.child,n!==null))for(_u(n,o,d),n=n.sibling;n!==null;)_u(n,o,d),n=n.sibling}var Ft=null,Fr=!1;function Ys(n,o,d){for(d=d.child;d!==null;)fg(n,o,d),d=d.sibling}function fg(n,o,d){if(Kr&&typeof Kr.onCommitFiberUnmount=="function")try{Kr.onCommitFiberUnmount(Ui,d)}catch{}switch(d.tag){case 5:qt||wn(d,o);case 6:var f=Ft,b=Fr;Ft=null,Ys(n,o,d),Ft=f,Fr=b,Ft!==null&&(Fr?(n=Ft,d=d.stateNode,n.nodeType===8?n.parentNode.removeChild(d):n.removeChild(d)):Ft.removeChild(d.stateNode));break;case 18:Ft!==null&&(Fr?(n=Ft,d=d.stateNode,n.nodeType===8?Gd(n.parentNode,d):n.nodeType===1&&Gd(n,d),mo(n)):Gd(Ft,d.stateNode));break;case 4:f=Ft,b=Fr,Ft=d.stateNode.containerInfo,Fr=!0,Ys(n,o,d),Ft=f,Fr=b;break;case 0:case 11:case 14:case 15:if(!qt&&(f=d.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){b=f=f.next;do{var N=b,D=N.destroy;N=N.tag,D!==void 0&&((N&2)!==0||(N&4)!==0)&&Ru(d,o,D),b=b.next}while(b!==f)}Ys(n,o,d);break;case 1:if(!qt&&(wn(d,o),f=d.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=d.memoizedProps,f.state=d.memoizedState,f.componentWillUnmount()}catch($){pt(d,o,$)}Ys(n,o,d);break;case 21:Ys(n,o,d);break;case 22:d.mode&1?(qt=(f=qt)||d.memoizedState!==null,Ys(n,o,d),qt=f):Ys(n,o,d);break;default:Ys(n,o,d)}}function pg(n){var o=n.updateQueue;if(o!==null){n.updateQueue=null;var d=n.stateNode;d===null&&(d=n.stateNode=new mN),o.forEach(function(f){var b=jN.bind(null,n,f);d.has(f)||(d.add(f),f.then(b,b))})}}function Br(n,o){var d=o.deletions;if(d!==null)for(var f=0;f<d.length;f++){var b=d[f];try{var N=n,D=o,$=D;e:for(;$!==null;){switch($.tag){case 5:Ft=$.stateNode,Fr=!1;break e;case 3:Ft=$.stateNode.containerInfo,Fr=!0;break e;case 4:Ft=$.stateNode.containerInfo,Fr=!0;break e}$=$.return}if(Ft===null)throw Error(s(160));fg(N,D,b),Ft=null,Fr=!1;var Y=b.alternate;Y!==null&&(Y.return=null),b.return=null}catch(oe){pt(b,o,oe)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)gg(o,n),o=o.sibling}function gg(n,o){var d=n.alternate,f=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Br(o,n),Jr(n),f&4){try{Lo(3,n,n.return),El(3,n)}catch(Ce){pt(n,n.return,Ce)}try{Lo(5,n,n.return)}catch(Ce){pt(n,n.return,Ce)}}break;case 1:Br(o,n),Jr(n),f&512&&d!==null&&wn(d,d.return);break;case 5:if(Br(o,n),Jr(n),f&512&&d!==null&&wn(d,d.return),n.flags&32){var b=n.stateNode;try{Rs(b,"")}catch(Ce){pt(n,n.return,Ce)}}if(f&4&&(b=n.stateNode,b!=null)){var N=n.memoizedProps,D=d!==null?d.memoizedProps:N,$=n.type,Y=n.updateQueue;if(n.updateQueue=null,Y!==null)try{$==="input"&&N.type==="radio"&&N.name!=null&&Pe(b,N),hd($,D);var oe=hd($,N);for(D=0;D<Y.length;D+=2){var fe=Y[D],ge=Y[D+1];fe==="style"?Qh(b,ge):fe==="dangerouslySetInnerHTML"?Ii(b,ge):fe==="children"?Rs(b,ge):j(b,fe,ge,oe)}switch($){case"input":ct(b,N);break;case"textarea":ze(b,N);break;case"select":var he=b._wrapperState.wasMultiple;b._wrapperState.wasMultiple=!!N.multiple;var Ne=N.value;Ne!=null?fs(b,!!N.multiple,Ne,!1):he!==!!N.multiple&&(N.defaultValue!=null?fs(b,!!N.multiple,N.defaultValue,!0):fs(b,!!N.multiple,N.multiple?[]:"",!1))}b[No]=N}catch(Ce){pt(n,n.return,Ce)}}break;case 6:if(Br(o,n),Jr(n),f&4){if(n.stateNode===null)throw Error(s(162));b=n.stateNode,N=n.memoizedProps;try{b.nodeValue=N}catch(Ce){pt(n,n.return,Ce)}}break;case 3:if(Br(o,n),Jr(n),f&4&&d!==null&&d.memoizedState.isDehydrated)try{mo(o.containerInfo)}catch(Ce){pt(n,n.return,Ce)}break;case 4:Br(o,n),Jr(n);break;case 13:Br(o,n),Jr(n),b=n.child,b.flags&8192&&(N=b.memoizedState!==null,b.stateNode.isHidden=N,!N||b.alternate!==null&&b.alternate.memoizedState!==null||(Bu=xt())),f&4&&pg(n);break;case 22:if(fe=d!==null&&d.memoizedState!==null,n.mode&1?(qt=(oe=qt)||fe,Br(o,n),qt=oe):Br(o,n),Jr(n),f&8192){if(oe=n.memoizedState!==null,(n.stateNode.isHidden=oe)&&!fe&&(n.mode&1)!==0)for(ke=n,fe=n.child;fe!==null;){for(ge=ke=fe;ke!==null;){switch(he=ke,Ne=he.child,he.tag){case 0:case 11:case 14:case 15:Lo(4,he,he.return);break;case 1:wn(he,he.return);var Se=he.stateNode;if(typeof Se.componentWillUnmount=="function"){f=he,d=he.return;try{o=f,Se.props=o.memoizedProps,Se.state=o.memoizedState,Se.componentWillUnmount()}catch(Ce){pt(f,d,Ce)}}break;case 5:wn(he,he.return);break;case 22:if(he.memoizedState!==null){bg(ge);continue}}Ne!==null?(Ne.return=he,ke=Ne):bg(ge)}fe=fe.sibling}e:for(fe=null,ge=n;;){if(ge.tag===5){if(fe===null){fe=ge;try{b=ge.stateNode,oe?(N=b.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none"):($=ge.stateNode,Y=ge.memoizedProps.style,D=Y!=null&&Y.hasOwnProperty("display")?Y.display:null,$.style.display=ud("display",D))}catch(Ce){pt(n,n.return,Ce)}}}else if(ge.tag===6){if(fe===null)try{ge.stateNode.nodeValue=oe?"":ge.memoizedProps}catch(Ce){pt(n,n.return,Ce)}}else if((ge.tag!==22&&ge.tag!==23||ge.memoizedState===null||ge===n)&&ge.child!==null){ge.child.return=ge,ge=ge.child;continue}if(ge===n)break e;for(;ge.sibling===null;){if(ge.return===null||ge.return===n)break e;fe===ge&&(fe=null),ge=ge.return}fe===ge&&(fe=null),ge.sibling.return=ge.return,ge=ge.sibling}}break;case 19:Br(o,n),Jr(n),f&4&&pg(n);break;case 21:break;default:Br(o,n),Jr(n)}}function Jr(n){var o=n.flags;if(o&2){try{e:{for(var d=n.return;d!==null;){if(mg(d)){var f=d;break e}d=d.return}throw Error(s(160))}switch(f.tag){case 5:var b=f.stateNode;f.flags&32&&(Rs(b,""),f.flags&=-33);var N=hg(n);_u(n,N,b);break;case 3:case 4:var D=f.stateNode.containerInfo,$=hg(n);Iu(n,$,D);break;default:throw Error(s(161))}}catch(Y){pt(n,n.return,Y)}n.flags&=-3}o&4096&&(n.flags&=-4097)}function fN(n,o,d){ke=n,xg(n)}function xg(n,o,d){for(var f=(n.mode&1)!==0;ke!==null;){var b=ke,N=b.child;if(b.tag===22&&f){var D=b.memoizedState!==null||Cl;if(!D){var $=b.alternate,Y=$!==null&&$.memoizedState!==null||qt;$=Cl;var oe=qt;if(Cl=D,(qt=Y)&&!oe)for(ke=b;ke!==null;)D=ke,Y=D.child,D.tag===22&&D.memoizedState!==null?vg(b):Y!==null?(Y.return=D,ke=Y):vg(b);for(;N!==null;)ke=N,xg(N),N=N.sibling;ke=b,Cl=$,qt=oe}yg(n)}else(b.subtreeFlags&8772)!==0&&N!==null?(N.return=b,ke=N):yg(n)}}function yg(n){for(;ke!==null;){var o=ke;if((o.flags&8772)!==0){var d=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:qt||El(5,o);break;case 1:var f=o.stateNode;if(o.flags&4&&!qt)if(d===null)f.componentDidMount();else{var b=o.elementType===o.type?d.memoizedProps:Or(o.type,d.memoizedProps);f.componentDidUpdate(b,d.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var N=o.updateQueue;N!==null&&bp(o,N,f);break;case 3:var D=o.updateQueue;if(D!==null){if(d=null,o.child!==null)switch(o.child.tag){case 5:d=o.child.stateNode;break;case 1:d=o.child.stateNode}bp(o,D,d)}break;case 5:var $=o.stateNode;if(d===null&&o.flags&4){d=$;var Y=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":Y.autoFocus&&d.focus();break;case"img":Y.src&&(d.src=Y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var oe=o.alternate;if(oe!==null){var fe=oe.memoizedState;if(fe!==null){var ge=fe.dehydrated;ge!==null&&mo(ge)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}qt||o.flags&512&&Lu(o)}catch(he){pt(o,o.return,he)}}if(o===n){ke=null;break}if(d=o.sibling,d!==null){d.return=o.return,ke=d;break}ke=o.return}}function bg(n){for(;ke!==null;){var o=ke;if(o===n){ke=null;break}var d=o.sibling;if(d!==null){d.return=o.return,ke=d;break}ke=o.return}}function vg(n){for(;ke!==null;){var o=ke;try{switch(o.tag){case 0:case 11:case 15:var d=o.return;try{El(4,o)}catch(Y){pt(o,d,Y)}break;case 1:var f=o.stateNode;if(typeof f.componentDidMount=="function"){var b=o.return;try{f.componentDidMount()}catch(Y){pt(o,b,Y)}}var N=o.return;try{Lu(o)}catch(Y){pt(o,N,Y)}break;case 5:var D=o.return;try{Lu(o)}catch(Y){pt(o,D,Y)}}}catch(Y){pt(o,o.return,Y)}if(o===n){ke=null;break}var $=o.sibling;if($!==null){$.return=o.return,ke=$;break}ke=o.return}}var pN=Math.ceil,Tl=A.ReactCurrentDispatcher,Ou=A.ReactCurrentOwner,Nr=A.ReactCurrentBatchConfig,He=0,Rt=null,kt=null,Bt=0,gr=0,jn=Vs(0),Pt=0,Io=null,Aa=0,Al=0,Fu=0,_o=null,nr=null,Bu=0,Nn=1/0,js=null,Pl=!1,Uu=null,Ks=null,Dl=!1,Gs=null,Ml=0,Oo=0,$u=null,Rl=-1,Ll=0;function Qt(){return(He&6)!==0?xt():Rl!==-1?Rl:Rl=xt()}function Xs(n){return(n.mode&1)===0?1:(He&2)!==0&&Bt!==0?Bt&-Bt:Jj.transition!==null?(Ll===0&&(Ll=hf()),Ll):(n=Ge,n!==0||(n=window.event,n=n===void 0?16:jf(n.type)),n)}function Ur(n,o,d,f){if(50<Oo)throw Oo=0,$u=null,Error(s(185));oo(n,d,f),((He&2)===0||n!==Rt)&&(n===Rt&&((He&2)===0&&(Al|=d),Pt===4&&Qs(n,Bt)),or(n,f),d===1&&He===0&&(o.mode&1)===0&&(Nn=xt()+500,ll&&Hs()))}function or(n,o){var d=n.callbackNode;Jw(n,o);var f=zi(n,n===Rt?Bt:0);if(f===0)d!==null&&df(d),n.callbackNode=null,n.callbackPriority=0;else if(o=f&-f,n.callbackPriority!==o){if(d!=null&&df(d),o===1)n.tag===0?Qj(jg.bind(null,n)):ip(jg.bind(null,n)),Yj(function(){(He&6)===0&&Hs()}),d=null;else{switch(ff(f)){case 1:d=vd;break;case 4:d=uf;break;case 16:d=Bi;break;case 536870912:d=mf;break;default:d=Bi}d=Pg(d,wg.bind(null,n))}n.callbackPriority=o,n.callbackNode=d}}function wg(n,o){if(Rl=-1,Ll=0,(He&6)!==0)throw Error(s(327));var d=n.callbackNode;if(kn()&&n.callbackNode!==d)return null;var f=zi(n,n===Rt?Bt:0);if(f===0)return null;if((f&30)!==0||(f&n.expiredLanes)!==0||o)o=Il(n,f);else{o=f;var b=He;He|=2;var N=kg();(Rt!==n||Bt!==o)&&(js=null,Nn=xt()+500,Da(n,o));do try{yN();break}catch($){Ng(n,$)}while(!0);nu(),Tl.current=N,He=b,kt!==null?o=0:(Rt=null,Bt=0,o=Pt)}if(o!==0){if(o===2&&(b=wd(n),b!==0&&(f=b,o=Vu(n,b))),o===1)throw d=Io,Da(n,0),Qs(n,f),or(n,xt()),d;if(o===6)Qs(n,f);else{if(b=n.current.alternate,(f&30)===0&&!gN(b)&&(o=Il(n,f),o===2&&(N=wd(n),N!==0&&(f=N,o=Vu(n,N))),o===1))throw d=Io,Da(n,0),Qs(n,f),or(n,xt()),d;switch(n.finishedWork=b,n.finishedLanes=f,o){case 0:case 1:throw Error(s(345));case 2:Ma(n,nr,js);break;case 3:if(Qs(n,f),(f&130023424)===f&&(o=Bu+500-xt(),10<o)){if(zi(n,0)!==0)break;if(b=n.suspendedLanes,(b&f)!==f){Qt(),n.pingedLanes|=n.suspendedLanes&b;break}n.timeoutHandle=Kd(Ma.bind(null,n,nr,js),o);break}Ma(n,nr,js);break;case 4:if(Qs(n,f),(f&4194240)===f)break;for(o=n.eventTimes,b=-1;0<f;){var D=31-Lr(f);N=1<<D,D=o[D],D>b&&(b=D),f&=~N}if(f=b,f=xt()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*pN(f/1960))-f,10<f){n.timeoutHandle=Kd(Ma.bind(null,n,nr,js),f);break}Ma(n,nr,js);break;case 5:Ma(n,nr,js);break;default:throw Error(s(329))}}}return or(n,xt()),n.callbackNode===d?wg.bind(null,n):null}function Vu(n,o){var d=_o;return n.current.memoizedState.isDehydrated&&(Da(n,o).flags|=256),n=Il(n,o),n!==2&&(o=nr,nr=d,o!==null&&zu(o)),n}function zu(n){nr===null?nr=n:nr.push.apply(nr,n)}function gN(n){for(var o=n;;){if(o.flags&16384){var d=o.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var f=0;f<d.length;f++){var b=d[f],N=b.getSnapshot;b=b.value;try{if(!Ir(N(),b))return!1}catch{return!1}}}if(d=o.child,o.subtreeFlags&16384&&d!==null)d.return=o,o=d;else{if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Qs(n,o){for(o&=~Fu,o&=~Al,n.suspendedLanes|=o,n.pingedLanes&=~o,n=n.expirationTimes;0<o;){var d=31-Lr(o),f=1<<d;n[d]=-1,o&=~f}}function jg(n){if((He&6)!==0)throw Error(s(327));kn();var o=zi(n,0);if((o&1)===0)return or(n,xt()),null;var d=Il(n,o);if(n.tag!==0&&d===2){var f=wd(n);f!==0&&(o=f,d=Vu(n,f))}if(d===1)throw d=Io,Da(n,0),Qs(n,o),or(n,xt()),d;if(d===6)throw Error(s(345));return n.finishedWork=n.current.alternate,n.finishedLanes=o,Ma(n,nr,js),or(n,xt()),null}function Hu(n,o){var d=He;He|=1;try{return n(o)}finally{He=d,He===0&&(Nn=xt()+500,ll&&Hs())}}function Pa(n){Gs!==null&&Gs.tag===0&&(He&6)===0&&kn();var o=He;He|=1;var d=Nr.transition,f=Ge;try{if(Nr.transition=null,Ge=1,n)return n()}finally{Ge=f,Nr.transition=d,He=o,(He&6)===0&&Hs()}}function Wu(){gr=jn.current,rt(jn)}function Da(n,o){n.finishedWork=null,n.finishedLanes=0;var d=n.timeoutHandle;if(d!==-1&&(n.timeoutHandle=-1,qj(d)),kt!==null)for(d=kt.return;d!==null;){var f=d;switch(eu(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&ol();break;case 3:bn(),rt(rr),rt(zt),hu();break;case 5:uu(f);break;case 4:bn();break;case 13:rt(mt);break;case 19:rt(mt);break;case 10:ou(f.type._context);break;case 22:case 23:Wu()}d=d.return}if(Rt=n,kt=n=Js(n.current,null),Bt=gr=o,Pt=0,Io=null,Fu=Al=Aa=0,nr=_o=null,Ca!==null){for(o=0;o<Ca.length;o++)if(d=Ca[o],f=d.interleaved,f!==null){d.interleaved=null;var b=f.next,N=d.pending;if(N!==null){var D=N.next;N.next=b,f.next=D}d.pending=f}Ca=null}return n}function Ng(n,o){do{var d=kt;try{if(nu(),yl.current=jl,bl){for(var f=ht.memoizedState;f!==null;){var b=f.queue;b!==null&&(b.pending=null),f=f.next}bl=!1}if(Ta=0,Mt=At=ht=null,Ao=!1,Po=0,Ou.current=null,d===null||d.return===null){Pt=1,Io=o,kt=null;break}e:{var N=n,D=d.return,$=d,Y=o;if(o=Bt,$.flags|=32768,Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var oe=Y,fe=$,ge=fe.tag;if((fe.mode&1)===0&&(ge===0||ge===11||ge===15)){var he=fe.alternate;he?(fe.updateQueue=he.updateQueue,fe.memoizedState=he.memoizedState,fe.lanes=he.lanes):(fe.updateQueue=null,fe.memoizedState=null)}var Ne=Kp(D);if(Ne!==null){Ne.flags&=-257,Gp(Ne,D,$,N,o),Ne.mode&1&&Yp(N,oe,o),o=Ne,Y=oe;var Se=o.updateQueue;if(Se===null){var Ce=new Set;Ce.add(Y),o.updateQueue=Ce}else Se.add(Y);break e}else{if((o&1)===0){Yp(N,oe,o),qu();break e}Y=Error(s(426))}}else if(at&&$.mode&1){var yt=Kp(D);if(yt!==null){(yt.flags&65536)===0&&(yt.flags|=256),Gp(yt,D,$,N,o),su(vn(Y,$));break e}}N=Y=vn(Y,$),Pt!==4&&(Pt=2),_o===null?_o=[N]:_o.push(N),N=D;do{switch(N.tag){case 3:N.flags|=65536,o&=-o,N.lanes|=o;var re=Wp(N,Y,o);yp(N,re);break e;case 1:$=Y;var Q=N.type,ae=N.stateNode;if((N.flags&128)===0&&(typeof Q.getDerivedStateFromError=="function"||ae!==null&&typeof ae.componentDidCatch=="function"&&(Ks===null||!Ks.has(ae)))){N.flags|=65536,o&=-o,N.lanes|=o;var be=qp(N,$,o);yp(N,be);break e}}N=N.return}while(N!==null)}Cg(d)}catch(Ee){o=Ee,kt===d&&d!==null&&(kt=d=d.return);continue}break}while(!0)}function kg(){var n=Tl.current;return Tl.current=jl,n===null?jl:n}function qu(){(Pt===0||Pt===3||Pt===2)&&(Pt=4),Rt===null||(Aa&268435455)===0&&(Al&268435455)===0||Qs(Rt,Bt)}function Il(n,o){var d=He;He|=2;var f=kg();(Rt!==n||Bt!==o)&&(js=null,Da(n,o));do try{xN();break}catch(b){Ng(n,b)}while(!0);if(nu(),He=d,Tl.current=f,kt!==null)throw Error(s(261));return Rt=null,Bt=0,Pt}function xN(){for(;kt!==null;)Sg(kt)}function yN(){for(;kt!==null&&!zw();)Sg(kt)}function Sg(n){var o=Ag(n.alternate,n,gr);n.memoizedProps=n.pendingProps,o===null?Cg(n):kt=o,Ou.current=null}function Cg(n){var o=n;do{var d=o.alternate;if(n=o.return,(o.flags&32768)===0){if(d=dN(d,o,gr),d!==null){kt=d;return}}else{if(d=uN(d,o),d!==null){d.flags&=32767,kt=d;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Pt=6,kt=null;return}}if(o=o.sibling,o!==null){kt=o;return}kt=o=n}while(o!==null);Pt===0&&(Pt=5)}function Ma(n,o,d){var f=Ge,b=Nr.transition;try{Nr.transition=null,Ge=1,bN(n,o,d,f)}finally{Nr.transition=b,Ge=f}return null}function bN(n,o,d,f){do kn();while(Gs!==null);if((He&6)!==0)throw Error(s(327));d=n.finishedWork;var b=n.finishedLanes;if(d===null)return null;if(n.finishedWork=null,n.finishedLanes=0,d===n.current)throw Error(s(177));n.callbackNode=null,n.callbackPriority=0;var N=d.lanes|d.childLanes;if(Zw(n,N),n===Rt&&(kt=Rt=null,Bt=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||Dl||(Dl=!0,Pg(Bi,function(){return kn(),null})),N=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||N){N=Nr.transition,Nr.transition=null;var D=Ge;Ge=1;var $=He;He|=4,Ou.current=null,hN(n,d),gg(d,n),Bj(qd),qi=!!Wd,qd=Wd=null,n.current=d,fN(d),Hw(),He=$,Ge=D,Nr.transition=N}else n.current=d;if(Dl&&(Dl=!1,Gs=n,Ml=b),N=n.pendingLanes,N===0&&(Ks=null),Yw(d.stateNode),or(n,xt()),o!==null)for(f=n.onRecoverableError,d=0;d<o.length;d++)b=o[d],f(b.value,{componentStack:b.stack,digest:b.digest});if(Pl)throw Pl=!1,n=Uu,Uu=null,n;return(Ml&1)!==0&&n.tag!==0&&kn(),N=n.pendingLanes,(N&1)!==0?n===$u?Oo++:(Oo=0,$u=n):Oo=0,Hs(),null}function kn(){if(Gs!==null){var n=ff(Ml),o=Nr.transition,d=Ge;try{if(Nr.transition=null,Ge=16>n?16:n,Gs===null)var f=!1;else{if(n=Gs,Gs=null,Ml=0,(He&6)!==0)throw Error(s(331));var b=He;for(He|=4,ke=n.current;ke!==null;){var N=ke,D=N.child;if((ke.flags&16)!==0){var $=N.deletions;if($!==null){for(var Y=0;Y<$.length;Y++){var oe=$[Y];for(ke=oe;ke!==null;){var fe=ke;switch(fe.tag){case 0:case 11:case 15:Lo(8,fe,N)}var ge=fe.child;if(ge!==null)ge.return=fe,ke=ge;else for(;ke!==null;){fe=ke;var he=fe.sibling,Ne=fe.return;if(ug(fe),fe===oe){ke=null;break}if(he!==null){he.return=Ne,ke=he;break}ke=Ne}}}var Se=N.alternate;if(Se!==null){var Ce=Se.child;if(Ce!==null){Se.child=null;do{var yt=Ce.sibling;Ce.sibling=null,Ce=yt}while(Ce!==null)}}ke=N}}if((N.subtreeFlags&2064)!==0&&D!==null)D.return=N,ke=D;else e:for(;ke!==null;){if(N=ke,(N.flags&2048)!==0)switch(N.tag){case 0:case 11:case 15:Lo(9,N,N.return)}var re=N.sibling;if(re!==null){re.return=N.return,ke=re;break e}ke=N.return}}var Q=n.current;for(ke=Q;ke!==null;){D=ke;var ae=D.child;if((D.subtreeFlags&2064)!==0&&ae!==null)ae.return=D,ke=ae;else e:for(D=Q;ke!==null;){if($=ke,($.flags&2048)!==0)try{switch($.tag){case 0:case 11:case 15:El(9,$)}}catch(Ee){pt($,$.return,Ee)}if($===D){ke=null;break e}var be=$.sibling;if(be!==null){be.return=$.return,ke=be;break e}ke=$.return}}if(He=b,Hs(),Kr&&typeof Kr.onPostCommitFiberRoot=="function")try{Kr.onPostCommitFiberRoot(Ui,n)}catch{}f=!0}return f}finally{Ge=d,Nr.transition=o}}return!1}function Eg(n,o,d){o=vn(d,o),o=Wp(n,o,1),n=qs(n,o,1),o=Qt(),n!==null&&(oo(n,1,o),or(n,o))}function pt(n,o,d){if(n.tag===3)Eg(n,n,d);else for(;o!==null;){if(o.tag===3){Eg(o,n,d);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Ks===null||!Ks.has(f))){n=vn(d,n),n=qp(o,n,1),o=qs(o,n,1),n=Qt(),o!==null&&(oo(o,1,n),or(o,n));break}}o=o.return}}function vN(n,o,d){var f=n.pingCache;f!==null&&f.delete(o),o=Qt(),n.pingedLanes|=n.suspendedLanes&d,Rt===n&&(Bt&d)===d&&(Pt===4||Pt===3&&(Bt&130023424)===Bt&&500>xt()-Bu?Da(n,0):Fu|=d),or(n,o)}function Tg(n,o){o===0&&((n.mode&1)===0?o=1:(o=Vi,Vi<<=1,(Vi&130023424)===0&&(Vi=4194304)));var d=Qt();n=bs(n,o),n!==null&&(oo(n,o,d),or(n,d))}function wN(n){var o=n.memoizedState,d=0;o!==null&&(d=o.retryLane),Tg(n,d)}function jN(n,o){var d=0;switch(n.tag){case 13:var f=n.stateNode,b=n.memoizedState;b!==null&&(d=b.retryLane);break;case 19:f=n.stateNode;break;default:throw Error(s(314))}f!==null&&f.delete(o),Tg(n,d)}var Ag;Ag=function(n,o,d){if(n!==null)if(n.memoizedProps!==o.pendingProps||rr.current)ar=!0;else{if((n.lanes&d)===0&&(o.flags&128)===0)return ar=!1,cN(n,o,d);ar=(n.flags&131072)!==0}else ar=!1,at&&(o.flags&1048576)!==0&&lp(o,dl,o.index);switch(o.lanes=0,o.tag){case 2:var f=o.type;Sl(n,o),n=o.pendingProps;var b=mn(o,zt.current);yn(o,d),b=gu(null,o,f,n,b,d);var N=xu();return o.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,sr(f)?(N=!0,il(o)):N=!1,o.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,cu(o),b.updater=Nl,o.stateNode=b,b._reactInternals=o,Nu(o,f,n,d),o=Eu(null,o,f,!0,N,d)):(o.tag=0,at&&N&&Zd(o),Xt(null,o,b,d),o=o.child),o;case 16:f=o.elementType;e:{switch(Sl(n,o),n=o.pendingProps,b=f._init,f=b(f._payload),o.type=f,b=o.tag=kN(f),n=Or(f,n),b){case 0:o=Cu(null,o,f,n,d);break e;case 1:o=tg(null,o,f,n,d);break e;case 11:o=Xp(null,o,f,n,d);break e;case 14:o=Qp(null,o,f,Or(f.type,n),d);break e}throw Error(s(306,f,""))}return o;case 0:return f=o.type,b=o.pendingProps,b=o.elementType===f?b:Or(f,b),Cu(n,o,f,b,d);case 1:return f=o.type,b=o.pendingProps,b=o.elementType===f?b:Or(f,b),tg(n,o,f,b,d);case 3:e:{if(rg(o),n===null)throw Error(s(387));f=o.pendingProps,N=o.memoizedState,b=N.element,xp(n,o),gl(o,f,null,d);var D=o.memoizedState;if(f=D.element,N.isDehydrated)if(N={element:f,isDehydrated:!1,cache:D.cache,pendingSuspenseBoundaries:D.pendingSuspenseBoundaries,transitions:D.transitions},o.updateQueue.baseState=N,o.memoizedState=N,o.flags&256){b=vn(Error(s(423)),o),o=sg(n,o,f,d,b);break e}else if(f!==b){b=vn(Error(s(424)),o),o=sg(n,o,f,d,b);break e}else for(pr=$s(o.stateNode.containerInfo.firstChild),fr=o,at=!0,_r=null,d=pp(o,null,f,d),o.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(pn(),f===b){o=ws(n,o,d);break e}Xt(n,o,f,d)}o=o.child}return o;case 5:return vp(o),n===null&&ru(o),f=o.type,b=o.pendingProps,N=n!==null?n.memoizedProps:null,D=b.children,Yd(f,b)?D=null:N!==null&&Yd(f,N)&&(o.flags|=32),eg(n,o),Xt(n,o,D,d),o.child;case 6:return n===null&&ru(o),null;case 13:return ag(n,o,d);case 4:return du(o,o.stateNode.containerInfo),f=o.pendingProps,n===null?o.child=gn(o,null,f,d):Xt(n,o,f,d),o.child;case 11:return f=o.type,b=o.pendingProps,b=o.elementType===f?b:Or(f,b),Xp(n,o,f,b,d);case 7:return Xt(n,o,o.pendingProps,d),o.child;case 8:return Xt(n,o,o.pendingProps.children,d),o.child;case 12:return Xt(n,o,o.pendingProps.children,d),o.child;case 10:e:{if(f=o.type._context,b=o.pendingProps,N=o.memoizedProps,D=b.value,Ze(hl,f._currentValue),f._currentValue=D,N!==null)if(Ir(N.value,D)){if(N.children===b.children&&!rr.current){o=ws(n,o,d);break e}}else for(N=o.child,N!==null&&(N.return=o);N!==null;){var $=N.dependencies;if($!==null){D=N.child;for(var Y=$.firstContext;Y!==null;){if(Y.context===f){if(N.tag===1){Y=vs(-1,d&-d),Y.tag=2;var oe=N.updateQueue;if(oe!==null){oe=oe.shared;var fe=oe.pending;fe===null?Y.next=Y:(Y.next=fe.next,fe.next=Y),oe.pending=Y}}N.lanes|=d,Y=N.alternate,Y!==null&&(Y.lanes|=d),iu(N.return,d,o),$.lanes|=d;break}Y=Y.next}}else if(N.tag===10)D=N.type===o.type?null:N.child;else if(N.tag===18){if(D=N.return,D===null)throw Error(s(341));D.lanes|=d,$=D.alternate,$!==null&&($.lanes|=d),iu(D,d,o),D=N.sibling}else D=N.child;if(D!==null)D.return=N;else for(D=N;D!==null;){if(D===o){D=null;break}if(N=D.sibling,N!==null){N.return=D.return,D=N;break}D=D.return}N=D}Xt(n,o,b.children,d),o=o.child}return o;case 9:return b=o.type,f=o.pendingProps.children,yn(o,d),b=wr(b),f=f(b),o.flags|=1,Xt(n,o,f,d),o.child;case 14:return f=o.type,b=Or(f,o.pendingProps),b=Or(f.type,b),Qp(n,o,f,b,d);case 15:return Jp(n,o,o.type,o.pendingProps,d);case 17:return f=o.type,b=o.pendingProps,b=o.elementType===f?b:Or(f,b),Sl(n,o),o.tag=1,sr(f)?(n=!0,il(o)):n=!1,yn(o,d),zp(o,f,b),Nu(o,f,b,d),Eu(null,o,f,!0,n,d);case 19:return og(n,o,d);case 22:return Zp(n,o,d)}throw Error(s(156,o.tag))};function Pg(n,o){return cf(n,o)}function NN(n,o,d,f){this.tag=n,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kr(n,o,d,f){return new NN(n,o,d,f)}function Yu(n){return n=n.prototype,!(!n||!n.isReactComponent)}function kN(n){if(typeof n=="function")return Yu(n)?1:0;if(n!=null){if(n=n.$$typeof,n===B)return 11;if(n===ee)return 14}return 2}function Js(n,o){var d=n.alternate;return d===null?(d=kr(n.tag,o,n.key,n.mode),d.elementType=n.elementType,d.type=n.type,d.stateNode=n.stateNode,d.alternate=n,n.alternate=d):(d.pendingProps=o,d.type=n.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=n.flags&14680064,d.childLanes=n.childLanes,d.lanes=n.lanes,d.child=n.child,d.memoizedProps=n.memoizedProps,d.memoizedState=n.memoizedState,d.updateQueue=n.updateQueue,o=n.dependencies,d.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},d.sibling=n.sibling,d.index=n.index,d.ref=n.ref,d}function _l(n,o,d,f,b,N){var D=2;if(f=n,typeof n=="function")Yu(n)&&(D=1);else if(typeof n=="string")D=5;else e:switch(n){case T:return Ra(d.children,b,N,o);case L:D=8,b|=8;break;case z:return n=kr(12,d,o,b|2),n.elementType=z,n.lanes=N,n;case U:return n=kr(13,d,o,b),n.elementType=U,n.lanes=N,n;case R:return n=kr(19,d,o,b),n.elementType=R,n.lanes=N,n;case H:return Ol(d,b,N,o);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case q:D=10;break e;case O:D=9;break e;case B:D=11;break e;case ee:D=14;break e;case J:D=16,f=null;break e}throw Error(s(130,n==null?n:typeof n,""))}return o=kr(D,d,o,b),o.elementType=n,o.type=f,o.lanes=N,o}function Ra(n,o,d,f){return n=kr(7,n,f,o),n.lanes=d,n}function Ol(n,o,d,f){return n=kr(22,n,f,o),n.elementType=H,n.lanes=d,n.stateNode={isHidden:!1},n}function Ku(n,o,d){return n=kr(6,n,null,o),n.lanes=d,n}function Gu(n,o,d){return o=kr(4,n.children!==null?n.children:[],n.key,o),o.lanes=d,o.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},o}function SN(n,o,d,f,b){this.tag=o,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jd(0),this.expirationTimes=jd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jd(0),this.identifierPrefix=f,this.onRecoverableError=b,this.mutableSourceEagerHydrationData=null}function Xu(n,o,d,f,b,N,D,$,Y){return n=new SN(n,o,d,$,Y),o===1?(o=1,N===!0&&(o|=8)):o=0,N=kr(3,null,null,o),n.current=N,N.stateNode=n,N.memoizedState={element:f,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},cu(N),n}function CN(n,o,d){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:f==null?null:""+f,children:n,containerInfo:o,implementation:d}}function Dg(n){if(!n)return zs;n=n._reactInternals;e:{if(wa(n)!==n||n.tag!==1)throw Error(s(170));var o=n;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(sr(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(s(171))}if(n.tag===1){var d=n.type;if(sr(d))return np(n,d,o)}return o}function Mg(n,o,d,f,b,N,D,$,Y){return n=Xu(d,f,!0,n,b,N,D,$,Y),n.context=Dg(null),d=n.current,f=Qt(),b=Xs(d),N=vs(f,b),N.callback=o??null,qs(d,N,b),n.current.lanes=b,oo(n,b,f),or(n,f),n}function Fl(n,o,d,f){var b=o.current,N=Qt(),D=Xs(b);return d=Dg(d),o.context===null?o.context=d:o.pendingContext=d,o=vs(N,D),o.payload={element:n},f=f===void 0?null:f,f!==null&&(o.callback=f),n=qs(b,o,D),n!==null&&(Ur(n,b,D,N),pl(n,b,D)),D}function Bl(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Rg(n,o){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var d=n.retryLane;n.retryLane=d!==0&&d<o?d:o}}function Qu(n,o){Rg(n,o),(n=n.alternate)&&Rg(n,o)}function EN(){return null}var Lg=typeof reportError=="function"?reportError:function(n){console.error(n)};function Ju(n){this._internalRoot=n}Ul.prototype.render=Ju.prototype.render=function(n){var o=this._internalRoot;if(o===null)throw Error(s(409));Fl(n,o,null,null)},Ul.prototype.unmount=Ju.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var o=n.containerInfo;Pa(function(){Fl(null,n,null,null)}),o[ps]=null}};function Ul(n){this._internalRoot=n}Ul.prototype.unstable_scheduleHydration=function(n){if(n){var o=xf();n={blockedOn:null,target:n,priority:o};for(var d=0;d<Fs.length&&o!==0&&o<Fs[d].priority;d++);Fs.splice(d,0,n),d===0&&vf(n)}};function Zu(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function $l(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Ig(){}function TN(n,o,d,f,b){if(b){if(typeof f=="function"){var N=f;f=function(){var oe=Bl(D);N.call(oe)}}var D=Mg(o,f,n,0,null,!1,!1,"",Ig);return n._reactRootContainer=D,n[ps]=D.current,wo(n.nodeType===8?n.parentNode:n),Pa(),D}for(;b=n.lastChild;)n.removeChild(b);if(typeof f=="function"){var $=f;f=function(){var oe=Bl(Y);$.call(oe)}}var Y=Xu(n,0,!1,null,null,!1,!1,"",Ig);return n._reactRootContainer=Y,n[ps]=Y.current,wo(n.nodeType===8?n.parentNode:n),Pa(function(){Fl(o,Y,d,f)}),Y}function Vl(n,o,d,f,b){var N=d._reactRootContainer;if(N){var D=N;if(typeof b=="function"){var $=b;b=function(){var Y=Bl(D);$.call(Y)}}Fl(o,D,n,b)}else D=TN(d,o,n,b,f);return Bl(D)}pf=function(n){switch(n.tag){case 3:var o=n.stateNode;if(o.current.memoizedState.isDehydrated){var d=no(o.pendingLanes);d!==0&&(Nd(o,d|1),or(o,xt()),(He&6)===0&&(Nn=xt()+500,Hs()))}break;case 13:Pa(function(){var f=bs(n,1);if(f!==null){var b=Qt();Ur(f,n,1,b)}}),Qu(n,1)}},kd=function(n){if(n.tag===13){var o=bs(n,134217728);if(o!==null){var d=Qt();Ur(o,n,134217728,d)}Qu(n,134217728)}},gf=function(n){if(n.tag===13){var o=Xs(n),d=bs(n,o);if(d!==null){var f=Qt();Ur(d,n,o,f)}Qu(n,o)}},xf=function(){return Ge},yf=function(n,o){var d=Ge;try{return Ge=n,o()}finally{Ge=d}},gd=function(n,o,d){switch(o){case"input":if(ct(n,d),o=d.name,d.type==="radio"&&o!=null){for(d=n;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<d.length;o++){var f=d[o];if(f!==n&&f.form===n.form){var b=nl(f);if(!b)throw Error(s(90));we(f),ct(f,b)}}}break;case"textarea":ze(n,d);break;case"select":o=d.value,o!=null&&fs(n,!!d.multiple,o,!1)}},tf=Hu,rf=Pa;var AN={usingClientEntryPoint:!1,Events:[ko,dn,nl,Zh,ef,Hu]},Fo={findFiberByHostInstance:ja,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},PN={bundleType:Fo.bundleType,version:Fo.version,rendererPackageName:Fo.rendererPackageName,rendererConfig:Fo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=of(n),n===null?null:n.stateNode},findFiberByHostInstance:Fo.findFiberByHostInstance||EN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zl.isDisabled&&zl.supportsFiber)try{Ui=zl.inject(PN),Kr=zl}catch{}}return ir.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AN,ir.createPortal=function(n,o){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zu(o))throw Error(s(200));return CN(n,o,null,d)},ir.createRoot=function(n,o){if(!Zu(n))throw Error(s(299));var d=!1,f="",b=Lg;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(b=o.onRecoverableError)),o=Xu(n,1,!1,null,null,d,!1,f,b),n[ps]=o.current,wo(n.nodeType===8?n.parentNode:n),new Ju(o)},ir.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var o=n._reactInternals;if(o===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=of(o),n=n===null?null:n.stateNode,n},ir.flushSync=function(n){return Pa(n)},ir.hydrate=function(n,o,d){if(!$l(o))throw Error(s(200));return Vl(null,n,o,!0,d)},ir.hydrateRoot=function(n,o,d){if(!Zu(n))throw Error(s(405));var f=d!=null&&d.hydratedSources||null,b=!1,N="",D=Lg;if(d!=null&&(d.unstable_strictMode===!0&&(b=!0),d.identifierPrefix!==void 0&&(N=d.identifierPrefix),d.onRecoverableError!==void 0&&(D=d.onRecoverableError)),o=Mg(o,null,n,1,d??null,b,!1,N,D),n[ps]=o.current,wo(n),f)for(n=0;n<f.length;n++)d=f[n],b=d._getVersion,b=b(d._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[d,b]:o.mutableSourceEagerHydrationData.push(d,b);return new Ul(o)},ir.render=function(n,o,d){if(!$l(o))throw Error(s(200));return Vl(null,n,o,!1,d)},ir.unmountComponentAtNode=function(n){if(!$l(n))throw Error(s(40));return n._reactRootContainer?(Pa(function(){Vl(null,null,n,!1,function(){n._reactRootContainer=null,n[ps]=null})}),!0):!1},ir.unstable_batchedUpdates=Hu,ir.unstable_renderSubtreeIntoContainer=function(n,o,d,f){if(!$l(d))throw Error(s(200));if(n==null||n._reactInternals===void 0)throw Error(s(38));return Vl(n,o,d,!1,f)},ir.version="18.3.1-next-f1338f8080-20240426",ir}var zg;function Sb(){if(zg)return rm.exports;zg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}return t(),rm.exports=FN(),rm.exports}var Hg;function BN(){if(Hg)return Hl;Hg=1;var t=Sb();return Hl.createRoot=t.createRoot,Hl.hydrateRoot=t.hydrateRoot,Hl}var UN=BN();const Cb=y.createContext(),$N=({children:t})=>{const r=()=>{if(typeof window<"u"&&window.localStorage){const l=window.localStorage.getItem("theme");if(typeof l=="string")return l;if(window.matchMedia("(prefers-color-scheme: dark)").matches)return"dark"}return"light"},[s,a]=y.useState(r);y.useEffect(()=>{const l=window.document.documentElement,c=s==="dark";l.classList.remove(c?"light":"dark"),l.classList.add(s),localStorage.setItem("theme",s)},[s]);const i=()=>a(l=>l==="dark"?"light":"dark");return e.jsx(Cb.Provider,{value:{theme:s,toggleTheme:i},children:t})};var Eb=Sb();const VN=q0(Eb);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function oi(){return oi=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},oi.apply(this,arguments)}var la;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(la||(la={}));const Wg="popstate";function zN(t){t===void 0&&(t={});function r(i,l){let{pathname:c="/",search:u="",hash:m=""}=Ja(i.location.hash.substr(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Ym("",{pathname:c,search:u,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function s(i,l){let c=i.document.querySelector("base"),u="";if(c&&c.getAttribute("href")){let m=i.location.href,h=m.indexOf("#");u=h===-1?m:m.slice(0,h)}return u+"#"+(typeof l=="string"?l:Sc(l))}function a(i,l){G0(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(l)+")")}return WN(r,s,a,t)}function Nt(t,r){if(t===!1||t===null||typeof t>"u")throw new Error(r)}function G0(t,r){if(!t){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function HN(){return Math.random().toString(36).substr(2,8)}function qg(t,r){return{usr:t.state,key:t.key,idx:r}}function Ym(t,r,s,a){return s===void 0&&(s=null),oi({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof r=="string"?Ja(r):r,{state:s,key:r&&r.key||a||HN()})}function Sc(t){let{pathname:r="/",search:s="",hash:a=""}=t;return s&&s!=="?"&&(r+=s.charAt(0)==="?"?s:"?"+s),a&&a!=="#"&&(r+=a.charAt(0)==="#"?a:"#"+a),r}function Ja(t){let r={};if(t){let s=t.indexOf("#");s>=0&&(r.hash=t.substr(s),t=t.substr(0,s));let a=t.indexOf("?");a>=0&&(r.search=t.substr(a),t=t.substr(0,a)),t&&(r.pathname=t)}return r}function WN(t,r,s,a){a===void 0&&(a={});let{window:i=document.defaultView,v5Compat:l=!1}=a,c=i.history,u=la.Pop,m=null,h=p();h==null&&(h=0,c.replaceState(oi({},c.state,{idx:h}),""));function p(){return(c.state||{idx:null}).idx}function g(){u=la.Pop;let k=p(),E=k==null?null:k-h;h=k,m&&m({action:u,location:S.location,delta:E})}function x(k,E){u=la.Push;let C=Ym(S.location,k,E);s&&s(C,k),h=p()+1;let j=qg(C,h),A=S.createHref(C);try{c.pushState(j,"",A)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(A)}l&&m&&m({action:u,location:S.location,delta:1})}function v(k,E){u=la.Replace;let C=Ym(S.location,k,E);s&&s(C,k),h=p();let j=qg(C,h),A=S.createHref(C);c.replaceState(j,"",A),l&&m&&m({action:u,location:S.location,delta:0})}function w(k){let E=i.location.origin!=="null"?i.location.origin:i.location.href,C=typeof k=="string"?k:Sc(k);return C=C.replace(/ $/,"%20"),Nt(E,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,E)}let S={get action(){return u},get location(){return t(i,c)},listen(k){if(m)throw new Error("A history only accepts one active listener");return i.addEventListener(Wg,g),m=k,()=>{i.removeEventListener(Wg,g),m=null}},createHref(k){return r(i,k)},createURL:w,encodeLocation(k){let E=w(k);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:x,replace:v,go(k){return c.go(k)}};return S}var Yg;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Yg||(Yg={}));function qN(t,r,s){return s===void 0&&(s="/"),YN(t,r,s)}function YN(t,r,s,a){let i=typeof r=="string"?Ja(r):r,l=X0(i.pathname||"/",s);if(l==null)return null;let c=Tb(t);KN(c);let u=null;for(let m=0;u==null&&m<c.length;++m){let h=ok(l);u=sk(c[m],h)}return u}function Tb(t,r,s,a){r===void 0&&(r=[]),s===void 0&&(s=[]),a===void 0&&(a="");let i=(l,c,u)=>{let m={relativePath:u===void 0?l.path||"":u,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(Nt(m.relativePath.startsWith(a),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(a.length));let h=ca([a,m.relativePath]),p=s.concat(m);l.children&&l.children.length>0&&(Nt(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),Tb(l.children,r,p,h)),!(l.path==null&&!l.index)&&r.push({path:h,score:tk(h,l.index),routesMeta:p})};return t.forEach((l,c)=>{var u;if(l.path===""||!((u=l.path)!=null&&u.includes("?")))i(l,c);else for(let m of Ab(l.path))i(l,c,m)}),r}function Ab(t){let r=t.split("/");if(r.length===0)return[];let[s,...a]=r,i=s.endsWith("?"),l=s.replace(/\?$/,"");if(a.length===0)return i?[l,""]:[l];let c=Ab(a.join("/")),u=[];return u.push(...c.map(m=>m===""?l:[l,m].join("/"))),i&&u.push(...c),u.map(m=>t.startsWith("/")&&m===""?"/":m)}function KN(t){t.sort((r,s)=>r.score!==s.score?s.score-r.score:rk(r.routesMeta.map(a=>a.childrenIndex),s.routesMeta.map(a=>a.childrenIndex)))}const GN=/^:[\w-]+$/,XN=3,QN=2,JN=1,ZN=10,ek=-2,Kg=t=>t==="*";function tk(t,r){let s=t.split("/"),a=s.length;return s.some(Kg)&&(a+=ek),r&&(a+=QN),s.filter(i=>!Kg(i)).reduce((i,l)=>i+(GN.test(l)?XN:l===""?JN:ZN),a)}function rk(t,r){return t.length===r.length&&t.slice(0,-1).every((a,i)=>a===r[i])?t[t.length-1]-r[r.length-1]:0}function sk(t,r,s){let{routesMeta:a}=t,i={},l="/",c=[];for(let u=0;u<a.length;++u){let m=a[u],h=u===a.length-1,p=l==="/"?r:r.slice(l.length)||"/",g=ak({path:m.relativePath,caseSensitive:m.caseSensitive,end:h},p),x=m.route;if(!g)return null;Object.assign(i,g.params),c.push({params:i,pathname:ca([l,g.pathname]),pathnameBase:dk(ca([l,g.pathnameBase])),route:x}),g.pathnameBase!=="/"&&(l=ca([l,g.pathnameBase]))}return c}function ak(t,r){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[s,a]=nk(t.path,t.caseSensitive,t.end),i=r.match(s);if(!i)return null;let l=i[0],c=l.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:a.reduce((h,p,g)=>{let{paramName:x,isOptional:v}=p;if(x==="*"){let S=u[g]||"";c=l.slice(0,l.length-S.length).replace(/(.)\/+$/,"$1")}const w=u[g];return v&&!w?h[x]=void 0:h[x]=(w||"").replace(/%2F/g,"/"),h},{}),pathname:l,pathnameBase:c,pattern:t}}function nk(t,r,s){r===void 0&&(r=!1),s===void 0&&(s=!0),G0(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let a=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,m)=>(a.push({paramName:u,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(a.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,r?void 0:"i"),a]}function ok(t){try{return t.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return G0(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),t}}function X0(t,r){if(r==="/")return t;if(!t.toLowerCase().startsWith(r.toLowerCase()))return null;let s=r.endsWith("/")?r.length-1:r.length,a=t.charAt(s);return a&&a!=="/"?null:t.slice(s)||"/"}function ik(t,r){r===void 0&&(r="/");let{pathname:s,search:a="",hash:i=""}=typeof t=="string"?Ja(t):t;return{pathname:s?s.startsWith("/")?s:lk(s,r):r,search:uk(a),hash:mk(i)}}function lk(t,r){let s=r.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?s.length>1&&s.pop():i!=="."&&s.push(i)}),s.length>1?s.join("/"):"/"}function nm(t,r,s,a){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ck(t){return t.filter((r,s)=>s===0||r.route.path&&r.route.path.length>0)}function Q0(t,r){let s=ck(t);return r?s.map((a,i)=>i===s.length-1?a.pathname:a.pathnameBase):s.map(a=>a.pathnameBase)}function J0(t,r,s,a){a===void 0&&(a=!1);let i;typeof t=="string"?i=Ja(t):(i=oi({},t),Nt(!i.pathname||!i.pathname.includes("?"),nm("?","pathname","search",i)),Nt(!i.pathname||!i.pathname.includes("#"),nm("#","pathname","hash",i)),Nt(!i.search||!i.search.includes("#"),nm("#","search","hash",i)));let l=t===""||i.pathname==="",c=l?"/":i.pathname,u;if(c==null)u=s;else{let g=r.length-1;if(!a&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),g-=1;i.pathname=x.join("/")}u=g>=0?r[g]:"/"}let m=ik(i,u),h=c&&c!=="/"&&c.endsWith("/"),p=(l||c===".")&&s.endsWith("/");return!m.pathname.endsWith("/")&&(h||p)&&(m.pathname+="/"),m}const ca=t=>t.join("/").replace(/\/\/+/g,"/"),dk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),uk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,mk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function hk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Pb=["post","put","patch","delete"];new Set(Pb);const fk=["get",...Pb];new Set(fk);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ii(){return ii=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},ii.apply(this,arguments)}const Z0=y.createContext(null),pk=y.createContext(null),pa=y.createContext(null),Vc=y.createContext(null),ga=y.createContext({outlet:null,matches:[],isDataRoute:!1}),Db=y.createContext(null);function gk(t,r){let{relative:s}=r===void 0?{}:r;qn()||Nt(!1);let{basename:a,navigator:i}=y.useContext(pa),{hash:l,pathname:c,search:u}=Rb(t,{relative:s}),m=c;return a!=="/"&&(m=c==="/"?a:ca([a,c])),i.createHref({pathname:m,search:u,hash:l})}function qn(){return y.useContext(Vc)!=null}function Yn(){return qn()||Nt(!1),y.useContext(Vc).location}function Mb(t){y.useContext(pa).static||y.useLayoutEffect(t)}function us(){let{isDataRoute:t}=y.useContext(ga);return t?Ak():xk()}function xk(){qn()||Nt(!1);let t=y.useContext(Z0),{basename:r,future:s,navigator:a}=y.useContext(pa),{matches:i}=y.useContext(ga),{pathname:l}=Yn(),c=JSON.stringify(Q0(i,s.v7_relativeSplatPath)),u=y.useRef(!1);return Mb(()=>{u.current=!0}),y.useCallback(function(h,p){if(p===void 0&&(p={}),!u.current)return;if(typeof h=="number"){a.go(h);return}let g=J0(h,JSON.parse(c),l,p.relative==="path");t==null&&r!=="/"&&(g.pathname=g.pathname==="/"?r:ca([r,g.pathname])),(p.replace?a.replace:a.push)(g,p.state,p)},[r,a,c,l,t])}function Rb(t,r){let{relative:s}=r===void 0?{}:r,{future:a}=y.useContext(pa),{matches:i}=y.useContext(ga),{pathname:l}=Yn(),c=JSON.stringify(Q0(i,a.v7_relativeSplatPath));return y.useMemo(()=>J0(t,JSON.parse(c),l,s==="path"),[t,c,l,s])}function yk(t,r){return bk(t,r)}function bk(t,r,s,a){qn()||Nt(!1);let{navigator:i}=y.useContext(pa),{matches:l}=y.useContext(ga),c=l[l.length-1],u=c?c.params:{};c&&c.pathname;let m=c?c.pathnameBase:"/";c&&c.route;let h=Yn(),p;if(r){var g;let k=typeof r=="string"?Ja(r):r;m==="/"||(g=k.pathname)!=null&&g.startsWith(m)||Nt(!1),p=k}else p=h;let x=p.pathname||"/",v=x;if(m!=="/"){let k=m.replace(/^\//,"").split("/");v="/"+x.replace(/^\//,"").split("/").slice(k.length).join("/")}let w=qN(t,{pathname:v}),S=kk(w&&w.map(k=>Object.assign({},k,{params:Object.assign({},u,k.params),pathname:ca([m,i.encodeLocation?i.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?m:ca([m,i.encodeLocation?i.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),l,s,a);return r&&S?y.createElement(Vc.Provider,{value:{location:ii({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:la.Pop}},S):S}function vk(){let t=Tk(),r=hk(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),s=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},r),s?y.createElement("pre",{style:i},s):null,null)}const wk=y.createElement(vk,null);class jk extends y.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,s){return s.location!==r.location||s.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:s.error,location:s.location,revalidation:r.revalidation||s.revalidation}}componentDidCatch(r,s){console.error("React Router caught the following error during render",r,s)}render(){return this.state.error!==void 0?y.createElement(ga.Provider,{value:this.props.routeContext},y.createElement(Db.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Nk(t){let{routeContext:r,match:s,children:a}=t,i=y.useContext(Z0);return i&&i.static&&i.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=s.route.id),y.createElement(ga.Provider,{value:r},a)}function kk(t,r,s,a){var i;if(r===void 0&&(r=[]),s===void 0&&(s=null),a===void 0&&(a=null),t==null){var l;if(!s)return null;if(s.errors)t=s.matches;else if((l=a)!=null&&l.v7_partialHydration&&r.length===0&&!s.initialized&&s.matches.length>0)t=s.matches;else return null}let c=t,u=(i=s)==null?void 0:i.errors;if(u!=null){let p=c.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);p>=0||Nt(!1),c=c.slice(0,Math.min(c.length,p+1))}let m=!1,h=-1;if(s&&a&&a.v7_partialHydration)for(let p=0;p<c.length;p++){let g=c[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=p),g.route.id){let{loaderData:x,errors:v}=s,w=g.route.loader&&x[g.route.id]===void 0&&(!v||v[g.route.id]===void 0);if(g.route.lazy||w){m=!0,h>=0?c=c.slice(0,h+1):c=[c[0]];break}}}return c.reduceRight((p,g,x)=>{let v,w=!1,S=null,k=null;s&&(v=u&&g.route.id?u[g.route.id]:void 0,S=g.route.errorElement||wk,m&&(h<0&&x===0?(Pk("route-fallback"),w=!0,k=null):h===x&&(w=!0,k=g.route.hydrateFallbackElement||null)));let E=r.concat(c.slice(0,x+1)),C=()=>{let j;return v?j=S:w?j=k:g.route.Component?j=y.createElement(g.route.Component,null):g.route.element?j=g.route.element:j=p,y.createElement(Nk,{match:g,routeContext:{outlet:p,matches:E,isDataRoute:s!=null},children:j})};return s&&(g.route.ErrorBoundary||g.route.errorElement||x===0)?y.createElement(jk,{location:s.location,revalidation:s.revalidation,component:S,error:v,children:C(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):C()},null)}var Lb=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(Lb||{}),Ib=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(Ib||{});function Sk(t){let r=y.useContext(Z0);return r||Nt(!1),r}function Ck(t){let r=y.useContext(pk);return r||Nt(!1),r}function Ek(t){let r=y.useContext(ga);return r||Nt(!1),r}function _b(t){let r=Ek(),s=r.matches[r.matches.length-1];return s.route.id||Nt(!1),s.route.id}function Tk(){var t;let r=y.useContext(Db),s=Ck(),a=_b();return r!==void 0?r:(t=s.errors)==null?void 0:t[a]}function Ak(){let{router:t}=Sk(Lb.UseNavigateStable),r=_b(Ib.UseNavigateStable),s=y.useRef(!1);return Mb(()=>{s.current=!0}),y.useCallback(function(i,l){l===void 0&&(l={}),s.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ii({fromRouteId:r},l)))},[t,r])}const Gg={};function Pk(t,r,s){Gg[t]||(Gg[t]=!0)}function Dk(t,r){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Km(t){let{to:r,replace:s,state:a,relative:i}=t;qn()||Nt(!1);let{future:l,static:c}=y.useContext(pa),{matches:u}=y.useContext(ga),{pathname:m}=Yn(),h=us(),p=J0(r,Q0(u,l.v7_relativeSplatPath),m,i==="path"),g=JSON.stringify(p);return y.useEffect(()=>h(JSON.parse(g),{replace:s,state:a,relative:i}),[h,g,i,s,a]),null}function $e(t){Nt(!1)}function Mk(t){let{basename:r="/",children:s=null,location:a,navigationType:i=la.Pop,navigator:l,static:c=!1,future:u}=t;qn()&&Nt(!1);let m=r.replace(/^\/*/,"/"),h=y.useMemo(()=>({basename:m,navigator:l,static:c,future:ii({v7_relativeSplatPath:!1},u)}),[m,u,l,c]);typeof a=="string"&&(a=Ja(a));let{pathname:p="/",search:g="",hash:x="",state:v=null,key:w="default"}=a,S=y.useMemo(()=>{let k=X0(p,m);return k==null?null:{location:{pathname:k,search:g,hash:x,state:v,key:w},navigationType:i}},[m,p,g,x,v,w,i]);return S==null?null:y.createElement(pa.Provider,{value:h},y.createElement(Vc.Provider,{children:s,value:S}))}function Rk(t){let{children:r,location:s}=t;return yk(Gm(r),s)}new Promise(()=>{});function Gm(t,r){r===void 0&&(r=[]);let s=[];return y.Children.forEach(t,(a,i)=>{if(!y.isValidElement(a))return;let l=[...r,i];if(a.type===y.Fragment){s.push.apply(s,Gm(a.props.children,l));return}a.type!==$e&&Nt(!1),!a.props.index||!a.props.children||Nt(!1);let c={id:a.props.id||l.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(c.children=Gm(a.props.children,l)),s.push(c)}),s}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xm(){return Xm=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},Xm.apply(this,arguments)}function Lk(t,r){if(t==null)return{};var s={},a=Object.keys(t),i,l;for(l=0;l<a.length;l++)i=a[l],!(r.indexOf(i)>=0)&&(s[i]=t[i]);return s}function Ik(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function _k(t,r){return t.button===0&&(!r||r==="_self")&&!Ik(t)}const Ok=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Fk="6";try{window.__reactRouterVersion=Fk}catch{}const Bk="startTransition",Xg=K0[Bk];function Uk(t){let{basename:r,children:s,future:a,window:i}=t,l=y.useRef();l.current==null&&(l.current=zN({window:i,v5Compat:!0}));let c=l.current,[u,m]=y.useState({action:c.action,location:c.location}),{v7_startTransition:h}=a||{},p=y.useCallback(g=>{h&&Xg?Xg(()=>m(g)):m(g)},[m,h]);return y.useLayoutEffect(()=>c.listen(p),[c,p]),y.useEffect(()=>Dk(a),[a]),y.createElement(Mk,{basename:r,children:s,location:u.location,navigationType:u.action,navigator:c,future:a})}const $k=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Vk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Te=y.forwardRef(function(r,s){let{onClick:a,relative:i,reloadDocument:l,replace:c,state:u,target:m,to:h,preventScrollReset:p,viewTransition:g}=r,x=Lk(r,Ok),{basename:v}=y.useContext(pa),w,S=!1;if(typeof h=="string"&&Vk.test(h)&&(w=h,$k))try{let j=new URL(window.location.href),A=h.startsWith("//")?new URL(j.protocol+h):new URL(h),P=X0(A.pathname,v);A.origin===j.origin&&P!=null?h=P+A.search+A.hash:S=!0}catch{}let k=gk(h,{relative:i}),E=zk(h,{replace:c,state:u,target:m,preventScrollReset:p,relative:i,viewTransition:g});function C(j){a&&a(j),j.defaultPrevented||E(j)}return y.createElement("a",Xm({},x,{href:w||k,onClick:S||l?a:C,ref:s,target:m}))});var Qg;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Qg||(Qg={}));var Jg;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Jg||(Jg={}));function zk(t,r){let{target:s,replace:a,state:i,preventScrollReset:l,relative:c,viewTransition:u}=r===void 0?{}:r,m=us(),h=Yn(),p=Rb(t,{relative:c});return y.useCallback(g=>{if(_k(g,s)){g.preventDefault();let x=a!==void 0?a:Sc(h)===Sc(p);m(t,{replace:x,state:i,preventScrollReset:l,relative:c,viewTransition:u})}},[h,m,p,a,i,s,t,l,c,u])}const Hk="modulepreload",Wk=function(t){return"/"+t},Zg={},xa=function(r,s,a){let i=Promise.resolve();if(s&&s.length>0){let c=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),m=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));i=c(s.map(h=>{if(h=Wk(h),h in Zg)return;Zg[h]=!0;const p=h.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const x=document.createElement("link");if(x.rel=p?"stylesheet":Hk,p||(x.as="script"),x.crossOrigin="",x.href=h,m&&x.setAttribute("nonce",m),document.head.appendChild(x),p)return new Promise((v,w)=>{x.addEventListener("load",v),x.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${h}`)))})}))}function l(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return i.then(c=>{for(const u of c||[])u.status==="rejected"&&l(u.reason);return r().catch(l)})};function Ob(t){var r,s,a="";if(typeof t=="string"||typeof t=="number")a+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(r=0;r<i;r++)t[r]&&(s=Ob(t[r]))&&(a&&(a+=" "),a+=s)}else for(s in t)t[s]&&(a&&(a+=" "),a+=s);return a}function rs(){for(var t,r,s=0,a="",i=arguments.length;s<i;s++)(t=arguments[s])&&(r=Ob(t))&&(a&&(a+=" "),a+=r);return a}const eh="-",qk=t=>{const r=Kk(t),{conflictingClassGroups:s,conflictingClassGroupModifiers:a}=t;return{getClassGroupId:c=>{const u=c.split(eh);return u[0]===""&&u.length!==1&&u.shift(),Fb(u,r)||Yk(c)},getConflictingClassGroupIds:(c,u)=>{const m=s[c]||[];return u&&a[c]?[...m,...a[c]]:m}}},Fb=(t,r)=>{var c;if(t.length===0)return r.classGroupId;const s=t[0],a=r.nextPart.get(s),i=a?Fb(t.slice(1),a):void 0;if(i)return i;if(r.validators.length===0)return;const l=t.join(eh);return(c=r.validators.find(({validator:u})=>u(l)))==null?void 0:c.classGroupId},ex=/^\[(.+)\]$/,Yk=t=>{if(ex.test(t)){const r=ex.exec(t)[1],s=r==null?void 0:r.substring(0,r.indexOf(":"));if(s)return"arbitrary.."+s}},Kk=t=>{const{theme:r,prefix:s}=t,a={nextPart:new Map,validators:[]};return Xk(Object.entries(t.classGroups),s).forEach(([l,c])=>{Qm(c,a,l,r)}),a},Qm=(t,r,s,a)=>{t.forEach(i=>{if(typeof i=="string"){const l=i===""?r:tx(r,i);l.classGroupId=s;return}if(typeof i=="function"){if(Gk(i)){Qm(i(a),r,s,a);return}r.validators.push({validator:i,classGroupId:s});return}Object.entries(i).forEach(([l,c])=>{Qm(c,tx(r,l),s,a)})})},tx=(t,r)=>{let s=t;return r.split(eh).forEach(a=>{s.nextPart.has(a)||s.nextPart.set(a,{nextPart:new Map,validators:[]}),s=s.nextPart.get(a)}),s},Gk=t=>t.isThemeGetter,Xk=(t,r)=>r?t.map(([s,a])=>{const i=a.map(l=>typeof l=="string"?r+l:typeof l=="object"?Object.fromEntries(Object.entries(l).map(([c,u])=>[r+c,u])):l);return[s,i]}):t,Qk=t=>{if(t<1)return{get:()=>{},set:()=>{}};let r=0,s=new Map,a=new Map;const i=(l,c)=>{s.set(l,c),r++,r>t&&(r=0,a=s,s=new Map)};return{get(l){let c=s.get(l);if(c!==void 0)return c;if((c=a.get(l))!==void 0)return i(l,c),c},set(l,c){s.has(l)?s.set(l,c):i(l,c)}}},Bb="!",Jk=t=>{const{separator:r,experimentalParseClassName:s}=t,a=r.length===1,i=r[0],l=r.length,c=u=>{const m=[];let h=0,p=0,g;for(let k=0;k<u.length;k++){let E=u[k];if(h===0){if(E===i&&(a||u.slice(k,k+l)===r)){m.push(u.slice(p,k)),p=k+l;continue}if(E==="/"){g=k;continue}}E==="["?h++:E==="]"&&h--}const x=m.length===0?u:u.substring(p),v=x.startsWith(Bb),w=v?x.substring(1):x,S=g&&g>p?g-p:void 0;return{modifiers:m,hasImportantModifier:v,baseClassName:w,maybePostfixModifierPosition:S}};return s?u=>s({className:u,parseClassName:c}):c},Zk=t=>{if(t.length<=1)return t;const r=[];let s=[];return t.forEach(a=>{a[0]==="["?(r.push(...s.sort(),a),s=[]):s.push(a)}),r.push(...s.sort()),r},e4=t=>({cache:Qk(t.cacheSize),parseClassName:Jk(t),...qk(t)}),t4=/\s+/,r4=(t,r)=>{const{parseClassName:s,getClassGroupId:a,getConflictingClassGroupIds:i}=r,l=[],c=t.trim().split(t4);let u="";for(let m=c.length-1;m>=0;m-=1){const h=c[m],{modifiers:p,hasImportantModifier:g,baseClassName:x,maybePostfixModifierPosition:v}=s(h);let w=!!v,S=a(w?x.substring(0,v):x);if(!S){if(!w){u=h+(u.length>0?" "+u:u);continue}if(S=a(x),!S){u=h+(u.length>0?" "+u:u);continue}w=!1}const k=Zk(p).join(":"),E=g?k+Bb:k,C=E+S;if(l.includes(C))continue;l.push(C);const j=i(S,w);for(let A=0;A<j.length;++A){const P=j[A];l.push(E+P)}u=h+(u.length>0?" "+u:u)}return u};function s4(){let t=0,r,s,a="";for(;t<arguments.length;)(r=arguments[t++])&&(s=Ub(r))&&(a&&(a+=" "),a+=s);return a}const Ub=t=>{if(typeof t=="string")return t;let r,s="";for(let a=0;a<t.length;a++)t[a]&&(r=Ub(t[a]))&&(s&&(s+=" "),s+=r);return s};function a4(t,...r){let s,a,i,l=c;function c(m){const h=r.reduce((p,g)=>g(p),t());return s=e4(h),a=s.cache.get,i=s.cache.set,l=u,u(m)}function u(m){const h=a(m);if(h)return h;const p=r4(m,s);return i(m,p),p}return function(){return l(s4.apply(null,arguments))}}const st=t=>{const r=s=>s[t]||[];return r.isThemeGetter=!0,r},$b=/^\[(?:([a-z-]+):)?(.+)\]$/i,n4=/^\d+\/\d+$/,o4=new Set(["px","full","screen"]),i4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,l4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,c4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,d4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,u4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ns=t=>On(t)||o4.has(t)||n4.test(t),ea=t=>Kn(t,"length",b4),On=t=>!!t&&!Number.isNaN(Number(t)),om=t=>Kn(t,"number",On),Uo=t=>!!t&&Number.isInteger(Number(t)),m4=t=>t.endsWith("%")&&On(t.slice(0,-1)),Oe=t=>$b.test(t),ta=t=>i4.test(t),h4=new Set(["length","size","percentage"]),f4=t=>Kn(t,h4,Vb),p4=t=>Kn(t,"position",Vb),g4=new Set(["image","url"]),x4=t=>Kn(t,g4,w4),y4=t=>Kn(t,"",v4),$o=()=>!0,Kn=(t,r,s)=>{const a=$b.exec(t);return a?a[1]?typeof r=="string"?a[1]===r:r.has(a[1]):s(a[2]):!1},b4=t=>l4.test(t)&&!c4.test(t),Vb=()=>!1,v4=t=>d4.test(t),w4=t=>u4.test(t),j4=()=>{const t=st("colors"),r=st("spacing"),s=st("blur"),a=st("brightness"),i=st("borderColor"),l=st("borderRadius"),c=st("borderSpacing"),u=st("borderWidth"),m=st("contrast"),h=st("grayscale"),p=st("hueRotate"),g=st("invert"),x=st("gap"),v=st("gradientColorStops"),w=st("gradientColorStopPositions"),S=st("inset"),k=st("margin"),E=st("opacity"),C=st("padding"),j=st("saturate"),A=st("scale"),P=st("sepia"),F=st("skew"),T=st("space"),L=st("translate"),z=()=>["auto","contain","none"],q=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",Oe,r],B=()=>[Oe,r],U=()=>["",Ns,ea],R=()=>["auto",On,Oe],ee=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],J=()=>["solid","dashed","dotted","double","none"],H=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],K=()=>["start","end","center","between","around","evenly","stretch"],I=()=>["","0",Oe],G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],_=()=>[On,Oe];return{cacheSize:500,separator:":",theme:{colors:[$o],spacing:[Ns,ea],blur:["none","",ta,Oe],brightness:_(),borderColor:[t],borderRadius:["none","","full",ta,Oe],borderSpacing:B(),borderWidth:U(),contrast:_(),grayscale:I(),hueRotate:_(),invert:I(),gap:B(),gradientColorStops:[t],gradientColorStopPositions:[m4,ea],inset:O(),margin:O(),opacity:_(),padding:B(),saturate:_(),scale:_(),sepia:I(),skew:_(),space:B(),translate:B()},classGroups:{aspect:[{aspect:["auto","square","video",Oe]}],container:["container"],columns:[{columns:[ta]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ee(),Oe]}],overflow:[{overflow:q()}],"overflow-x":[{"overflow-x":q()}],"overflow-y":[{"overflow-y":q()}],overscroll:[{overscroll:z()}],"overscroll-x":[{"overscroll-x":z()}],"overscroll-y":[{"overscroll-y":z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[S]}],"inset-x":[{"inset-x":[S]}],"inset-y":[{"inset-y":[S]}],start:[{start:[S]}],end:[{end:[S]}],top:[{top:[S]}],right:[{right:[S]}],bottom:[{bottom:[S]}],left:[{left:[S]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Uo,Oe]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Oe]}],grow:[{grow:I()}],shrink:[{shrink:I()}],order:[{order:["first","last","none",Uo,Oe]}],"grid-cols":[{"grid-cols":[$o]}],"col-start-end":[{col:["auto",{span:["full",Uo,Oe]},Oe]}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":[$o]}],"row-start-end":[{row:["auto",{span:[Uo,Oe]},Oe]}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Oe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Oe]}],gap:[{gap:[x]}],"gap-x":[{"gap-x":[x]}],"gap-y":[{"gap-y":[x]}],"justify-content":[{justify:["normal",...K()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...K(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...K(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[C]}],px:[{px:[C]}],py:[{py:[C]}],ps:[{ps:[C]}],pe:[{pe:[C]}],pt:[{pt:[C]}],pr:[{pr:[C]}],pb:[{pb:[C]}],pl:[{pl:[C]}],m:[{m:[k]}],mx:[{mx:[k]}],my:[{my:[k]}],ms:[{ms:[k]}],me:[{me:[k]}],mt:[{mt:[k]}],mr:[{mr:[k]}],mb:[{mb:[k]}],ml:[{ml:[k]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Oe,r]}],"min-w":[{"min-w":[Oe,r,"min","max","fit"]}],"max-w":[{"max-w":[Oe,r,"none","full","min","max","fit","prose",{screen:[ta]},ta]}],h:[{h:[Oe,r,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Oe,r,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Oe,r,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Oe,r,"auto","min","max","fit"]}],"font-size":[{text:["base",ta,ea]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",om]}],"font-family":[{font:[$o]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Oe]}],"line-clamp":[{"line-clamp":["none",On,om]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ns,Oe]}],"list-image":[{"list-image":["none",Oe]}],"list-style-type":[{list:["none","disc","decimal",Oe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ns,ea]}],"underline-offset":[{"underline-offset":["auto",Ns,Oe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:B()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Oe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Oe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ee(),p4]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",f4]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},x4]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[l]}],"rounded-s":[{"rounded-s":[l]}],"rounded-e":[{"rounded-e":[l]}],"rounded-t":[{"rounded-t":[l]}],"rounded-r":[{"rounded-r":[l]}],"rounded-b":[{"rounded-b":[l]}],"rounded-l":[{"rounded-l":[l]}],"rounded-ss":[{"rounded-ss":[l]}],"rounded-se":[{"rounded-se":[l]}],"rounded-ee":[{"rounded-ee":[l]}],"rounded-es":[{"rounded-es":[l]}],"rounded-tl":[{"rounded-tl":[l]}],"rounded-tr":[{"rounded-tr":[l]}],"rounded-br":[{"rounded-br":[l]}],"rounded-bl":[{"rounded-bl":[l]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[...J(),"hidden"]}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:J()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...J()]}],"outline-offset":[{"outline-offset":[Ns,Oe]}],"outline-w":[{outline:[Ns,ea]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[Ns,ea]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ta,y4]}],"shadow-color":[{shadow:[$o]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":[...H(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":H()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[a]}],contrast:[{contrast:[m]}],"drop-shadow":[{"drop-shadow":["","none",ta,Oe]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[p]}],invert:[{invert:[g]}],saturate:[{saturate:[j]}],sepia:[{sepia:[P]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[a]}],"backdrop-contrast":[{"backdrop-contrast":[m]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[p]}],"backdrop-invert":[{"backdrop-invert":[g]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[P]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[c]}],"border-spacing-x":[{"border-spacing-x":[c]}],"border-spacing-y":[{"border-spacing-y":[c]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Oe]}],duration:[{duration:_()}],ease:[{ease:["linear","in","out","in-out",Oe]}],delay:[{delay:_()}],animate:[{animate:["none","spin","ping","pulse","bounce",Oe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[Uo,Oe]}],"translate-x":[{"translate-x":[L]}],"translate-y":[{"translate-y":[L]}],"skew-x":[{"skew-x":[F]}],"skew-y":[{"skew-y":[F]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Oe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Oe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":B()}],"scroll-mx":[{"scroll-mx":B()}],"scroll-my":[{"scroll-my":B()}],"scroll-ms":[{"scroll-ms":B()}],"scroll-me":[{"scroll-me":B()}],"scroll-mt":[{"scroll-mt":B()}],"scroll-mr":[{"scroll-mr":B()}],"scroll-mb":[{"scroll-mb":B()}],"scroll-ml":[{"scroll-ml":B()}],"scroll-p":[{"scroll-p":B()}],"scroll-px":[{"scroll-px":B()}],"scroll-py":[{"scroll-py":B()}],"scroll-ps":[{"scroll-ps":B()}],"scroll-pe":[{"scroll-pe":B()}],"scroll-pt":[{"scroll-pt":B()}],"scroll-pr":[{"scroll-pr":B()}],"scroll-pb":[{"scroll-pb":B()}],"scroll-pl":[{"scroll-pl":B()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Oe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ns,ea,om]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},N4=a4(j4);function k4(...t){return N4(rs(t))}const S4=({size:t=200,particleCount:r=1,speed:s=1,hueRange:a=[0,360],className:i})=>{const l=y.useRef(null),c=y.useRef(),u=y.useRef([]),m=y.useRef(0),h=y.useRef(0),p=y.useRef(0),g=y.useCallback((k,E,C,j)=>({radius:Math.max(5,t/25),x:k+Math.cos(C/20)*j/2,y:E+Math.sin(C/20)*j/2,angle:p.current+h.current,speed:0,accel:.01,decay:.01,life:1}),[t]),x=y.useCallback((k,E)=>{k.speed+=k.accel,k.x+=Math.cos(k.angle)*k.speed*s,k.y+=Math.sin(k.angle)*k.speed*s,k.angle+=Math.PI/64,k.accel*=1.01,k.life-=k.decay,k.life<=0&&u.current.splice(E,1)},[s]),v=y.useCallback((k,E,C,j)=>{const A=a[0]+(j+E.life*120)%(a[1]-a[0]);k.fillStyle=k.strokeStyle=`hsla(${A}, 100%, 60%, ${E.life})`,k.beginPath(),u.current[C-1]&&(k.moveTo(E.x,E.y),k.lineTo(u.current[C-1].x,u.current[C-1].y)),k.stroke(),k.beginPath(),k.arc(E.x,E.y,Math.max(.001,E.life*E.radius),0,Math.PI*2),k.fill();const P=Math.random()*1.25,F=E.x+(Math.random()-.5)*35*E.life,T=E.y+(Math.random()-.5)*35*E.life;k.fillRect(Math.floor(F),Math.floor(T),P,P)},[a]),w=y.useCallback(()=>{const k=l.current;if(!k)return;const E=k.getContext("2d");if(!E)return;const C=k.getBoundingClientRect(),j=C.width/2,A=C.height/2,P=Math.min(C.width,C.height)*.5;for(let F=0;F<r;F++)u.current.push(g(j,A,m.current,P));u.current.forEach((F,T)=>{x(F,T)}),E.clearRect(0,0,k.width,k.height),u.current.forEach((F,T)=>{v(E,F,T,m.current)}),p.current+=Math.PI/6*s,h.current+=Math.PI/6*s,m.current++,c.current=requestAnimationFrame(w)},[g,x,v,r,s]),S=y.useCallback(()=>{const k=l.current;if(!k)return;const E=k.getContext("2d");if(!E)return;const C=window.devicePixelRatio||1;k.width=t*C,k.height=t*C,k.style.width=`${t}px`,k.style.height=`${t}px`,E.scale(C,C),E.globalCompositeOperation="lighter",u.current=[],m.current=0,h.current=0,p.current=0},[t]);return y.useEffect(()=>(S(),w(),()=>{c.current&&cancelAnimationFrame(c.current)}),[S,w]),e.jsx("div",{className:k4("flex items-center justify-center",i),children:e.jsx("canvas",{ref:l,className:"max-w-full max-h-full",style:{width:t,height:t}})})},Jt=({size:t=200,text:r="Loading...",className:s="",showText:a=!0,particleCount:i=1,speed:l=3,hueRange:c=[200,280]})=>e.jsxs("div",{className:`flex flex-col items-center justify-center space-y-2 ${s}`,children:[e.jsx(S4,{size:t,particleCount:i,speed:l,hueRange:c}),a&&e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 animate-pulse",children:r})]});function zb(t,r){return function(){return t.apply(r,arguments)}}const{toString:C4}=Object.prototype,{getPrototypeOf:th}=Object,{iterator:zc,toStringTag:Hb}=Symbol,Hc=(t=>r=>{const s=C4.call(r);return t[s]||(t[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Wr=t=>(t=t.toLowerCase(),r=>Hc(r)===t),Wc=t=>r=>typeof r===t,{isArray:Gn}=Array,$n=Wc("undefined");function wi(t){return t!==null&&!$n(t)&&t.constructor!==null&&!$n(t.constructor)&&ur(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Wb=Wr("ArrayBuffer");function E4(t){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(t):r=t&&t.buffer&&Wb(t.buffer),r}const T4=Wc("string"),ur=Wc("function"),qb=Wc("number"),ji=t=>t!==null&&typeof t=="object",A4=t=>t===!0||t===!1,cc=t=>{if(Hc(t)!=="object")return!1;const r=th(t);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Hb in t)&&!(zc in t)},P4=t=>{if(!ji(t)||wi(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},D4=Wr("Date"),M4=Wr("File"),R4=Wr("Blob"),L4=Wr("FileList"),I4=t=>ji(t)&&ur(t.pipe),_4=t=>{let r;return t&&(typeof FormData=="function"&&t instanceof FormData||ur(t.append)&&((r=Hc(t))==="formdata"||r==="object"&&ur(t.toString)&&t.toString()==="[object FormData]"))},O4=Wr("URLSearchParams"),[F4,B4,U4,$4]=["ReadableStream","Request","Response","Headers"].map(Wr),V4=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ni(t,r,{allOwnKeys:s=!1}={}){if(t===null||typeof t>"u")return;let a,i;if(typeof t!="object"&&(t=[t]),Gn(t))for(a=0,i=t.length;a<i;a++)r.call(null,t[a],a,t);else{if(wi(t))return;const l=s?Object.getOwnPropertyNames(t):Object.keys(t),c=l.length;let u;for(a=0;a<c;a++)u=l[a],r.call(null,t[u],u,t)}}function Yb(t,r){if(wi(t))return null;r=r.toLowerCase();const s=Object.keys(t);let a=s.length,i;for(;a-- >0;)if(i=s[a],r===i.toLowerCase())return i;return null}const Ua=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Kb=t=>!$n(t)&&t!==Ua;function Jm(){const{caseless:t,skipUndefined:r}=Kb(this)&&this||{},s={},a=(i,l)=>{const c=t&&Yb(s,l)||l;cc(s[c])&&cc(i)?s[c]=Jm(s[c],i):cc(i)?s[c]=Jm({},i):Gn(i)?s[c]=i.slice():(!r||!$n(i))&&(s[c]=i)};for(let i=0,l=arguments.length;i<l;i++)arguments[i]&&Ni(arguments[i],a);return s}const z4=(t,r,s,{allOwnKeys:a}={})=>(Ni(r,(i,l)=>{s&&ur(i)?t[l]=zb(i,s):t[l]=i},{allOwnKeys:a}),t),H4=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),W4=(t,r,s,a)=>{t.prototype=Object.create(r.prototype,a),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:r.prototype}),s&&Object.assign(t.prototype,s)},q4=(t,r,s,a)=>{let i,l,c;const u={};if(r=r||{},t==null)return r;do{for(i=Object.getOwnPropertyNames(t),l=i.length;l-- >0;)c=i[l],(!a||a(c,t,r))&&!u[c]&&(r[c]=t[c],u[c]=!0);t=s!==!1&&th(t)}while(t&&(!s||s(t,r))&&t!==Object.prototype);return r},Y4=(t,r,s)=>{t=String(t),(s===void 0||s>t.length)&&(s=t.length),s-=r.length;const a=t.indexOf(r,s);return a!==-1&&a===s},K4=t=>{if(!t)return null;if(Gn(t))return t;let r=t.length;if(!qb(r))return null;const s=new Array(r);for(;r-- >0;)s[r]=t[r];return s},G4=(t=>r=>t&&r instanceof t)(typeof Uint8Array<"u"&&th(Uint8Array)),X4=(t,r)=>{const a=(t&&t[zc]).call(t);let i;for(;(i=a.next())&&!i.done;){const l=i.value;r.call(t,l[0],l[1])}},Q4=(t,r)=>{let s;const a=[];for(;(s=t.exec(r))!==null;)a.push(s);return a},J4=Wr("HTMLFormElement"),Z4=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,a,i){return a.toUpperCase()+i}),rx=(({hasOwnProperty:t})=>(r,s)=>t.call(r,s))(Object.prototype),e6=Wr("RegExp"),Gb=(t,r)=>{const s=Object.getOwnPropertyDescriptors(t),a={};Ni(s,(i,l)=>{let c;(c=r(i,l,t))!==!1&&(a[l]=c||i)}),Object.defineProperties(t,a)},t6=t=>{Gb(t,(r,s)=>{if(ur(t)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const a=t[s];if(ur(a)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},r6=(t,r)=>{const s={},a=i=>{i.forEach(l=>{s[l]=!0})};return Gn(t)?a(t):a(String(t).split(r)),s},s6=()=>{},a6=(t,r)=>t!=null&&Number.isFinite(t=+t)?t:r;function n6(t){return!!(t&&ur(t.append)&&t[Hb]==="FormData"&&t[zc])}const o6=t=>{const r=new Array(10),s=(a,i)=>{if(ji(a)){if(r.indexOf(a)>=0)return;if(wi(a))return a;if(!("toJSON"in a)){r[i]=a;const l=Gn(a)?[]:{};return Ni(a,(c,u)=>{const m=s(c,i+1);!$n(m)&&(l[u]=m)}),r[i]=void 0,l}}return a};return s(t,0)},i6=Wr("AsyncFunction"),l6=t=>t&&(ji(t)||ur(t))&&ur(t.then)&&ur(t.catch),Xb=((t,r)=>t?setImmediate:r?((s,a)=>(Ua.addEventListener("message",({source:i,data:l})=>{i===Ua&&l===s&&a.length&&a.shift()()},!1),i=>{a.push(i),Ua.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",ur(Ua.postMessage)),c6=typeof queueMicrotask<"u"?queueMicrotask.bind(Ua):typeof process<"u"&&process.nextTick||Xb,d6=t=>t!=null&&ur(t[zc]),ie={isArray:Gn,isArrayBuffer:Wb,isBuffer:wi,isFormData:_4,isArrayBufferView:E4,isString:T4,isNumber:qb,isBoolean:A4,isObject:ji,isPlainObject:cc,isEmptyObject:P4,isReadableStream:F4,isRequest:B4,isResponse:U4,isHeaders:$4,isUndefined:$n,isDate:D4,isFile:M4,isBlob:R4,isRegExp:e6,isFunction:ur,isStream:I4,isURLSearchParams:O4,isTypedArray:G4,isFileList:L4,forEach:Ni,merge:Jm,extend:z4,trim:V4,stripBOM:H4,inherits:W4,toFlatObject:q4,kindOf:Hc,kindOfTest:Wr,endsWith:Y4,toArray:K4,forEachEntry:X4,matchAll:Q4,isHTMLForm:J4,hasOwnProperty:rx,hasOwnProp:rx,reduceDescriptors:Gb,freezeMethods:t6,toObjectSet:r6,toCamelCase:Z4,noop:s6,toFiniteNumber:a6,findKey:Yb,global:Ua,isContextDefined:Kb,isSpecCompliantForm:n6,toJSONObject:o6,isAsyncFn:i6,isThenable:l6,setImmediate:Xb,asap:c6,isIterable:d6};function _e(t,r,s,a,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",r&&(this.code=r),s&&(this.config=s),a&&(this.request=a),i&&(this.response=i,this.status=i.status?i.status:null)}ie.inherits(_e,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ie.toJSONObject(this.config),code:this.code,status:this.status}}});const Qb=_e.prototype,Jb={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Jb[t]={value:t}});Object.defineProperties(_e,Jb);Object.defineProperty(Qb,"isAxiosError",{value:!0});_e.from=(t,r,s,a,i,l)=>{const c=Object.create(Qb);ie.toFlatObject(t,c,function(p){return p!==Error.prototype},h=>h!=="isAxiosError");const u=t&&t.message?t.message:"Error",m=r==null&&t?t.code:r;return _e.call(c,u,m,s,a,i),t&&c.cause==null&&Object.defineProperty(c,"cause",{value:t,configurable:!0}),c.name=t&&t.name||"Error",l&&Object.assign(c,l),c};const u6=null;function Zm(t){return ie.isPlainObject(t)||ie.isArray(t)}function Zb(t){return ie.endsWith(t,"[]")?t.slice(0,-2):t}function sx(t,r,s){return t?t.concat(r).map(function(i,l){return i=Zb(i),!s&&l?"["+i+"]":i}).join(s?".":""):r}function m6(t){return ie.isArray(t)&&!t.some(Zm)}const h6=ie.toFlatObject(ie,{},null,function(r){return/^is[A-Z]/.test(r)});function qc(t,r,s){if(!ie.isObject(t))throw new TypeError("target must be an object");r=r||new FormData,s=ie.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,k){return!ie.isUndefined(k[S])});const a=s.metaTokens,i=s.visitor||p,l=s.dots,c=s.indexes,m=(s.Blob||typeof Blob<"u"&&Blob)&&ie.isSpecCompliantForm(r);if(!ie.isFunction(i))throw new TypeError("visitor must be a function");function h(w){if(w===null)return"";if(ie.isDate(w))return w.toISOString();if(ie.isBoolean(w))return w.toString();if(!m&&ie.isBlob(w))throw new _e("Blob is not supported. Use a Buffer instead.");return ie.isArrayBuffer(w)||ie.isTypedArray(w)?m&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function p(w,S,k){let E=w;if(w&&!k&&typeof w=="object"){if(ie.endsWith(S,"{}"))S=a?S:S.slice(0,-2),w=JSON.stringify(w);else if(ie.isArray(w)&&m6(w)||(ie.isFileList(w)||ie.endsWith(S,"[]"))&&(E=ie.toArray(w)))return S=Zb(S),E.forEach(function(j,A){!(ie.isUndefined(j)||j===null)&&r.append(c===!0?sx([S],A,l):c===null?S:S+"[]",h(j))}),!1}return Zm(w)?!0:(r.append(sx(k,S,l),h(w)),!1)}const g=[],x=Object.assign(h6,{defaultVisitor:p,convertValue:h,isVisitable:Zm});function v(w,S){if(!ie.isUndefined(w)){if(g.indexOf(w)!==-1)throw Error("Circular reference detected in "+S.join("."));g.push(w),ie.forEach(w,function(E,C){(!(ie.isUndefined(E)||E===null)&&i.call(r,E,ie.isString(C)?C.trim():C,S,x))===!0&&v(E,S?S.concat(C):[C])}),g.pop()}}if(!ie.isObject(t))throw new TypeError("data must be an object");return v(t),r}function ax(t){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(a){return r[a]})}function rh(t,r){this._pairs=[],t&&qc(t,this,r)}const ev=rh.prototype;ev.append=function(r,s){this._pairs.push([r,s])};ev.toString=function(r){const s=r?function(a){return r.call(this,a,ax)}:ax;return this._pairs.map(function(i){return s(i[0])+"="+s(i[1])},"").join("&")};function f6(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function tv(t,r,s){if(!r)return t;const a=s&&s.encode||f6;ie.isFunction(s)&&(s={serialize:s});const i=s&&s.serialize;let l;if(i?l=i(r,s):l=ie.isURLSearchParams(r)?r.toString():new rh(r,s).toString(a),l){const c=t.indexOf("#");c!==-1&&(t=t.slice(0,c)),t+=(t.indexOf("?")===-1?"?":"&")+l}return t}class nx{constructor(){this.handlers=[]}use(r,s,a){return this.handlers.push({fulfilled:r,rejected:s,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){ie.forEach(this.handlers,function(a){a!==null&&r(a)})}}const rv={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},p6=typeof URLSearchParams<"u"?URLSearchParams:rh,g6=typeof FormData<"u"?FormData:null,x6=typeof Blob<"u"?Blob:null,y6={isBrowser:!0,classes:{URLSearchParams:p6,FormData:g6,Blob:x6},protocols:["http","https","file","blob","url","data"]},sh=typeof window<"u"&&typeof document<"u",e0=typeof navigator=="object"&&navigator||void 0,b6=sh&&(!e0||["ReactNative","NativeScript","NS"].indexOf(e0.product)<0),v6=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",w6=sh&&window.location.href||"http://localhost",j6=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:sh,hasStandardBrowserEnv:b6,hasStandardBrowserWebWorkerEnv:v6,navigator:e0,origin:w6},Symbol.toStringTag,{value:"Module"})),Yt={...j6,...y6};function N6(t,r){return qc(t,new Yt.classes.URLSearchParams,{visitor:function(s,a,i,l){return Yt.isNode&&ie.isBuffer(s)?(this.append(a,s.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...r})}function k6(t){return ie.matchAll(/\w+|\[(\w*)]/g,t).map(r=>r[0]==="[]"?"":r[1]||r[0])}function S6(t){const r={},s=Object.keys(t);let a;const i=s.length;let l;for(a=0;a<i;a++)l=s[a],r[l]=t[l];return r}function sv(t){function r(s,a,i,l){let c=s[l++];if(c==="__proto__")return!0;const u=Number.isFinite(+c),m=l>=s.length;return c=!c&&ie.isArray(i)?i.length:c,m?(ie.hasOwnProp(i,c)?i[c]=[i[c],a]:i[c]=a,!u):((!i[c]||!ie.isObject(i[c]))&&(i[c]=[]),r(s,a,i[c],l)&&ie.isArray(i[c])&&(i[c]=S6(i[c])),!u)}if(ie.isFormData(t)&&ie.isFunction(t.entries)){const s={};return ie.forEachEntry(t,(a,i)=>{r(k6(a),i,s,0)}),s}return null}function C6(t,r,s){if(ie.isString(t))try{return(r||JSON.parse)(t),ie.trim(t)}catch(a){if(a.name!=="SyntaxError")throw a}return(s||JSON.stringify)(t)}const ki={transitional:rv,adapter:["xhr","http","fetch"],transformRequest:[function(r,s){const a=s.getContentType()||"",i=a.indexOf("application/json")>-1,l=ie.isObject(r);if(l&&ie.isHTMLForm(r)&&(r=new FormData(r)),ie.isFormData(r))return i?JSON.stringify(sv(r)):r;if(ie.isArrayBuffer(r)||ie.isBuffer(r)||ie.isStream(r)||ie.isFile(r)||ie.isBlob(r)||ie.isReadableStream(r))return r;if(ie.isArrayBufferView(r))return r.buffer;if(ie.isURLSearchParams(r))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let u;if(l){if(a.indexOf("application/x-www-form-urlencoded")>-1)return N6(r,this.formSerializer).toString();if((u=ie.isFileList(r))||a.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return qc(u?{"files[]":r}:r,m&&new m,this.formSerializer)}}return l||i?(s.setContentType("application/json",!1),C6(r)):r}],transformResponse:[function(r){const s=this.transitional||ki.transitional,a=s&&s.forcedJSONParsing,i=this.responseType==="json";if(ie.isResponse(r)||ie.isReadableStream(r))return r;if(r&&ie.isString(r)&&(a&&!this.responseType||i)){const c=!(s&&s.silentJSONParsing)&&i;try{return JSON.parse(r,this.parseReviver)}catch(u){if(c)throw u.name==="SyntaxError"?_e.from(u,_e.ERR_BAD_RESPONSE,this,null,this.response):u}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Yt.classes.FormData,Blob:Yt.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ie.forEach(["delete","get","head","post","put","patch"],t=>{ki.headers[t]={}});const E6=ie.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),T6=t=>{const r={};let s,a,i;return t&&t.split(`
`).forEach(function(c){i=c.indexOf(":"),s=c.substring(0,i).trim().toLowerCase(),a=c.substring(i+1).trim(),!(!s||r[s]&&E6[s])&&(s==="set-cookie"?r[s]?r[s].push(a):r[s]=[a]:r[s]=r[s]?r[s]+", "+a:a)}),r},ox=Symbol("internals");function Vo(t){return t&&String(t).trim().toLowerCase()}function dc(t){return t===!1||t==null?t:ie.isArray(t)?t.map(dc):String(t)}function A6(t){const r=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=s.exec(t);)r[a[1]]=a[2];return r}const P6=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function im(t,r,s,a,i){if(ie.isFunction(a))return a.call(this,r,s);if(i&&(r=s),!!ie.isString(r)){if(ie.isString(a))return r.indexOf(a)!==-1;if(ie.isRegExp(a))return a.test(r)}}function D6(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,s,a)=>s.toUpperCase()+a)}function M6(t,r){const s=ie.toCamelCase(" "+r);["get","set","has"].forEach(a=>{Object.defineProperty(t,a+s,{value:function(i,l,c){return this[a].call(this,r,i,l,c)},configurable:!0})})}let mr=class{constructor(r){r&&this.set(r)}set(r,s,a){const i=this;function l(u,m,h){const p=Vo(m);if(!p)throw new Error("header name must be a non-empty string");const g=ie.findKey(i,p);(!g||i[g]===void 0||h===!0||h===void 0&&i[g]!==!1)&&(i[g||m]=dc(u))}const c=(u,m)=>ie.forEach(u,(h,p)=>l(h,p,m));if(ie.isPlainObject(r)||r instanceof this.constructor)c(r,s);else if(ie.isString(r)&&(r=r.trim())&&!P6(r))c(T6(r),s);else if(ie.isObject(r)&&ie.isIterable(r)){let u={},m,h;for(const p of r){if(!ie.isArray(p))throw TypeError("Object iterator must return a key-value pair");u[h=p[0]]=(m=u[h])?ie.isArray(m)?[...m,p[1]]:[m,p[1]]:p[1]}c(u,s)}else r!=null&&l(s,r,a);return this}get(r,s){if(r=Vo(r),r){const a=ie.findKey(this,r);if(a){const i=this[a];if(!s)return i;if(s===!0)return A6(i);if(ie.isFunction(s))return s.call(this,i,a);if(ie.isRegExp(s))return s.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,s){if(r=Vo(r),r){const a=ie.findKey(this,r);return!!(a&&this[a]!==void 0&&(!s||im(this,this[a],a,s)))}return!1}delete(r,s){const a=this;let i=!1;function l(c){if(c=Vo(c),c){const u=ie.findKey(a,c);u&&(!s||im(a,a[u],u,s))&&(delete a[u],i=!0)}}return ie.isArray(r)?r.forEach(l):l(r),i}clear(r){const s=Object.keys(this);let a=s.length,i=!1;for(;a--;){const l=s[a];(!r||im(this,this[l],l,r,!0))&&(delete this[l],i=!0)}return i}normalize(r){const s=this,a={};return ie.forEach(this,(i,l)=>{const c=ie.findKey(a,l);if(c){s[c]=dc(i),delete s[l];return}const u=r?D6(l):String(l).trim();u!==l&&delete s[l],s[u]=dc(i),a[u]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const s=Object.create(null);return ie.forEach(this,(a,i)=>{a!=null&&a!==!1&&(s[i]=r&&ie.isArray(a)?a.join(", "):a)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,s])=>r+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...s){const a=new this(r);return s.forEach(i=>a.set(i)),a}static accessor(r){const a=(this[ox]=this[ox]={accessors:{}}).accessors,i=this.prototype;function l(c){const u=Vo(c);a[u]||(M6(i,c),a[u]=!0)}return ie.isArray(r)?r.forEach(l):l(r),this}};mr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ie.reduceDescriptors(mr.prototype,({value:t},r)=>{let s=r[0].toUpperCase()+r.slice(1);return{get:()=>t,set(a){this[s]=a}}});ie.freezeMethods(mr);function lm(t,r){const s=this||ki,a=r||s,i=mr.from(a.headers);let l=a.data;return ie.forEach(t,function(u){l=u.call(s,l,i.normalize(),r?r.status:void 0)}),i.normalize(),l}function av(t){return!!(t&&t.__CANCEL__)}function Xn(t,r,s){_e.call(this,t??"canceled",_e.ERR_CANCELED,r,s),this.name="CanceledError"}ie.inherits(Xn,_e,{__CANCEL__:!0});function nv(t,r,s){const a=s.config.validateStatus;!s.status||!a||a(s.status)?t(s):r(new _e("Request failed with status code "+s.status,[_e.ERR_BAD_REQUEST,_e.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function R6(t){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return r&&r[1]||""}function L6(t,r){t=t||10;const s=new Array(t),a=new Array(t);let i=0,l=0,c;return r=r!==void 0?r:1e3,function(m){const h=Date.now(),p=a[l];c||(c=h),s[i]=m,a[i]=h;let g=l,x=0;for(;g!==i;)x+=s[g++],g=g%t;if(i=(i+1)%t,i===l&&(l=(l+1)%t),h-c<r)return;const v=p&&h-p;return v?Math.round(x*1e3/v):void 0}}function I6(t,r){let s=0,a=1e3/r,i,l;const c=(h,p=Date.now())=>{s=p,i=null,l&&(clearTimeout(l),l=null),t(...h)};return[(...h)=>{const p=Date.now(),g=p-s;g>=a?c(h,p):(i=h,l||(l=setTimeout(()=>{l=null,c(i)},a-g)))},()=>i&&c(i)]}const Cc=(t,r,s=3)=>{let a=0;const i=L6(50,250);return I6(l=>{const c=l.loaded,u=l.lengthComputable?l.total:void 0,m=c-a,h=i(m),p=c<=u;a=c;const g={loaded:c,total:u,progress:u?c/u:void 0,bytes:m,rate:h||void 0,estimated:h&&u&&p?(u-c)/h:void 0,event:l,lengthComputable:u!=null,[r?"download":"upload"]:!0};t(g)},s)},ix=(t,r)=>{const s=t!=null;return[a=>r[0]({lengthComputable:s,total:t,loaded:a}),r[1]]},lx=t=>(...r)=>ie.asap(()=>t(...r)),_6=Yt.hasStandardBrowserEnv?((t,r)=>s=>(s=new URL(s,Yt.origin),t.protocol===s.protocol&&t.host===s.host&&(r||t.port===s.port)))(new URL(Yt.origin),Yt.navigator&&/(msie|trident)/i.test(Yt.navigator.userAgent)):()=>!0,O6=Yt.hasStandardBrowserEnv?{write(t,r,s,a,i,l,c){if(typeof document>"u")return;const u=[`${t}=${encodeURIComponent(r)}`];ie.isNumber(s)&&u.push(`expires=${new Date(s).toUTCString()}`),ie.isString(a)&&u.push(`path=${a}`),ie.isString(i)&&u.push(`domain=${i}`),l===!0&&u.push("secure"),ie.isString(c)&&u.push(`SameSite=${c}`),document.cookie=u.join("; ")},read(t){if(typeof document>"u")return null;const r=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return r?decodeURIComponent(r[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function F6(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function B6(t,r){return r?t.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):t}function ov(t,r,s){let a=!F6(r);return t&&(a||s==!1)?B6(t,r):r}const cx=t=>t instanceof mr?{...t}:t;function Ga(t,r){r=r||{};const s={};function a(h,p,g,x){return ie.isPlainObject(h)&&ie.isPlainObject(p)?ie.merge.call({caseless:x},h,p):ie.isPlainObject(p)?ie.merge({},p):ie.isArray(p)?p.slice():p}function i(h,p,g,x){if(ie.isUndefined(p)){if(!ie.isUndefined(h))return a(void 0,h,g,x)}else return a(h,p,g,x)}function l(h,p){if(!ie.isUndefined(p))return a(void 0,p)}function c(h,p){if(ie.isUndefined(p)){if(!ie.isUndefined(h))return a(void 0,h)}else return a(void 0,p)}function u(h,p,g){if(g in r)return a(h,p);if(g in t)return a(void 0,h)}const m={url:l,method:l,data:l,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:u,headers:(h,p,g)=>i(cx(h),cx(p),g,!0)};return ie.forEach(Object.keys({...t,...r}),function(p){const g=m[p]||i,x=g(t[p],r[p],p);ie.isUndefined(x)&&g!==u||(s[p]=x)}),s}const iv=t=>{const r=Ga({},t);let{data:s,withXSRFToken:a,xsrfHeaderName:i,xsrfCookieName:l,headers:c,auth:u}=r;if(r.headers=c=mr.from(c),r.url=tv(ov(r.baseURL,r.url,r.allowAbsoluteUrls),t.params,t.paramsSerializer),u&&c.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),ie.isFormData(s)){if(Yt.hasStandardBrowserEnv||Yt.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if(ie.isFunction(s.getHeaders)){const m=s.getHeaders(),h=["content-type","content-length"];Object.entries(m).forEach(([p,g])=>{h.includes(p.toLowerCase())&&c.set(p,g)})}}if(Yt.hasStandardBrowserEnv&&(a&&ie.isFunction(a)&&(a=a(r)),a||a!==!1&&_6(r.url))){const m=i&&l&&O6.read(l);m&&c.set(i,m)}return r},U6=typeof XMLHttpRequest<"u",$6=U6&&function(t){return new Promise(function(s,a){const i=iv(t);let l=i.data;const c=mr.from(i.headers).normalize();let{responseType:u,onUploadProgress:m,onDownloadProgress:h}=i,p,g,x,v,w;function S(){v&&v(),w&&w(),i.cancelToken&&i.cancelToken.unsubscribe(p),i.signal&&i.signal.removeEventListener("abort",p)}let k=new XMLHttpRequest;k.open(i.method.toUpperCase(),i.url,!0),k.timeout=i.timeout;function E(){if(!k)return;const j=mr.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),P={data:!u||u==="text"||u==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:j,config:t,request:k};nv(function(T){s(T),S()},function(T){a(T),S()},P),k=null}"onloadend"in k?k.onloadend=E:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(E)},k.onabort=function(){k&&(a(new _e("Request aborted",_e.ECONNABORTED,t,k)),k=null)},k.onerror=function(A){const P=A&&A.message?A.message:"Network Error",F=new _e(P,_e.ERR_NETWORK,t,k);F.event=A||null,a(F),k=null},k.ontimeout=function(){let A=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const P=i.transitional||rv;i.timeoutErrorMessage&&(A=i.timeoutErrorMessage),a(new _e(A,P.clarifyTimeoutError?_e.ETIMEDOUT:_e.ECONNABORTED,t,k)),k=null},l===void 0&&c.setContentType(null),"setRequestHeader"in k&&ie.forEach(c.toJSON(),function(A,P){k.setRequestHeader(P,A)}),ie.isUndefined(i.withCredentials)||(k.withCredentials=!!i.withCredentials),u&&u!=="json"&&(k.responseType=i.responseType),h&&([x,w]=Cc(h,!0),k.addEventListener("progress",x)),m&&k.upload&&([g,v]=Cc(m),k.upload.addEventListener("progress",g),k.upload.addEventListener("loadend",v)),(i.cancelToken||i.signal)&&(p=j=>{k&&(a(!j||j.type?new Xn(null,t,k):j),k.abort(),k=null)},i.cancelToken&&i.cancelToken.subscribe(p),i.signal&&(i.signal.aborted?p():i.signal.addEventListener("abort",p)));const C=R6(i.url);if(C&&Yt.protocols.indexOf(C)===-1){a(new _e("Unsupported protocol "+C+":",_e.ERR_BAD_REQUEST,t));return}k.send(l||null)})},V6=(t,r)=>{const{length:s}=t=t?t.filter(Boolean):[];if(r||s){let a=new AbortController,i;const l=function(h){if(!i){i=!0,u();const p=h instanceof Error?h:this.reason;a.abort(p instanceof _e?p:new Xn(p instanceof Error?p.message:p))}};let c=r&&setTimeout(()=>{c=null,l(new _e(`timeout ${r} of ms exceeded`,_e.ETIMEDOUT))},r);const u=()=>{t&&(c&&clearTimeout(c),c=null,t.forEach(h=>{h.unsubscribe?h.unsubscribe(l):h.removeEventListener("abort",l)}),t=null)};t.forEach(h=>h.addEventListener("abort",l));const{signal:m}=a;return m.unsubscribe=()=>ie.asap(u),m}},z6=function*(t,r){let s=t.byteLength;if(s<r){yield t;return}let a=0,i;for(;a<s;)i=a+r,yield t.slice(a,i),a=i},H6=async function*(t,r){for await(const s of W6(t))yield*z6(s,r)},W6=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const r=t.getReader();try{for(;;){const{done:s,value:a}=await r.read();if(s)break;yield a}}finally{await r.cancel()}},dx=(t,r,s,a)=>{const i=H6(t,r);let l=0,c,u=m=>{c||(c=!0,a&&a(m))};return new ReadableStream({async pull(m){try{const{done:h,value:p}=await i.next();if(h){u(),m.close();return}let g=p.byteLength;if(s){let x=l+=g;s(x)}m.enqueue(new Uint8Array(p))}catch(h){throw u(h),h}},cancel(m){return u(m),i.return()}},{highWaterMark:2})},ux=64*1024,{isFunction:Wl}=ie,q6=(({Request:t,Response:r})=>({Request:t,Response:r}))(ie.global),{ReadableStream:mx,TextEncoder:hx}=ie.global,fx=(t,...r)=>{try{return!!t(...r)}catch{return!1}},Y6=t=>{t=ie.merge.call({skipUndefined:!0},q6,t);const{fetch:r,Request:s,Response:a}=t,i=r?Wl(r):typeof fetch=="function",l=Wl(s),c=Wl(a);if(!i)return!1;const u=i&&Wl(mx),m=i&&(typeof hx=="function"?(w=>S=>w.encode(S))(new hx):async w=>new Uint8Array(await new s(w).arrayBuffer())),h=l&&u&&fx(()=>{let w=!1;const S=new s(Yt.origin,{body:new mx,method:"POST",get duplex(){return w=!0,"half"}}).headers.has("Content-Type");return w&&!S}),p=c&&u&&fx(()=>ie.isReadableStream(new a("").body)),g={stream:p&&(w=>w.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(w=>{!g[w]&&(g[w]=(S,k)=>{let E=S&&S[w];if(E)return E.call(S);throw new _e(`Response type '${w}' is not supported`,_e.ERR_NOT_SUPPORT,k)})});const x=async w=>{if(w==null)return 0;if(ie.isBlob(w))return w.size;if(ie.isSpecCompliantForm(w))return(await new s(Yt.origin,{method:"POST",body:w}).arrayBuffer()).byteLength;if(ie.isArrayBufferView(w)||ie.isArrayBuffer(w))return w.byteLength;if(ie.isURLSearchParams(w)&&(w=w+""),ie.isString(w))return(await m(w)).byteLength},v=async(w,S)=>{const k=ie.toFiniteNumber(w.getContentLength());return k??x(S)};return async w=>{let{url:S,method:k,data:E,signal:C,cancelToken:j,timeout:A,onDownloadProgress:P,onUploadProgress:F,responseType:T,headers:L,withCredentials:z="same-origin",fetchOptions:q}=iv(w),O=r||fetch;T=T?(T+"").toLowerCase():"text";let B=V6([C,j&&j.toAbortSignal()],A),U=null;const R=B&&B.unsubscribe&&(()=>{B.unsubscribe()});let ee;try{if(F&&h&&k!=="get"&&k!=="head"&&(ee=await v(L,E))!==0){let _=new s(S,{method:"POST",body:E,duplex:"half"}),M;if(ie.isFormData(E)&&(M=_.headers.get("content-type"))&&L.setContentType(M),_.body){const[Z,X]=ix(ee,Cc(lx(F)));E=dx(_.body,ux,Z,X)}}ie.isString(z)||(z=z?"include":"omit");const J=l&&"credentials"in s.prototype,H={...q,signal:B,method:k.toUpperCase(),headers:L.normalize().toJSON(),body:E,duplex:"half",credentials:J?z:void 0};U=l&&new s(S,H);let K=await(l?O(U,q):O(S,H));const I=p&&(T==="stream"||T==="response");if(p&&(P||I&&R)){const _={};["status","statusText","headers"].forEach(V=>{_[V]=K[V]});const M=ie.toFiniteNumber(K.headers.get("content-length")),[Z,X]=P&&ix(M,Cc(lx(P),!0))||[];K=new a(dx(K.body,ux,Z,()=>{X&&X(),R&&R()}),_)}T=T||"text";let G=await g[ie.findKey(g,T)||"text"](K,w);return!I&&R&&R(),await new Promise((_,M)=>{nv(_,M,{data:G,headers:mr.from(K.headers),status:K.status,statusText:K.statusText,config:w,request:U})})}catch(J){throw R&&R(),J&&J.name==="TypeError"&&/Load failed|fetch/i.test(J.message)?Object.assign(new _e("Network Error",_e.ERR_NETWORK,w,U),{cause:J.cause||J}):_e.from(J,J&&J.code,w,U)}}},K6=new Map,lv=t=>{let r=t&&t.env||{};const{fetch:s,Request:a,Response:i}=r,l=[a,i,s];let c=l.length,u=c,m,h,p=K6;for(;u--;)m=l[u],h=p.get(m),h===void 0&&p.set(m,h=u?new Map:Y6(r)),p=h;return h};lv();const ah={http:u6,xhr:$6,fetch:{get:lv}};ie.forEach(ah,(t,r)=>{if(t){try{Object.defineProperty(t,"name",{value:r})}catch{}Object.defineProperty(t,"adapterName",{value:r})}});const px=t=>`- ${t}`,G6=t=>ie.isFunction(t)||t===null||t===!1;function X6(t,r){t=ie.isArray(t)?t:[t];const{length:s}=t;let a,i;const l={};for(let c=0;c<s;c++){a=t[c];let u;if(i=a,!G6(a)&&(i=ah[(u=String(a)).toLowerCase()],i===void 0))throw new _e(`Unknown adapter '${u}'`);if(i&&(ie.isFunction(i)||(i=i.get(r))))break;l[u||"#"+c]=i}if(!i){const c=Object.entries(l).map(([m,h])=>`adapter ${m} `+(h===!1?"is not supported by the environment":"is not available in the build"));let u=s?c.length>1?`since :
`+c.map(px).join(`
`):" "+px(c[0]):"as no adapter specified";throw new _e("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return i}const cv={getAdapter:X6,adapters:ah};function cm(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Xn(null,t)}function gx(t){return cm(t),t.headers=mr.from(t.headers),t.data=lm.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),cv.getAdapter(t.adapter||ki.adapter,t)(t).then(function(a){return cm(t),a.data=lm.call(t,t.transformResponse,a),a.headers=mr.from(a.headers),a},function(a){return av(a)||(cm(t),a&&a.response&&(a.response.data=lm.call(t,t.transformResponse,a.response),a.response.headers=mr.from(a.response.headers))),Promise.reject(a)})}const dv="1.13.2",Yc={};["object","boolean","number","function","string","symbol"].forEach((t,r)=>{Yc[t]=function(a){return typeof a===t||"a"+(r<1?"n ":" ")+t}});const xx={};Yc.transitional=function(r,s,a){function i(l,c){return"[Axios v"+dv+"] Transitional option '"+l+"'"+c+(a?". "+a:"")}return(l,c,u)=>{if(r===!1)throw new _e(i(c," has been removed"+(s?" in "+s:"")),_e.ERR_DEPRECATED);return s&&!xx[c]&&(xx[c]=!0,console.warn(i(c," has been deprecated since v"+s+" and will be removed in the near future"))),r?r(l,c,u):!0}};Yc.spelling=function(r){return(s,a)=>(console.warn(`${a} is likely a misspelling of ${r}`),!0)};function Q6(t,r,s){if(typeof t!="object")throw new _e("options must be an object",_e.ERR_BAD_OPTION_VALUE);const a=Object.keys(t);let i=a.length;for(;i-- >0;){const l=a[i],c=r[l];if(c){const u=t[l],m=u===void 0||c(u,l,t);if(m!==!0)throw new _e("option "+l+" must be "+m,_e.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new _e("Unknown option "+l,_e.ERR_BAD_OPTION)}}const uc={assertOptions:Q6,validators:Yc},Zr=uc.validators;let Ha=class{constructor(r){this.defaults=r||{},this.interceptors={request:new nx,response:new nx}}async request(r,s){try{return await this._request(r,s)}catch(a){if(a instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const l=i.stack?i.stack.replace(/^.+\n/,""):"";try{a.stack?l&&!String(a.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+l):a.stack=l}catch{}}throw a}}_request(r,s){typeof r=="string"?(s=s||{},s.url=r):s=r||{},s=Ga(this.defaults,s);const{transitional:a,paramsSerializer:i,headers:l}=s;a!==void 0&&uc.assertOptions(a,{silentJSONParsing:Zr.transitional(Zr.boolean),forcedJSONParsing:Zr.transitional(Zr.boolean),clarifyTimeoutError:Zr.transitional(Zr.boolean)},!1),i!=null&&(ie.isFunction(i)?s.paramsSerializer={serialize:i}:uc.assertOptions(i,{encode:Zr.function,serialize:Zr.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),uc.assertOptions(s,{baseUrl:Zr.spelling("baseURL"),withXsrfToken:Zr.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let c=l&&ie.merge(l.common,l[s.method]);l&&ie.forEach(["delete","get","head","post","put","patch","common"],w=>{delete l[w]}),s.headers=mr.concat(c,l);const u=[];let m=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(s)===!1||(m=m&&S.synchronous,u.unshift(S.fulfilled,S.rejected))});const h=[];this.interceptors.response.forEach(function(S){h.push(S.fulfilled,S.rejected)});let p,g=0,x;if(!m){const w=[gx.bind(this),void 0];for(w.unshift(...u),w.push(...h),x=w.length,p=Promise.resolve(s);g<x;)p=p.then(w[g++],w[g++]);return p}x=u.length;let v=s;for(;g<x;){const w=u[g++],S=u[g++];try{v=w(v)}catch(k){S.call(this,k);break}}try{p=gx.call(this,v)}catch(w){return Promise.reject(w)}for(g=0,x=h.length;g<x;)p=p.then(h[g++],h[g++]);return p}getUri(r){r=Ga(this.defaults,r);const s=ov(r.baseURL,r.url,r.allowAbsoluteUrls);return tv(s,r.params,r.paramsSerializer)}};ie.forEach(["delete","get","head","options"],function(r){Ha.prototype[r]=function(s,a){return this.request(Ga(a||{},{method:r,url:s,data:(a||{}).data}))}});ie.forEach(["post","put","patch"],function(r){function s(a){return function(l,c,u){return this.request(Ga(u||{},{method:r,headers:a?{"Content-Type":"multipart/form-data"}:{},url:l,data:c}))}}Ha.prototype[r]=s(),Ha.prototype[r+"Form"]=s(!0)});let J6=class uv{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(l){s=l});const a=this;this.promise.then(i=>{if(!a._listeners)return;let l=a._listeners.length;for(;l-- >0;)a._listeners[l](i);a._listeners=null}),this.promise.then=i=>{let l;const c=new Promise(u=>{a.subscribe(u),l=u}).then(i);return c.cancel=function(){a.unsubscribe(l)},c},r(function(l,c,u){a.reason||(a.reason=new Xn(l,c,u),s(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const s=this._listeners.indexOf(r);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const r=new AbortController,s=a=>{r.abort(a)};return this.subscribe(s),r.signal.unsubscribe=()=>this.unsubscribe(s),r.signal}static source(){let r;return{token:new uv(function(i){r=i}),cancel:r}}};function Z6(t){return function(s){return t.apply(null,s)}}function e3(t){return ie.isObject(t)&&t.isAxiosError===!0}const t0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(t0).forEach(([t,r])=>{t0[r]=t});function mv(t){const r=new Ha(t),s=zb(Ha.prototype.request,r);return ie.extend(s,Ha.prototype,r,{allOwnKeys:!0}),ie.extend(s,r,null,{allOwnKeys:!0}),s.create=function(i){return mv(Ga(t,i))},s}const lt=mv(ki);lt.Axios=Ha;lt.CanceledError=Xn;lt.CancelToken=J6;lt.isCancel=av;lt.VERSION=dv;lt.toFormData=qc;lt.AxiosError=_e;lt.Cancel=lt.CanceledError;lt.all=function(r){return Promise.all(r)};lt.spread=Z6;lt.isAxiosError=e3;lt.mergeConfig=Ga;lt.AxiosHeaders=mr;lt.formToJSON=t=>sv(ie.isHTMLForm(t)?new FormData(t):t);lt.getAdapter=cv.getAdapter;lt.HttpStatusCode=t0;lt.default=lt;const{Axios:EM,AxiosError:TM,CanceledError:AM,isCancel:PM,CancelToken:DM,VERSION:MM,all:RM,Cancel:LM,isAxiosError:IM,spread:_M,toFormData:OM,AxiosHeaders:FM,HttpStatusCode:BM,formToJSON:UM,getAdapter:$M,mergeConfig:VM}=lt,t3="https://crm-trial-backend.onrender.com/api",ce=lt.create({baseURL:t3,headers:{"Content-Type":"application/json"}});ce.interceptors.request.use(t=>{const r=localStorage.getItem("token");return r&&(t.headers.Authorization=`Bearer ${r}`),t},t=>Promise.reject(t));ce.interceptors.response.use(t=>t,t=>{var r;return((r=t.response)==null?void 0:r.status)===401&&localStorage.getItem("token")&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(t)});const Et={login:t=>ce.post("/auth/login",t),register:t=>ce.post("/auth/register",t),getProfile:()=>ce.get("/auth/me"),updateProfile:t=>ce.put("/auth/me",t),updateProfilePicture:t=>ce.put("/auth/profile-picture",t,{headers:{"Content-Type":"multipart/form-data"}}),getUsers:t=>ce.get(`/auth/users${t?`?role=${t}`:""}`),createUser:t=>ce.post("/auth/users",t),updateUser:(t,r)=>ce.put(`/auth/users/${t}`,r),deleteUser:t=>ce.delete(`/auth/users/${t}`),forgotPassword:t=>ce.post("/auth/forgot-password",{email:t}),verifyOTP:t=>ce.post("/auth/verifyOtp",t),resetPassword:t=>ce.post("/auth/reset_password",t),createUserWithDocuments:t=>ce.post("/auth/users/with-documents",t,{headers:{"Content-Type":"multipart/form-data"}}),updateUserWithDocuments:(t,r)=>ce.put(`/auth/users/${t}/with-documents`,r,{headers:{"Content-Type":"multipart/form-data"}})},Vn={create:async t=>{var r;try{console.log("Creating sale with data:",t);const s=await ce.post("/sales",t);return console.log("Sale creation response:",s.data),s}catch(s){throw console.error("Error creating sale:",((r=s.response)==null?void 0:r.data)||s.message),s}},getAll:async()=>{var t;try{console.log("Fetching all sales...");const r=await ce.get("/sales");return console.log("Sales API response:",r.data),r}catch(r){throw console.error("Error fetching sales:",((t=r.response)==null?void 0:t.data)||r.message),r}},getAllForced:async()=>{var t;try{console.log("Fetching all sales (forced)...");const r=await ce.get("/sales?full=true&nocache="+new Date().getTime());return console.log("Forced sales API response:",r.data),r}catch(r){throw console.error("Error fetching sales (forced):",((t=r.response)==null?void 0:t.data)||r.message),r}},getById:t=>ce.get(`/sales/${t}`),update:(t,r)=>ce.put(`/sales/${t}`,r),delete:t=>ce.delete(`/sales/${t}`),getCount:()=>ce.get("/sales/count"),import:t=>ce.post("/sales/import",{sales:t}),importSales:t=>ce.post("/sales/import",{sales:t}),getCourseAnalysis:(t="monthly")=>ce.get(`/sales/reports/course-analysis?period=${t}`),getRevenueAnalysis:(t="1month")=>ce.get(`/sales/reports/revenue-analysis?period=${t}`),getTopCourses:(t="all",r=10)=>ce.get(`/sales/reports/top-courses?period=${t}&limit=${r}`),getStatusAnalysis:(t="1month",r=null)=>{const s=r?`/sales/reports/status-analysis?period=${t}&status=${r}`:`/sales/reports/status-analysis?period=${t}`;return ce.get(s)}},$t={getAll:(t={})=>{const r=new URLSearchParams;Object.keys(t).forEach(a=>{t[a]&&r.append(a,t[a])});const s=r.toString();return ce.get(s?`/leads?${s}`:"/leads")},getById:t=>ce.get(`/leads/${t}`),create:t=>ce.post("/leads",t),update:(t,r)=>ce.put(`/leads/${t}`,r),delete:t=>ce.delete(`/leads/${t}`),getAssigned:()=>ce.get("/leads/assigned"),getRepeatCustomers:()=>ce.get("/leads/repeat-customers"),import:t=>ce.post("/leads/import",{leads:t}),importLeads:t=>ce.post("/leads/import",{leads:t}),importCSV:t=>ce.post("/leads/import-csv",t,{headers:{"Content-Type":"multipart/form-data"}}),getStats:()=>ce.get("/leads/stats"),updateFeedback:(t,r)=>ce.put(`/leads/${t}/feedback`,{feedback:r})},zM={getAll:(t={})=>{const r=new URLSearchParams;Object.keys(t).forEach(a=>{t[a]&&r.append(a,t[a])});const s=r.toString();return ce.get(s?`/prospects?${s}`:"/prospects")},getById:t=>ce.get(`/prospects/${t}`),create:t=>ce.post("/prospects",t),update:(t,r)=>ce.put(`/prospects/${t}`,r),delete:t=>ce.delete(`/prospects/${t}`),convertToLead:t=>ce.post(`/prospects/${t}/convert`),getStats:()=>ce.get("/prospects/stats")},hv={getRates:()=>ce.get("/currency/rates"),getRate:(t,r)=>ce.get(`/currency/rate?from=${t}&to=${r}`),refreshRates:()=>ce.post("/currency/refresh"),convert:(t,r,s)=>ce.get(`/currency/convert?amount=${t}&from=${r}&to=${s}`)},ql={startSession:()=>ce.post("/activity/start-session"),endSession:t=>ce.post("/activity/end-session",{duration:t}),trackActivity:(t,r=!0)=>ce.post("/activity/track",{duration:t,isActive:r}),getMyActivity:(t=null)=>{const r=t?`/activity/my-activity?date=${t}`:"/activity/my-activity";return ce.get(r)},getAllUsersActivity:()=>ce.get("/activity/all-users"),getStatistics:(t=7)=>ce.get(`/activity/statistics?days=${t}`)},dm={getAll:()=>ce.get("/lead-person-sales"),getById:t=>ce.get(`/lead-person-sales/${t}`),create:t=>ce.post("/lead-person-sales",t),update:(t,r)=>ce.put(`/lead-person-sales/${t}`,r),delete:t=>ce.delete(`/lead-person-sales/${t}`)},Sn={getAll:(t={})=>{const r=new URLSearchParams;t.date&&r.append("date",t.date),t.salesPerson&&r.append("salesPerson",t.salesPerson);const s=r.toString();return ce.get(`/tasks${s?`?${s}`:""}`)},getById:t=>ce.get(`/tasks/${t}`),create:t=>ce.post("/tasks",t),update:(t,r)=>ce.put(`/tasks/${t}`,r),delete:t=>ce.delete(`/tasks/${t}`),markCompleted:(t,r)=>ce.put(`/tasks/${t}`,{completed:r}),getSalesPersons:()=>ce.get("/tasks/sales-persons")},Ss={getTodayAttendance:()=>ce.get("/attendance/today"),checkIn:t=>ce.post("/attendance/checkin",t),checkOut:t=>ce.put("/attendance/checkout",t),getHistory:t=>{const r=new URLSearchParams(t).toString();return ce.get(`/attendance/history${r?`?${r}`:""}`)},getSummary:(t,r)=>ce.get(`/attendance/summary/${t}/${r}`),getAllAttendance:t=>{const r=new URLSearchParams(t).toString();return ce.get(`/attendance/all${r?`?${r}`:""}`)},updateAttendance:(t,r)=>ce.put(`/attendance/${t}`,r),createAttendance:t=>ce.post("/attendance",t)},r3={getAll:(t={})=>{const r=new URLSearchParams;Object.keys(t).forEach(a=>{t[a]&&r.append(a,t[a])});const s=r.toString();return ce.get(s?`/invoices?${s}`:"/invoices")},getById:t=>ce.get(`/invoices/${t}`),create:t=>ce.post("/invoices",t),update:(t,r)=>ce.put(`/invoices/${t}`,r),delete:t=>ce.delete(`/invoices/${t}`),generatePDF:t=>ce.get(`/invoices/${t}/pdf`,{responseType:"blob"}),downloadPDF:t=>ce.get(`/invoices/${t}/download`,{responseType:"blob"}),recordPayment:(t,r)=>ce.post(`/invoices/${t}/payment`,r),getStats:()=>ce.get("/invoices/stats")},Fa={getAll:(t={})=>{const r=new URLSearchParams;t.month&&r.append("month",t.month),t.year&&r.append("year",t.year),t.employeeId&&r.append("employeeId",t.employeeId);const s=r.toString();return ce.get(`/payroll${s?`?${s}`:""}`)},getById:t=>ce.get(`/payroll/${t}`),generate:t=>ce.post("/payroll/generate",t),update:(t,r)=>ce.put(`/payroll/${t}`,r),delete:t=>ce.delete(`/payroll/${t}`),approve:t=>ce.put(`/payroll/${t}/approve`),generateSalarySlip:t=>ce.get(`/payroll/${t}/salary-slip`,{responseType:"blob"}),downloadSalarySlip:t=>ce.get(`/payroll/${t}/download`,{responseType:"blob"})};class as{static async createLog(r,s,a,i=null,l="SUCCESS"){try{return(await ce.post("/logs",{action:r,details:s,affectedResource:a,resourceId:i,status:l})).data}catch(c){throw console.error("Error creating log:",c),c}}static async logLogin(r,s){return this.createLog("LOGIN",{userId:r,success:s},"USER",r,s?"SUCCESS":"FAILURE")}static async logLogout(r){return this.createLog("LOGOUT",{userId:r},"USER",r)}static async logSaleCreate(r){return this.createLog("SALE_CREATE",{customerName:r.customerName,amount:r.amount,product:r.product,salesPerson:r.salesPerson},"SALE",r._id)}static async logSaleUpdate(r,s){return this.createLog("SALE_UPDATE",{saleId:r,changes:s},"SALE",r)}static async logLeadCreate(r){return this.createLog("LEAD_CREATE",{name:r.name||r.NAME,email:r.email||r["E-MAIL"],course:r.course||r.COURSE,assignedTo:r.assignedTo||r["SALE PERSON"],leadPerson:r.leadPerson||r["LEAD PERSON"]},"LEAD",r._id)}static async logLeadUpdate(r,s){return this.createLog("LEAD_UPDATE",{leadId:r,changes:s},"LEAD",r)}static async logLeadDelete(r,s){return this.createLog("LEAD_DELETE",{leadId:r,leadData:s},"LEAD",r)}static async logLeadAssign(r,s,a){return this.createLog("LEAD_ASSIGN",{leadId:r,assignedTo:s,previousAssignee:a},"LEAD",r)}static async logEmployeeCreate(r){return this.createLog("EMPLOYEE_CREATE",{employeeName:r.fullName,role:r.role,department:r.department},"EMPLOYEE",r._id)}static async logEmployeeUpdate(r,s){return this.createLog("EMPLOYEE_UPDATE",{employeeId:r,changes:s},"EMPLOYEE",r)}static async logAttendanceMark(r,s,a){return this.createLog("ATTENDANCE_MARK",{employeeId:r,type:s,time:a},"ATTENDANCE",r)}static async logLeaveRequest(r,s){return this.createLog("LEAVE_REQUEST",{employeeId:r,leaveType:s.type,startDate:s.startDate,endDate:s.endDate,reason:s.reason},"LEAVE",s._id)}static async logLeaveUpdate(r,s,a){return this.createLog("LEAVE_UPDATE",{leaveId:r,status:s,updatedBy:a},"LEAVE",r)}static async logPayrollUpdate(r,s){return this.createLog("PAYROLL_UPDATE",{employeeId:r,month:s.month,year:s.year,amount:s.amount},"PAYROLL",r)}static async logSettingsUpdate(r,s){return this.createLog("SETTINGS_UPDATE",{settingType:r,changes:s},"SETTINGS")}}const fv=y.createContext(),s3=({children:t})=>{const[r,s]=y.useState(null),[a,i]=y.useState(null),[l,c]=y.useState(!0),[u,m]=y.useState(null);y.useEffect(()=>{const v=localStorage.getItem("token");v?(i(v),h()):c(!1)},[]);const h=async()=>{try{c(!0);const v=localStorage.getItem("token");if(!v){i(null),s(null),c(!1);return}i(v);const w=await Et.getProfile();s(w.data.data),m(null)}catch{localStorage.removeItem("token"),i(null),s(null),m("Authentication failed. Please login again.")}finally{c(!1)}},p=async v=>{var w,S;try{c(!0);const k=await Et.register(v);return m(null),k.data}catch(k){const E=((S=(w=k.response)==null?void 0:w.data)==null?void 0:S.message)||"Registration failed. Please try again.";throw m(E),new Error(E)}finally{c(!1)}},g=async v=>{var w,S;try{const k=await Et.login(v);if(k.data.success&&k.data.token){localStorage.setItem("token",k.data.token);const E=k.data.user;s(E);try{await as.logLogin(E.id,!0)}catch(C){console.error("Error logging login:",C)}return{success:!0,data:E}}return{success:!1,message:k.data.message||"Invalid credentials"}}catch(k){try{await as.logLogin(null,!1)}catch(E){console.error("Error logging failed login:",E)}return{success:!1,message:((S=(w=k.response)==null?void 0:w.data)==null?void 0:S.message)||"Login failed"}}},x=async()=>{try{const v=r==null?void 0:r._id;if(v)try{await as.logLogout(v)}catch(w){console.error("Error logging logout:",w)}s(null),localStorage.removeItem("token"),localStorage.removeItem("activitySessionStart"),localStorage.removeItem("activitySessionActive"),localStorage.removeItem("activityManuallyPaused"),localStorage.removeItem("activityPageHiddenTime")}catch(v){console.error("Error during logout:",v)}};return e.jsx(fv.Provider,{value:{user:r,token:a,loading:l,error:u,register:p,login:g,logout:x,setUser:s,loadUser:h},children:t})},Fe=()=>y.useContext(fv),ms=(...t)=>t.filter(Boolean).join(" "),HM=(t,r="DD/MM/YYYY")=>{if(!t)return"N/A";const s=new Date(t);if(isNaN(s.getTime()))return"Invalid Date";const a=String(s.getDate()).padStart(2,"0"),i=String(s.getMonth()+1).padStart(2,"0"),l=s.getFullYear();return r==="DD/MM/YYYY"?`${a}/${i}/${l}`:r==="YYYY-MM-DD"?`${l}-${i}-${a}`:r==="MMM DD, YYYY"?`${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][s.getMonth()]} ${a}, ${l}`:`${a}/${i}/${l}`},Kc=(t,r,s)=>{if(t==null)return"N/A";const a=a3(),i=r||a.currency||"USD",l=i==="INR"?"en-IN":a.locale||"en-US";try{return new Intl.NumberFormat(l,{style:"currency",currency:i,minimumFractionDigits:2,maximumFractionDigits:2}).format(t)}catch(c){return console.error("Error formatting currency:",c),`${{USD:"$",INR:"",EUR:"",GBP:""}[i]||a.symbol||""}${Number(t).toFixed(2)}`}},a3=()=>{const t=localStorage.getItem("currencySettings");return t?JSON.parse(t):{currency:"USD",symbol:"$",locale:"en-US"}},pv=async()=>{try{try{const t=await Vn.getCount();if(t.data&&t.data.success&&typeof t.data.count=="number")return t.data.count;throw new Error("Invalid count response format")}catch(t){try{const r=await Vn.getAllForced();if(r.data&&r.data.success){let s=0;return r.data.count&&typeof r.data.count=="number"?s=r.data.count:r.data.data&&Array.isArray(r.data.data)?s=r.data.data.length:Array.isArray(r.data)&&(s=r.data.length),s}else throw new Error("Invalid sales response format")}catch(r){throw new Error(`All strategies failed. Count error: ${t.message}, Full fetch error: ${r.message}`)}}}catch(t){throw t}};var gv={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},yx=je.createContext&&je.createContext(gv),da=function(){return da=Object.assign||function(t){for(var r,s=1,a=arguments.length;s<a;s++){r=arguments[s];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},da.apply(this,arguments)},n3=function(t,r){var s={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&r.indexOf(a)<0&&(s[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(t);i<a.length;i++)r.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(s[a[i]]=t[a[i]]);return s};function xv(t){return t&&t.map(function(r,s){return je.createElement(r.tag,da({key:s},r.attr),xv(r.child))})}function ve(t){return function(r){return je.createElement(o3,da({attr:da({},t.attr)},r),xv(t.child))}}function o3(t){var r=function(s){var a=t.attr,i=t.size,l=t.title,c=n3(t,["attr","size","title"]),u=i||s.size||"1em",m;return s.className&&(m=s.className),t.className&&(m=(m?m+" ":"")+t.className),je.createElement("svg",da({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},s.attr,a,c,{className:m,style:da(da({color:t.color||s.color},s.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),l&&je.createElement("title",null,l),t.children)};return yx!==void 0?je.createElement(yx.Consumer,null,function(s){return r(s)}):r(gv)}function i3(t){return ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"}}]})(t)}function nh(t){return ve({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"}}]})(t)}function li(t){return ve({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"}}]})(t)}function l3(t){return ve({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"}}]})(t)}function Ec(t){return ve({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"}}]})(t)}function Tc(t){return ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M320 336c0 8.84-7.16 16-16 16h-96c-8.84 0-16-7.16-16-16v-48H0v144c0 25.6 22.4 48 48 48h416c25.6 0 48-22.4 48-48V288H320v48zm144-208h-80V80c0-25.6-22.4-48-48-48H176c-25.6 0-48 22.4-48 48v48H48c-25.6 0-48 22.4-48 48v80h512v-80c0-25.6-22.4-48-48-48zm-144 0H192V96h128v32z"}}]})(t)}function bx(t){return ve({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 0H48C22.4 0 0 22.4 0 48v416c0 25.6 22.4 48 48 48h352c25.6 0 48-22.4 48-48V48c0-25.6-22.4-48-48-48zM128 435.2c0 6.4-6.4 12.8-12.8 12.8H76.8c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm0-128c0 6.4-6.4 12.8-12.8 12.8H76.8c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm128 128c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm0-128c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm128 128c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8V268.8c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v166.4zm0-256c0 6.4-6.4 12.8-12.8 12.8H76.8c-6.4 0-12.8-6.4-12.8-12.8V76.8C64 70.4 70.4 64 76.8 64h294.4c6.4 0 12.8 6.4 12.8 12.8v102.4z"}}]})(t)}function Es(t){return ve({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"}}]})(t)}function ci(t){return ve({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 160H12c-6.627 0-12-5.373-12-12v-36c0-26.51 21.49-48 48-48h48V12c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v52h128V12c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v52h48c26.51 0 48 21.49 48 48v36c0 6.627-5.373 12-12 12zM12 192h424c6.627 0 12 5.373 12 12v260c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V204c0-6.627 5.373-12 12-12zm333.296 95.947l-28.169-28.398c-4.667-4.705-12.265-4.736-16.97-.068L194.12 364.665l-45.98-46.352c-4.667-4.705-12.266-4.736-16.971-.068l-28.397 28.17c-4.705 4.667-4.736 12.265-.068 16.97l82.601 83.269c4.667 4.705 12.265 4.736 16.97.068l142.953-141.805c4.705-4.667 4.736-12.265.068-16.97z"}}]})(t)}function vx(t){return ve({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 160H12c-6.6 0-12-5.4-12-12v-36c0-26.5 21.5-48 48-48h48V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h128V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h48c26.5 0 48 21.5 48 48v36c0 6.6-5.4 12-12 12zM12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm316 140c0-6.6-5.4-12-12-12h-60v-60c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v60h-60c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h60v60c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12v-60h60c6.6 0 12-5.4 12-12v-40z"}}]})(t)}function c3(t){return ve({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm436-44v-36c0-26.5-21.5-48-48-48h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v36c0 6.6 5.4 12 12 12h424c6.6 0 12-5.4 12-12z"}}]})(t)}function d3(t){return ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"}}]})(t)}function Ac(t){return ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"}}]})(t)}function cr(t){return ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"}}]})(t)}function WM(t){return ve({attr:{viewBox:"0 0 544 512"},child:[{tag:"path",attr:{d:"M527.79 288H290.5l158.03 158.03c6.04 6.04 15.98 6.53 22.19.68 38.7-36.46 65.32-85.61 73.13-140.86 1.34-9.46-6.51-17.85-16.06-17.85zm-15.83-64.8C503.72 103.74 408.26 8.28 288.8.04 279.68-.59 272 7.1 272 16.24V240h223.77c9.14 0 16.82-7.68 16.19-16.8zM224 288V50.71c0-9.55-8.39-17.4-17.84-16.06C86.99 51.49-4.1 155.6.14 280.37 4.5 408.51 114.83 513.59 243.03 511.98c50.4-.63 96.97-16.87 135.26-44.03 7.9-5.6 8.42-17.23 1.57-24.08L224 288z"}}]})(t)}function Xa(t){return ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"}}]})(t)}function di(t){return ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"}}]})(t)}function u3(t){return ve({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"}}]})(t)}function Ts(t){return ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"}}]})(t)}function yv(t){return ve({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"}}]})(t)}function Qo(t){return ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"}}]})(t)}function mc(t){return ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32z"}}]})(t)}function Jo(t){return ve({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"}}]})(t)}function m3(t){return ve({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V256H0v176zm192-68c0-6.6 5.4-12 12-12h136c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H204c-6.6 0-12-5.4-12-12v-40zm-128 0c0-6.6 5.4-12 12-12h72c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM576 80v48H0V80c0-26.5 21.5-48 48-48h480c26.5 0 48 21.5 48 48z"}}]})(t)}function h3(t){return ve({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 0H48C21.5 0 0 21.5 0 48v320c0 26.5 21.5 48 48 48h192l-16 48h-72c-13.3 0-24 10.7-24 24s10.7 24 24 24h272c13.3 0 24-10.7 24-24s-10.7-24-24-24h-72l-16-48h192c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zm-16 352H64V64h448v288z"}}]})(t)}function f3(t){return ve({attr:{viewBox:"0 0 288 512"},child:[{tag:"path",attr:{d:"M209.2 233.4l-108-31.6C88.7 198.2 80 186.5 80 173.5c0-16.3 13.2-29.5 29.5-29.5h66.3c12.2 0 24.2 3.7 34.2 10.5 6.1 4.1 14.3 3.1 19.5-2l34.8-34c7.1-6.9 6.1-18.4-1.8-24.5C238 74.8 207.4 64.1 176 64V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48h-2.5C45.8 64-5.4 118.7.5 183.6c4.2 46.1 39.4 83.6 83.8 96.6l102.5 30c12.5 3.7 21.2 15.3 21.2 28.3 0 16.3-13.2 29.5-29.5 29.5h-66.3C100 368 88 364.3 78 357.5c-6.1-4.1-14.3-3.1-19.5 2l-34.8 34c-7.1 6.9-6.1 18.4 1.8 24.5 24.5 19.2 55.1 29.9 86.5 30v48c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-48.2c46.6-.9 90.3-28.6 105.7-72.7 21.5-61.6-14.6-124.8-72.5-141.7z"}}]})(t)}function Pc(t){return ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"}}]})(t)}function hs(t){return ve({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"}}]})(t)}function ls(t){return ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"}}]})(t)}function Si(t){return ve({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"}}]})(t)}function qM(t){return ve({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"}}]})(t)}function r0(t){return ve({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"}}]})(t)}function YM(t){return ve({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128zM571 308l-95.7-96.4c-10.1-10.1-27.4-3-27.4 11.3V288h-64v64h64v65.2c0 14.3 17.3 21.4 27.4 11.3L571 332c6.6-6.6 6.6-17.4 0-24zm-379 28v-32c0-8.8 7.2-16 16-16h176V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V352H208c-8.8 0-16-7.2-16-16z"}}]})(t)}function p3(t){return ve({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-153 31V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM64 72c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8V72zm0 80v-16c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8zm144 263.88V440c0 4.42-3.58 8-8 8h-16c-4.42 0-8-3.58-8-8v-24.29c-11.29-.58-22.27-4.52-31.37-11.35-3.9-2.93-4.1-8.77-.57-12.14l11.75-11.21c2.77-2.64 6.89-2.76 10.13-.73 3.87 2.42 8.26 3.72 12.82 3.72h28.11c6.5 0 11.8-5.92 11.8-13.19 0-5.95-3.61-11.19-8.77-12.73l-45-13.5c-18.59-5.58-31.58-23.42-31.58-43.39 0-24.52 19.05-44.44 42.67-45.07V232c0-4.42 3.58-8 8-8h16c4.42 0 8 3.58 8 8v24.29c11.29.58 22.27 4.51 31.37 11.35 3.9 2.93 4.1 8.77.57 12.14l-11.75 11.21c-2.77 2.64-6.89 2.76-10.13.73-3.87-2.43-8.26-3.72-12.82-3.72h-28.11c-6.5 0-11.8 5.92-11.8 13.19 0 5.95 3.61 11.19 8.77 12.73l45 13.5c18.59 5.58 31.58 23.42 31.58 43.39 0 24.53-19.05 44.44-42.67 45.07z"}}]})(t)}function s0(t){return ve({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm65.18 216.01H224v80c0 8.84-7.16 16-16 16h-32c-8.84 0-16-7.16-16-16v-80H94.82c-14.28 0-21.41-17.29-11.27-27.36l96.42-95.7c6.65-6.61 17.39-6.61 24.04 0l96.42 95.7c10.15 10.07 3.03 27.36-11.25 27.36zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"}}]})(t)}function g3(t){return ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"}}]})(t)}function bv(t){return ve({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.34 153.2L343.4 67.5c-15.2-4.67-31.6-4.67-46.79 0L17.66 153.2c-23.54 7.23-23.54 38.36 0 45.59l48.63 14.94c-10.67 13.19-17.23 29.28-17.88 46.9C38.78 266.15 32 276.11 32 288c0 10.78 5.68 19.85 13.86 25.65L20.33 428.53C18.11 438.52 25.71 448 35.94 448h56.11c10.24 0 17.84-9.48 15.62-19.47L82.14 313.65C90.32 307.85 96 298.78 96 288c0-11.57-6.47-21.25-15.66-26.87.76-15.02 8.44-28.3 20.69-36.72L296.6 284.5c9.06 2.78 26.44 6.25 46.79 0l278.95-85.7c23.55-7.24 23.55-38.36 0-45.6zM352.79 315.09c-28.53 8.76-52.84 3.92-65.59 0l-145.02-44.55L128 384c0 35.35 85.96 64 192 64s192-28.65 192-64l-14.18-113.47-145.03 44.56z"}}]})(t)}function x3(t){return ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 255.531c.253 136.64-111.18 248.372-247.82 248.468-59.015.042-113.223-20.53-155.822-54.911-11.077-8.94-11.905-25.541-1.839-35.607l11.267-11.267c8.609-8.609 22.353-9.551 31.891-1.984C173.062 425.135 212.781 440 256 440c101.705 0 184-82.311 184-184 0-101.705-82.311-184-184-184-48.814 0-93.149 18.969-126.068 49.932l50.754 50.754c10.08 10.08 2.941 27.314-11.313 27.314H24c-8.837 0-16-7.163-16-16V38.627c0-14.254 17.234-21.393 27.314-11.314l49.372 49.372C129.209 34.136 189.552 8 256 8c136.81 0 247.747 110.78 248 247.531zm-180.912 78.784l9.823-12.63c8.138-10.463 6.253-25.542-4.21-33.679L288 256.349V152c0-13.255-10.745-24-24-24h-16c-13.255 0-24 10.745-24 24v135.651l65.409 50.874c10.463 8.137 25.541 6.253 33.679-4.21z"}}]})(t)}function zo(t){return ve({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"}}]})(t)}function KM(t){return ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"}}]})(t)}function y3(t){return ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"}}]})(t)}function As(t){return ve({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M255.03 261.65c6.25 6.25 16.38 6.25 22.63 0l11.31-11.31c6.25-6.25 6.25-16.38 0-22.63L253.25 192l35.71-35.72c6.25-6.25 6.25-16.38 0-22.63l-11.31-11.31c-6.25-6.25-16.38-6.25-22.63 0l-58.34 58.34c-6.25 6.25-6.25 16.38 0 22.63l58.35 58.34zm96.01-11.3l11.31 11.31c6.25 6.25 16.38 6.25 22.63 0l58.34-58.34c6.25-6.25 6.25-16.38 0-22.63l-58.34-58.34c-6.25-6.25-16.38-6.25-22.63 0l-11.31 11.31c-6.25 6.25-6.25 16.38 0 22.63L386.75 192l-35.71 35.72c-6.25 6.25-6.25 16.38 0 22.63zM624 416H381.54c-.74 19.81-14.71 32-32.74 32H288c-18.69 0-33.02-17.47-32.77-32H16c-8.8 0-16 7.2-16 16v16c0 35.2 28.8 64 64 64h512c35.2 0 64-28.8 64-64v-16c0-8.8-7.2-16-16-16zM576 48c0-26.4-21.6-48-48-48H112C85.6 0 64 21.6 64 48v336h512V48zm-64 272H128V64h384v256z"}}]})(t)}function b3(t){return ve({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"}}]})(t)}function Cs(t){return ve({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"}}]})(t)}function oh(t){return ve({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"}}]})(t)}function v3(t){return ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"}}]})(t)}function a0(t){return ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M470.38 1.51L150.41 96A32 32 0 0 0 128 126.51v261.41A139 139 0 0 0 96 384c-53 0-96 28.66-96 64s43 64 96 64 96-28.66 96-64V214.32l256-75v184.61a138.4 138.4 0 0 0-32-3.93c-53 0-96 28.66-96 64s43 64 96 64 96-28.65 96-64V32a32 32 0 0 0-41.62-30.49z"}}]})(t)}function w3(t){return ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"}}]})(t)}function j3(t){return ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.39 361.8l-112-48a24 24 0 0 0-28 6.9l-49.6 60.6A370.66 370.66 0 0 1 130.6 204.11l60.6-49.6a23.94 23.94 0 0 0 6.9-28l-48-112A24.16 24.16 0 0 0 122.6.61l-104 24A24 24 0 0 0 0 48c0 256.5 207.9 464 464 464a24 24 0 0 0 23.4-18.6l24-104a24.29 24.29 0 0 0-14.01-27.6z"}}]})(t)}function n0(t){return ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"}}]})(t)}function $a(t){return ve({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"}}]})(t)}function Gc(t){return ve({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"}}]})(t)}function Ba(t){return ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505.12019,19.09375c-1.18945-5.53125-6.65819-11-12.207-12.1875C460.716,0,435.507,0,410.40747,0,307.17523,0,245.26909,55.20312,199.05238,128H94.83772c-16.34763.01562-35.55658,11.875-42.88664,26.48438L2.51562,253.29688A28.4,28.4,0,0,0,0,264a24.00867,24.00867,0,0,0,24.00582,24H127.81618l-22.47457,22.46875c-11.36521,11.36133-12.99607,32.25781,0,45.25L156.24582,406.625c11.15623,11.1875,32.15619,13.15625,45.27726,0l22.47457-22.46875V488a24.00867,24.00867,0,0,0,24.00581,24,28.55934,28.55934,0,0,0,10.707-2.51562l98.72834-49.39063c14.62888-7.29687,26.50776-26.5,26.50776-42.85937V312.79688c72.59753-46.3125,128.03493-108.40626,128.03493-211.09376C512.07526,76.5,512.07526,51.29688,505.12019,19.09375ZM384.04033,168A40,40,0,1,1,424.05,128,40.02322,40.02322,0,0,1,384.04033,168Z"}}]})(t)}function vv(t){return ve({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M308 96c6.627 0 12-5.373 12-12V44c0-6.627-5.373-12-12-12H12C5.373 32 0 37.373 0 44v44.748c0 6.627 5.373 12 12 12h85.28c27.308 0 48.261 9.958 60.97 27.252H12c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h158.757c-6.217 36.086-32.961 58.632-74.757 58.632H12c-6.627 0-12 5.373-12 12v53.012c0 3.349 1.4 6.546 3.861 8.818l165.052 152.356a12.001 12.001 0 0 0 8.139 3.182h82.562c10.924 0 16.166-13.408 8.139-20.818L116.871 319.906c76.499-2.34 131.144-53.395 138.318-127.906H308c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12h-58.69c-3.486-11.541-8.28-22.246-14.252-32H308z"}}]})(t)}function wv(t){return ve({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"}}]})(t)}function jv(t){return ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"}}]})(t)}function Ho(t){return ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"}}]})(t)}function N3(t){return ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 448h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32h-84c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h84c53 0 96 43 96 96v192c0 53-43 96-96 96zm-47-201L201 79c-15-15-41-4.5-41 17v96H24c-13.3 0-24 10.7-24 24v96c0 13.3 10.7 24 24 24h136v96c0 21.5 26 32 41 17l168-168c9.3-9.4 9.3-24.6 0-34z"}}]})(t)}function o0(t){return ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"}}]})(t)}function _t(t){return ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"}}]})(t)}function k3(t){return ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"}}]})(t)}function GM(t){return ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M440.65 12.57l4 82.77A247.16 247.16 0 0 0 255.83 8C134.73 8 33.91 94.92 12.29 209.82A12 12 0 0 0 24.09 224h49.05a12 12 0 0 0 11.67-9.26 175.91 175.91 0 0 1 317-56.94l-101.46-4.86a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12H500a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12h-47.37a12 12 0 0 0-11.98 12.57zM255.83 432a175.61 175.61 0 0 1-146-77.8l101.8 4.87a12 12 0 0 0 12.57-12v-47.4a12 12 0 0 0-12-12H12a12 12 0 0 0-12 12V500a12 12 0 0 0 12 12h47.35a12 12 0 0 0 12-12.6l-4.15-82.57A247.17 247.17 0 0 0 255.83 504c121.11 0 221.93-86.92 243.55-201.82a12 12 0 0 0-11.8-14.18h-49.05a12 12 0 0 0-11.67 9.26A175.86 175.86 0 0 1 255.83 432z"}}]})(t)}function Er(t){return ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M139.61 35.5a12 12 0 0 0-17 0L58.93 98.81l-22.7-22.12a12 12 0 0 0-17 0L3.53 92.41a12 12 0 0 0 0 17l47.59 47.4a12.78 12.78 0 0 0 17.61 0l15.59-15.62L156.52 69a12.09 12.09 0 0 0 .09-17zm0 159.19a12 12 0 0 0-17 0l-63.68 63.72-22.7-22.1a12 12 0 0 0-17 0L3.53 252a12 12 0 0 0 0 17L51 316.5a12.77 12.77 0 0 0 17.6 0l15.7-15.69 72.2-72.22a12 12 0 0 0 .09-16.9zM64 368c-26.49 0-48.59 21.5-48.59 48S37.53 464 64 464a48 48 0 0 0 0-96zm432 16H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"}}]})(t)}function S3(t){return ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"}}]})(t)}function It(t){return ve({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"}}]})(t)}function C3(t){return ve({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 64H192C85.961 64 0 149.961 0 256s85.961 192 192 192h192c106.039 0 192-85.961 192-192S490.039 64 384 64zM64 256c0-70.741 57.249-128 128-128 70.741 0 128 57.249 128 128 0 70.741-57.249 128-128 128-70.741 0-128-57.249-128-128zm320 128h-48.905c65.217-72.858 65.236-183.12 0-256H384c70.741 0 128 57.249 128 128 0 70.74-57.249 128-128 128z"}}]})(t)}function E3(t){return ve({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 64H192C86 64 0 150 0 256s86 192 192 192h192c106 0 192-86 192-192S490 64 384 64zm0 320c-70.8 0-128-57.3-128-128 0-70.8 57.3-128 128-128 70.8 0 128 57.3 128 128 0 70.8-57.3 128-128 128z"}}]})(t)}function Qn(t){return ve({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"}}]})(t)}function XM(t){return ve({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"}}]})(t)}function wx(t){return ve({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z"}}]})(t)}function i0(t){return ve({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M319.4 320.6L224 416l-95.4-95.4C57.1 323.7 0 382.2 0 454.4v9.6c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-9.6c0-72.2-57.1-130.7-128.6-133.8zM13.6 79.8l6.4 1.5v58.4c-7 4.2-12 11.5-12 20.3 0 8.4 4.6 15.4 11.1 19.7L3.5 242c-1.7 6.9 2.1 14 7.6 14h41.8c5.5 0 9.3-7.1 7.6-14l-15.6-62.3C51.4 175.4 56 168.4 56 160c0-8.8-5-16.1-12-20.3V87.1l66 15.9c-8.6 17.2-14 36.4-14 57 0 70.7 57.3 128 128 128s128-57.3 128-128c0-20.6-5.3-39.8-14-57l96.3-23.2c18.2-4.4 18.2-27.1 0-31.5l-190.4-46c-13-3.1-26.7-3.1-39.7 0L13.6 48.2c-18.1 4.4-18.1 27.2 0 31.6z"}}]})(t)}function Nv(t){return ve({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}}]})(t)}function kv(t){return ve({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm95.8 32.6L272 480l-32-136 32-56h-96l32 56-32 136-47.8-191.4C56.9 292 0 350.3 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-72.1-56.9-130.4-128.2-133.8z"}}]})(t)}function Ot(t){return ve({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}}]})(t)}function Ct(t){return ve({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"}}]})(t)}function T3(t){return ve({attr:{viewBox:"0 0 256 512"},child:[{tag:"path",attr:{d:"M215 71l-89 89H24a24 24 0 0 0-24 24v144a24 24 0 0 0 24 24h102.06L215 441c15 15 41 4.47 41-17V88c0-21.47-26-32-41-17z"}}]})(t)}function l0(t){return ve({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M215.03 71.05L126.06 160H24c-13.26 0-24 10.74-24 24v144c0 13.25 10.74 24 24 24h102.06l88.97 88.95c15.03 15.03 40.97 4.47 40.97-16.97V88.02c0-21.46-25.96-31.98-40.97-16.97zm233.32-51.08c-11.17-7.33-26.18-4.24-33.51 6.95-7.34 11.17-4.22 26.18 6.95 33.51 66.27 43.49 105.82 116.6 105.82 195.58 0 78.98-39.55 152.09-105.82 195.58-11.17 7.32-14.29 22.34-6.95 33.5 7.04 10.71 21.93 14.56 33.51 6.95C528.27 439.58 576 351.33 576 256S528.27 72.43 448.35 19.97zM480 256c0-63.53-32.06-121.94-85.77-156.24-11.19-7.14-26.03-3.82-33.12 7.46s-3.78 26.21 7.41 33.36C408.27 165.97 432 209.11 432 256s-23.73 90.03-63.48 115.42c-11.19 7.14-14.5 22.07-7.41 33.36 6.51 10.36 21.12 15.14 33.12 7.46C447.94 377.94 480 319.54 480 256zm-141.77-76.87c-11.58-6.33-26.19-2.16-32.61 9.45-6.39 11.61-2.16 26.2 9.45 32.61C327.98 228.28 336 241.63 336 256c0 14.38-8.02 27.72-20.92 34.81-11.61 6.41-15.84 21-9.45 32.61 6.43 11.66 21.05 15.8 32.61 9.45 28.23-15.55 45.77-45 45.77-76.88s-17.54-61.32-45.78-76.86z"}}]})(t)}const A3=()=>{const t=y.useContext(Cb);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},P3=({className:t=""})=>{const{theme:r,toggleTheme:s}=A3();return e.jsx("button",{onClick:s,className:`relative inline-flex items-center justify-center p-2 rounded-lg bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600 border border-slate-300 dark:border-slate-600 shadow-sm dark:shadow-lg dark:shadow-2xl dark:shadow-black/25 hover:shadow-md dark:hover:shadow-xl transition-all duration-200 ease-out ${t}`,title:`Switch to ${r==="dark"?"light":"dark"} mode`,children:e.jsx("div",{className:"relative w-5 h-5",children:r==="dark"?e.jsx(k3,{className:"w-5 h-5 text-yellow-400 animate-pulse drop-shadow-sm dark:shadow-black/25"}):e.jsx(v3,{className:"w-5 h-5 text-slate-600 dark:text-slate-300 drop-shadow-sm dark:shadow-black/25"})})})},um="https://crm-trial-backend.onrender.com/api",D3=()=>{const{user:t,token:r}=Fe(),s=y.useRef(null),a=y.useRef(Date.now()),i=y.useRef(null),l=y.useRef(null),c=y.useRef(!1),u=y.useRef(!1),m=y.useRef(!1),h=y.useRef(null),p=300*1e3,g=6e4,x=y.useCallback(async(P,F="GET",T=null)=>{if(!r)return null;try{const L={method:F,url:`${um}${P}`,headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}};return T&&(L.data=T),(await lt(L)).data}catch(L){return console.error("Activity API error:",L),null}},[r]),v=y.useCallback(async()=>{if(!(!t||!r||u.current||m.current))try{const P=await x("/activity/start-session","POST");P!=null&&P.success&&(s.current=Date.now(),a.current=Date.now(),c.current=!0,u.current=!0,localStorage.setItem("activitySessionStart",s.current.toString()),localStorage.setItem("activitySessionActive","true"),console.log("Activity session started"))}catch(P){console.error("Failed to start activity session:",P)}},[t,r,x]),w=y.useCallback(async(P=null)=>{if(!(!u.current||!s.current))try{const F=P||Math.floor((Date.now()-s.current)/1e3);if(navigator.sendBeacon&&r){const T=JSON.stringify({duration:F,token:r}),L=`${um}/activity/end-session-beacon`,z=new Blob([T],{type:"application/json"});navigator.sendBeacon(L,z)?console.log("Activity session ended via beacon"):await x("/activity/end-session","POST",{duration:F})}else await x("/activity/end-session","POST",{duration:F});s.current=null,c.current=!1,u.current=!1,localStorage.removeItem("activitySessionStart"),localStorage.removeItem("activitySessionActive"),console.log("Activity session ended")}catch(F){console.error("Failed to end activity session:",F)}},[x,r]),S=y.useCallback(async()=>{m.current=!1,localStorage.setItem("activityManuallyPaused","false"),await v()},[v]),k=y.useCallback(async()=>{m.current=!0,localStorage.setItem("activityManuallyPaused","true"),await w()},[w]),E=y.useCallback(async()=>{if(!(!u.current||!s.current||m.current))try{const P=Date.now();if(P-a.current<p){const L=Math.floor((P-s.current)/1e3);await x("/activity/track","POST",{duration:L,isActive:!0})}}catch(P){console.error("Failed to track activity:",P)}},[x,p]),C=y.useCallback(()=>{m.current||(a.current=Date.now(),l.current&&clearTimeout(l.current),l.current=setTimeout(()=>{c.current&&!m.current&&(console.log("User inactive, pausing session tracking"),c.current=!1)},p))},[p]),j=y.useCallback(async()=>{if(document.hidden||document.visibilityState==="hidden")console.log("Page hidden - continuing activity tracking (tab switch or system lock)"),localStorage.setItem("activityPageHiddenTime",Date.now().toString());else if(document.visibilityState==="visible"){const P=localStorage.getItem("activityPageHiddenTime");if(P){const F=Date.now()-parseInt(P);console.log(`Page visible again after ${Math.floor(F/1e3)} seconds`),F>6e5?(console.log("System was likely locked - restarting session"),t&&r&&!m.current&&(u.current&&await w(),setTimeout(()=>v(),1e3))):(console.log("Tab switch detected - continuing existing session"),t&&r&&!u.current&&!m.current&&v()),localStorage.removeItem("activityPageHiddenTime")}}},[t,r,v,w]),A=y.useCallback(()=>{if(u.current&&s.current){const P=Math.floor((Date.now()-s.current)/1e3);if(navigator.sendBeacon&&r){const F=JSON.stringify({duration:P,token:r}),T=`${um}/activity/end-session-beacon`,L=new Blob([F],{type:"application/json"});navigator.sendBeacon(T,L)}}},[r]);return y.useEffect(()=>{if(!t||!r)return;const P=localStorage.getItem("activityManuallyPaused")==="true";m.current=P;const F=localStorage.getItem("activitySessionStart"),T=localStorage.getItem("activitySessionActive")==="true";F&&T&&!P?(console.log("Resuming existing activity session"),s.current=parseInt(F),c.current=!0,u.current=!0,a.current=Date.now()):P||v();const L=["mousedown","mousemove","keypress","scroll","touchstart","click"];return L.forEach(z=>{document.addEventListener(z,C,!0)}),i.current=setInterval(E,g),h.current=j,document.addEventListener("visibilitychange",j),window.addEventListener("beforeunload",A),()=>{L.forEach(z=>{document.removeEventListener(z,C,!0)}),document.removeEventListener("visibilitychange",j),window.removeEventListener("beforeunload",A),i.current&&clearInterval(i.current),l.current&&clearTimeout(l.current)}},[t,r,v,w,C,E,j,A,g]),{isSessionActive:c.current,sessionStartTime:s.current,isManuallyPaused:m.current,startSession:S,pauseSession:k,updateActivity:C}},M3=()=>{const{user:t}=Fe(),[r,s]=y.useState(0),[a,i]=y.useState(!1),{sessionStartTime:l,isManuallyPaused:c,startSession:u,pauseSession:m}=D3();y.useEffect(()=>{if(!t||t.role==="Customer")return;const g=setInterval(()=>{if(l&&!c){const x=Date.now(),v=Math.floor((x-l)/1e3);s(v)}else s(0)},1e3);return()=>{clearInterval(g)}},[t,l,c]);const h=g=>{const x=Math.floor(g/3600),v=Math.floor(g%3600/60),w=g%60;return x>0?`${x.toString().padStart(2,"0")}:${v.toString().padStart(2,"0")}:${w.toString().padStart(2,"0")}`:`${v.toString().padStart(2,"0")}:${w.toString().padStart(2,"0")}`},p=()=>{c?u():m()};return!t||t.role==="Customer"?null:e.jsxs("div",{className:"relative",onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-100 dark:bg-gray-800 px-3 py-2 rounded-lg cursor-pointer",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${!c&&l?"bg-green-500 animate-pulse":"bg-gray-400"}`}),e.jsxs("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-500",children:[e.jsx("span",{className:"hidden sm:inline",children:"Session: "}),e.jsx("span",{className:"font-mono",children:h(r)})]}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-500",children:c?"":l?"":""})]}),a&&e.jsxs("div",{className:"absolute top-full left-0 mt-1 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg dark:shadow-black/25 p-3 z-50 min-w-[200px]",children:[e.jsx("div",{className:"text-xs font-semibold text-gray-600 dark:text-gray-500 mb-2",children:"Activity Timer Controls"}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-500 mb-3",children:["Status: ",c?"Manually Paused":l?"Active":"Stopped"]}),e.jsx("div",{className:"flex space-x-2",children:e.jsx("button",{onClick:p,className:`px-3 py-1 text-xs rounded-md font-medium transition-colors ${c?"bg-green-600 hover:bg-green-700 text-white":"bg-orange-600 hover:bg-orange-700 text-white"}`,children:c?" Start":" Pause"})}),e.jsx("div",{className:"text-xs text-gray-400 dark:text-gray-400 mt-2 leading-relaxed",children:"Timer automatically pauses when system locks or tab is hidden."})]})]})},jx="/assets/traincape-logo-CYea5aN8.jpg",Nx=({to:t,children:r,isScrolled:s,onClick:a})=>e.jsx(Te,{to:t,onClick:a,className:`nav-link-hover px-4 py-2 rounded-xl font-medium transition-all ${s?"text-gray-700 dark:text-gray-300 hover:text-primary":"text-white/90 hover:text-white"}`,children:r}),mm=({id:t,title:r,icon:s,isScrolled:a,openMenu:i,setOpenMenu:l})=>e.jsxs("button",{onClick:()=>l(i===t?null:t),className:`group flex items-center px-4 py-2 rounded-xl transition-all duration-300 border border-transparent ${a?"text-gray-700 dark:text-gray-300 hover:text-primary hover:bg-primary/5 dark:hover:bg-slate-700 hover:border-primary/20 dark:hover:border-slate-600":"text-white/90 hover:text-white hover:bg-white/10 hover:border-white/20"}`,children:[s&&e.jsx(s,{className:"mr-2 text-sm"}),e.jsx("span",{className:"font-medium",children:r}),e.jsx("svg",{className:`ml-2 h-4 w-4 transition-transform ${i===t?"rotate-180":""}`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),Yl=({items:t,setOpenMenu:r})=>e.jsx("div",{className:`absolute top-12 right-0 mt-2 w-56 rounded-2xl shadow-xl 
             backdrop-blur-md bg-slate-900/90 border border-white/10 z-50`,role:"menu",children:e.jsx("div",{className:"py-2",children:t.map((s,a)=>s.onClick?e.jsxs("button",{onClick:()=>{s.onClick(),r(null)},className:`w-full flex items-center gap-3 px-4 py-2.5 text-sm text-gray-200 \r
                         font-medium rounded-lg transition-colors duration-200\r
                         hover:bg-white/10 hover:text-white`,role:"menuitem",children:[e.jsx(s.icon,{className:"opacity-70",size:16}),s.label]},a):e.jsxs(Te,{to:s.path,onClick:()=>r(null),className:`flex items-center gap-3 px-4 py-2.5 text-sm text-gray-200 \r
                         font-medium rounded-lg transition-colors duration-200\r
                         hover:bg-white/10 hover:text-white`,role:"menuitem",children:[e.jsx(s.icon,{className:"opacity-70",size:16}),s.label]},a))})}),R3=()=>{var E,C;const{user:t,logout:r}=Fe(),s=us(),[a,i]=y.useState(!1),[l,c]=y.useState(!1),[u,m]=y.useState(null),h={sales:y.useRef(null),leads:y.useRef(null),admin:y.useRef(null),profile:y.useRef(null)},[p,g]=y.useState({sales:!0,leads:!0,admin:!0});y.useEffect(()=>{const j=()=>i(window.scrollY>20);return window.addEventListener("scroll",j),()=>window.removeEventListener("scroll",j)},[]),y.useEffect(()=>{const j=A=>{var F;if(!u)return;const P=(F=h[u])==null?void 0:F.current;P&&!P.contains(A.target)&&m(null)};return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[u]),y.useEffect(()=>(document.body.classList.toggle("no-scroll",l),()=>document.body.classList.remove("no-scroll")),[l]),y.useEffect(()=>{const j=A=>A.key==="Escape"&&c(!1);return window.addEventListener("keydown",j),()=>window.removeEventListener("keydown",j)},[]);const x=()=>{r(),s("/login"),c(!1),m(null)},v=[{label:"Sales Tracking",path:"/sales-tracking",icon:cr},{label:"Prospects",path:"/prospects",icon:Ct}],w=[{label:"Leads",path:"/leads",icon:Ct},{label:"Lead Sales Sheet",path:"/lead-sales-sheet",icon:cr}],S=[{label:"Dashboard",path:"/admin",icon:zo},{label:"Manage Users",path:"/admin/users",icon:Ct},{label:"Manage Leads",path:"/admin/leads",icon:cr},{label:"Import Data",path:"/admin/import",icon:Ct},{label:"Activity Logs",path:"/admin/activity-logs",icon:Ec}],k=[{label:"Profile",path:"/profile",icon:Ot},{label:"Settings",path:"/settings",icon:Qo},{label:"Logout",onClick:x,icon:o0}];return e.jsxs(e.Fragment,{children:[e.jsx("header",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-500 ${a?"navbar-glass-dark shadow-lg":"bg-gradient-to-r from-primary via-secondary to-indigo-700/95"}`,children:e.jsx("nav",{className:"w-full px-3 sm:px-4 md:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16 sm:h-20",children:[e.jsxs(Te,{to:"/",className:"group flex items-center space-x-2 md:space-x-3 hover:scale-[1.02] transition-transform",onClick:()=>m(null),children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 to-purple-500 rounded-2xl blur opacity-70 group-hover:opacity-100"}),e.jsxs("div",{className:"relative bg-white/10 backdrop-blur-sm p-1.5 md:p-2 rounded-2xl border border-white/20",children:[e.jsx("img",{src:jx,alt:"TrainCape",className:"h-8 w-8 md:h-10 md:w-10 rounded-xl"}),e.jsx(Ba,{className:"absolute -top-1 -right-1 text-yellow-400 text-xs animate-pulse"})]})]}),e.jsxs("div",{children:[e.jsx("span",{className:`text-lg md:text-xl font-black ${a?"text-gradient":"text-white"}`,children:"TrainCape"}),e.jsx("div",{className:`${a?"opacity-70":"text-blue-100"} text-xs`,children:"CRM Technology"})]})]}),e.jsxs("div",{className:"hidden lg:flex items-center space-x-2",children:[e.jsxs(Nx,{to:"/",isScrolled:a,onClick:()=>m(null),children:[e.jsx(zo,{className:"inline mr-2 -mt-0.5"})," Home"]}),t&&t.role==="Customer"&&e.jsxs(Nx,{to:"/customer",isScrolled:a,onClick:()=>m(null),children:[e.jsx(zo,{className:"inline mr-2 -mt-0.5"})," Dashboard"]}),t&&["Sales Person","Manager","Admin"].includes(t.role)&&e.jsxs("div",{className:"relative",ref:h.sales,children:[e.jsx(mm,{id:"sales",title:"Sales",icon:cr,isScrolled:a,openMenu:u,setOpenMenu:m}),u==="sales"&&e.jsx(Yl,{title:"Sales",items:v,isScrolled:a,setOpenMenu:m,align:"left"})]}),t&&["Lead Person","Manager","Admin"].includes(t.role)&&e.jsxs("div",{className:"relative",ref:h.leads,children:[e.jsx(mm,{id:"leads",title:"Leads",icon:Ct,isScrolled:a,openMenu:u,setOpenMenu:m}),u==="leads"&&e.jsx(Yl,{title:"Leads",items:w,isScrolled:a,setOpenMenu:m,align:"left"})]}),t&&t.role==="Admin"&&e.jsxs("div",{className:"relative",ref:h.admin,children:[e.jsx(mm,{id:"admin",title:"Admin",icon:Qo,isScrolled:a,openMenu:u,setOpenMenu:m}),u==="admin"&&e.jsx(Yl,{title:"Admin",items:S,isScrolled:a,setOpenMenu:m,align:"left"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:`p-2 rounded-lg ${a?"text-gray-700/80":"text-white/90"} hidden md:block`,children:e.jsx(jv,{})}),e.jsx("button",{className:`p-2 rounded-lg ${a?"text-gray-700/80":"text-white/90"} hidden md:block`,children:e.jsx(Ec,{})}),t?e.jsxs("div",{className:"hidden lg:flex items-center gap-2 relative",ref:h.profile,children:[e.jsx("button",{onClick:()=>m(u==="profile"?null:"profile"),className:`px-2 py-1 rounded-lg border border-transparent ${a?"text-gray-700 dark:text-gray-300 hover:bg-primary/5 dark:hover:bg-slate-700":"text-white/90 hover:bg-white/10"}`,"aria-haspopup":"true","aria-expanded":u==="profile",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"text-sm font-semibold",children:t.fullName}),e.jsxs("div",{className:"avatar-glow relative",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-primary to-secondary rounded-xl flex items-center justify-center text-white font-semibold text-xs",children:((C=(E=t.fullName)==null?void 0:E.charAt(0))==null?void 0:C.toUpperCase())||"U"}),e.jsx("span",{className:"absolute -bottom-0.5 -right-0.5 w-2 h-2 bg-third border-2 border-white rounded-full"})]})]})}),u==="profile"&&e.jsx(Yl,{title:"Profile",items:k,isScrolled:a,setOpenMenu:m,align:"right"})]}):e.jsxs(Te,{to:"/login",className:`hidden lg:flex items-center px-4 py-2 rounded-lg font-semibold ${a?"text-gray-700 dark:text-gray-300 bg-white hover:bg-primary/5":"bg-white text-primary hover:bg-primary/5"}`,children:[e.jsx(Ot,{className:"mr-2"}),"Sign In"]}),e.jsx("button",{className:"lg:hidden p-2 rounded-lg text-white focus:outline-none",onClick:()=>c(!0),"aria-label":"Open menu",children:e.jsx(l3,{})})]})]})})}),l&&e.jsxs("div",{className:"drawer open",role:"dialog","aria-modal":"true","aria-label":"Main menu",children:[e.jsx("button",{className:"drawer-overlay",onClick:()=>c(!1),"aria-label":"Close menu overlay"}),e.jsxs("aside",{className:"drawer-panel safe-area",children:[e.jsxs("div",{className:"drawer-header",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:jx,alt:"TrainCape",className:"h-8 w-8 rounded-xl"}),e.jsxs("div",{className:"leading-tight",children:[e.jsx("div",{className:"text-white font-bold",children:"TrainCape"}),e.jsx("div",{className:"text-white/70 text-xs",children:"CRM Technology"})]})]}),e.jsx("button",{className:"drawer-close",onClick:()=>c(!1),"aria-label":"Close menu",children:e.jsx(It,{})})]}),e.jsxs("div",{className:"menu-scroll",children:[e.jsxs(Te,{to:"/",className:"drawer-link",onClick:()=>c(!1),children:[e.jsx(zo,{className:"mr-3"})," Home"]}),t&&t.role==="Customer"&&e.jsxs(Te,{to:"/customer",className:"drawer-link",onClick:()=>c(!1),children:[e.jsx(zo,{className:"mr-3"})," Dashboard"]}),t&&["Sales Person","Manager","Admin"].includes(t.role)&&e.jsxs("div",{className:"drawer-section",children:[e.jsxs("button",{className:"drawer-section-btn",onClick:()=>g(j=>({...j,sales:!j.sales})),children:[e.jsx(cr,{className:"mr-3"})," Sales",e.jsx("span",{className:`ml-auto chevron ${p.sales?"open":""}`})]}),p.sales&&e.jsx("div",{className:"drawer-sub",children:v.map((j,A)=>e.jsxs(Te,{to:j.path,className:"drawer-sublink",onClick:()=>c(!1),children:[e.jsx(j.icon,{className:"mr-3 opacity-80"}),j.label]},A))})]}),t&&["Lead Person","Manager","Admin"].includes(t.role)&&e.jsxs("div",{className:"drawer-section",children:[e.jsxs("button",{className:"drawer-section-btn",onClick:()=>g(j=>({...j,leads:!j.leads})),children:[e.jsx(Ct,{className:"mr-3"})," Leads",e.jsx("span",{className:`ml-auto chevron ${p.leads?"open":""}`})]}),p.leads&&e.jsx("div",{className:"drawer-sub",children:w.map((j,A)=>e.jsxs(Te,{to:j.path,className:"drawer-sublink",onClick:()=>c(!1),children:[e.jsx(j.icon,{className:"mr-3 opacity-80"}),j.label]},A))})]}),t&&t.role==="Admin"&&e.jsxs("div",{className:"drawer-section",children:[e.jsxs("button",{className:"drawer-section-btn",onClick:()=>g(j=>({...j,admin:!j.admin})),children:[e.jsx(Qo,{className:"mr-3"})," Admin",e.jsx("span",{className:`ml-auto chevron ${p.admin?"open":""}`})]}),p.admin&&e.jsx("div",{className:"drawer-sub",children:S.map((j,A)=>e.jsxs(Te,{to:j.path,className:"drawer-sublink",onClick:()=>c(!1),children:[e.jsx(j.icon,{className:"mr-3 opacity-80"}),j.label]},A))})]})]}),e.jsxs("div",{className:"drawer-footer",children:[e.jsxs("div",{className:"flex items-center justify-center gap-3 mb-3",children:[e.jsx(P3,{}),e.jsx(M3,{})]}),t?e.jsxs("button",{className:"logout",onClick:x,children:[e.jsx(o0,{className:"mr-2"}),"Logout"]}):e.jsxs(Te,{to:"/login",className:"signin",onClick:()=>c(!1),children:[e.jsx(Ot,{className:"mr-2"}),"Sign In"]})]})]})]}),e.jsx("div",{className:"h-16 sm:h-20"})]})},L3=()=>e.jsx("footer",{className:"bg-footer-deep-blue-black text-white dark:text-white py-12",children:e.jsxs("div",{className:"container mx-auto px-6",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-10",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold mb-4 bg-gradient-to-r from-purple-400 to-pink-500 bg-clip-text text-transparent",children:"TrainCape CRM"}),e.jsx("p",{className:" dark:text-white text-sm",children:"Empowering sales teams with intelligent CRM solutions."})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("h4",{className:"text-lg font-semibold mb-4 mr-12  dark:text-white",children:"Features"}),e.jsxs("ul",{className:"space-y-3  dark:text-white text-sm",children:[e.jsx("li",{children:e.jsxs(Te,{to:"/leads",className:"hover:opacity-80 transition flex items-center",children:[e.jsx(Ba,{className:"mr-2 text-sm"})," Lead Management"]})}),e.jsx("li",{children:e.jsxs(Te,{to:"/sales",className:"hover:opacity-80 transition flex items-center",children:[e.jsx(cr,{className:"mr-2 text-sm"})," Sales Pipeline"]})}),e.jsx("li",{children:e.jsxs(Te,{to:"/tasks",className:"hover:opacity-80 transition flex items-center",children:[e.jsx(Er,{className:"mr-2 text-sm"})," Task Management"]})}),e.jsx("li",{children:e.jsxs(Te,{to:"/admin/reports",className:"hover:opacity-80 transition flex items-center",children:[e.jsx(Ac,{className:"mr-2 text-sm"})," Analytics"]})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold mb-4  dark:text-white",children:"Resources"}),e.jsxs("ul",{className:"space-y-3  dark:text-white text-sm",children:[e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:opacity-80 transition",children:"Documentation"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:opacity-80 transition",children:"Help Center"})}),e.jsx("li",{children:e.jsx("a",{href:"#tutorials",className:"hover:opacity-80 transition",children:"Tutorials"})}),e.jsx("li",{children:e.jsx("a",{href:"#countries",className:"hover:opacity-80 transition",children:"Countries"})})]})]}),e.jsx("div",{children:e.jsxs("div",{className:"flex flex-row items-start justify-between",children:[e.jsxs("div",{className:"mr-6",children:[e.jsx("h4",{className:"text-lg font-semibold mb-4  dark:text-white",children:"Company"}),e.jsxs("ul",{className:"space-y-3 text-white dark:text-white text-sm",children:[e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:opacity-80 transition",children:"About Us"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:opacity-80 transition",children:"Careers"})}),e.jsx("li",{children:e.jsx("a",{href:"#management-contacts",className:"hover:opacity-80 transition",children:"Contact"})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold mb-3 text-white dark:text-white",children:"Connect"}),e.jsxs("div",{className:"flex flex-col ml-2",children:[e.jsx("a",{href:"#",className:"text-white dark:text-white hover:text-blue-400 transition p-2 rounded-full w-fit","aria-label":"LinkedIn",children:e.jsx(nh,{})}),e.jsx("a",{href:"#",className:"text-white dark:text-white hover:text-blue-600 transition p-2 rounded-full w-fit","aria-label":"Facebook",children:e.jsx(i3,{})}),e.jsx("a",{href:"mailto:support@traincapecrm.com",className:"text-white dark:text-white hover:text-red-600 transition p-2 rounded-full w-fit","aria-label":"Email",children:e.jsx(ls,{})})]})]})]})})]}),e.jsxs("div",{className:"border-t border-gray-300 dark:border-gray-700 mt-10 pt-6 text-center text-sm text-white dark:text-white",children:[" ",new Date().getFullYear()," TrainCape CRM. All rights reserved."]})]})}),Je=({children:t})=>e.jsxs("div",{className:"min-h-screen flex flex-col",children:[e.jsx(R3,{}),e.jsx("main",{className:"flex-grow",children:t}),e.jsx(L3,{})]}),cs=Object.create(null);cs.open="0";cs.close="1";cs.ping="2";cs.pong="3";cs.message="4";cs.upgrade="5";cs.noop="6";const hc=Object.create(null);Object.keys(cs).forEach(t=>{hc[cs[t]]=t});const c0={type:"error",data:"parser error"},Sv=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Cv=typeof ArrayBuffer=="function",Ev=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,ih=({type:t,data:r},s,a)=>Sv&&r instanceof Blob?s?a(r):kx(r,a):Cv&&(r instanceof ArrayBuffer||Ev(r))?s?a(r):kx(new Blob([r]),a):a(cs[t]+(r||"")),kx=(t,r)=>{const s=new FileReader;return s.onload=function(){const a=s.result.split(",")[1];r("b"+(a||""))},s.readAsDataURL(t)};function Sx(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let hm;function I3(t,r){if(Sv&&t.data instanceof Blob)return t.data.arrayBuffer().then(Sx).then(r);if(Cv&&(t.data instanceof ArrayBuffer||Ev(t.data)))return r(Sx(t.data));ih(t,!1,s=>{hm||(hm=new TextEncoder),r(hm.encode(s))})}const Cx="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Go=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<Cx.length;t++)Go[Cx.charCodeAt(t)]=t;const _3=t=>{let r=t.length*.75,s=t.length,a,i=0,l,c,u,m;t[t.length-1]==="="&&(r--,t[t.length-2]==="="&&r--);const h=new ArrayBuffer(r),p=new Uint8Array(h);for(a=0;a<s;a+=4)l=Go[t.charCodeAt(a)],c=Go[t.charCodeAt(a+1)],u=Go[t.charCodeAt(a+2)],m=Go[t.charCodeAt(a+3)],p[i++]=l<<2|c>>4,p[i++]=(c&15)<<4|u>>2,p[i++]=(u&3)<<6|m&63;return h},O3=typeof ArrayBuffer=="function",lh=(t,r)=>{if(typeof t!="string")return{type:"message",data:Tv(t,r)};const s=t.charAt(0);return s==="b"?{type:"message",data:F3(t.substring(1),r)}:hc[s]?t.length>1?{type:hc[s],data:t.substring(1)}:{type:hc[s]}:c0},F3=(t,r)=>{if(O3){const s=_3(t);return Tv(s,r)}else return{base64:!0,data:t}},Tv=(t,r)=>{switch(r){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},Av="",B3=(t,r)=>{const s=t.length,a=new Array(s);let i=0;t.forEach((l,c)=>{ih(l,!1,u=>{a[c]=u,++i===s&&r(a.join(Av))})})},U3=(t,r)=>{const s=t.split(Av),a=[];for(let i=0;i<s.length;i++){const l=lh(s[i],r);if(a.push(l),l.type==="error")break}return a};function $3(){return new TransformStream({transform(t,r){I3(t,s=>{const a=s.length;let i;if(a<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,a);else if(a<65536){i=new Uint8Array(3);const l=new DataView(i.buffer);l.setUint8(0,126),l.setUint16(1,a)}else{i=new Uint8Array(9);const l=new DataView(i.buffer);l.setUint8(0,127),l.setBigUint64(1,BigInt(a))}t.data&&typeof t.data!="string"&&(i[0]|=128),r.enqueue(i),r.enqueue(s)})}})}let fm;function Kl(t){return t.reduce((r,s)=>r+s.length,0)}function Gl(t,r){if(t[0].length===r)return t.shift();const s=new Uint8Array(r);let a=0;for(let i=0;i<r;i++)s[i]=t[0][a++],a===t[0].length&&(t.shift(),a=0);return t.length&&a<t[0].length&&(t[0]=t[0].slice(a)),s}function V3(t,r){fm||(fm=new TextDecoder);const s=[];let a=0,i=-1,l=!1;return new TransformStream({transform(c,u){for(s.push(c);;){if(a===0){if(Kl(s)<1)break;const m=Gl(s,1);l=(m[0]&128)===128,i=m[0]&127,i<126?a=3:i===126?a=1:a=2}else if(a===1){if(Kl(s)<2)break;const m=Gl(s,2);i=new DataView(m.buffer,m.byteOffset,m.length).getUint16(0),a=3}else if(a===2){if(Kl(s)<8)break;const m=Gl(s,8),h=new DataView(m.buffer,m.byteOffset,m.length),p=h.getUint32(0);if(p>Math.pow(2,21)-1){u.enqueue(c0);break}i=p*Math.pow(2,32)+h.getUint32(4),a=3}else{if(Kl(s)<i)break;const m=Gl(s,i);u.enqueue(lh(l?m:fm.decode(m),r)),a=0}if(i===0||i>t){u.enqueue(c0);break}}}})}const Pv=4;function Tt(t){if(t)return z3(t)}function z3(t){for(var r in Tt.prototype)t[r]=Tt.prototype[r];return t}Tt.prototype.on=Tt.prototype.addEventListener=function(t,r){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(r),this};Tt.prototype.once=function(t,r){function s(){this.off(t,s),r.apply(this,arguments)}return s.fn=r,this.on(t,s),this};Tt.prototype.off=Tt.prototype.removeListener=Tt.prototype.removeAllListeners=Tt.prototype.removeEventListener=function(t,r){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+t];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var a,i=0;i<s.length;i++)if(a=s[i],a===r||a.fn===r){s.splice(i,1);break}return s.length===0&&delete this._callbacks["$"+t],this};Tt.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var r=new Array(arguments.length-1),s=this._callbacks["$"+t],a=1;a<arguments.length;a++)r[a-1]=arguments[a];if(s){s=s.slice(0);for(var a=0,i=s.length;a<i;++a)s[a].apply(this,r)}return this};Tt.prototype.emitReserved=Tt.prototype.emit;Tt.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Tt.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Xc=typeof Promise=="function"&&typeof Promise.resolve=="function"?r=>Promise.resolve().then(r):(r,s)=>s(r,0),Tr=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),H3="arraybuffer";function Dv(t,...r){return r.reduce((s,a)=>(t.hasOwnProperty(a)&&(s[a]=t[a]),s),{})}const W3=Tr.setTimeout,q3=Tr.clearTimeout;function Qc(t,r){r.useNativeTimers?(t.setTimeoutFn=W3.bind(Tr),t.clearTimeoutFn=q3.bind(Tr)):(t.setTimeoutFn=Tr.setTimeout.bind(Tr),t.clearTimeoutFn=Tr.clearTimeout.bind(Tr))}const Y3=1.33;function K3(t){return typeof t=="string"?G3(t):Math.ceil((t.byteLength||t.size)*Y3)}function G3(t){let r=0,s=0;for(let a=0,i=t.length;a<i;a++)r=t.charCodeAt(a),r<128?s+=1:r<2048?s+=2:r<55296||r>=57344?s+=3:(a++,s+=4);return s}function Mv(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function X3(t){let r="";for(let s in t)t.hasOwnProperty(s)&&(r.length&&(r+="&"),r+=encodeURIComponent(s)+"="+encodeURIComponent(t[s]));return r}function Q3(t){let r={},s=t.split("&");for(let a=0,i=s.length;a<i;a++){let l=s[a].split("=");r[decodeURIComponent(l[0])]=decodeURIComponent(l[1])}return r}class J3 extends Error{constructor(r,s,a){super(r),this.description=s,this.context=a,this.type="TransportError"}}class ch extends Tt{constructor(r){super(),this.writable=!1,Qc(this,r),this.opts=r,this.query=r.query,this.socket=r.socket,this.supportsBinary=!r.forceBase64}onError(r,s,a){return super.emitReserved("error",new J3(r,s,a)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(r){this.readyState==="open"&&this.write(r)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(r){const s=lh(r,this.socket.binaryType);this.onPacket(s)}onPacket(r){super.emitReserved("packet",r)}onClose(r){this.readyState="closed",super.emitReserved("close",r)}pause(r){}createUri(r,s={}){return r+"://"+this._hostname()+this._port()+this.opts.path+this._query(s)}_hostname(){const r=this.opts.hostname;return r.indexOf(":")===-1?r:"["+r+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(r){const s=X3(r);return s.length?"?"+s:""}}class Z3 extends ch{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(r){this.readyState="pausing";const s=()=>{this.readyState="paused",r()};if(this._polling||!this.writable){let a=0;this._polling&&(a++,this.once("pollComplete",function(){--a||s()})),this.writable||(a++,this.once("drain",function(){--a||s()}))}else s()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(r){const s=a=>{if(this.readyState==="opening"&&a.type==="open"&&this.onOpen(),a.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(a)};U3(r,this.socket.binaryType).forEach(s),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const r=()=>{this.write([{type:"close"}])};this.readyState==="open"?r():this.once("open",r)}write(r){this.writable=!1,B3(r,s=>{this.doWrite(s,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const r=this.opts.secure?"https":"http",s=this.query||{};return this.opts.timestampRequests!==!1&&(s[this.opts.timestampParam]=Mv()),!this.supportsBinary&&!s.sid&&(s.b64=1),this.createUri(r,s)}}let Rv=!1;try{Rv=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const e5=Rv;function t5(){}class r5 extends Z3{constructor(r){if(super(r),typeof location<"u"){const s=location.protocol==="https:";let a=location.port;a||(a=s?"443":"80"),this.xd=typeof location<"u"&&r.hostname!==location.hostname||a!==r.port}}doWrite(r,s){const a=this.request({method:"POST",data:r});a.on("success",s),a.on("error",(i,l)=>{this.onError("xhr post error",i,l)})}doPoll(){const r=this.request();r.on("data",this.onData.bind(this)),r.on("error",(s,a)=>{this.onError("xhr poll error",s,a)}),this.pollXhr=r}}class ns extends Tt{constructor(r,s,a){super(),this.createRequest=r,Qc(this,a),this._opts=a,this._method=a.method||"GET",this._uri=s,this._data=a.data!==void 0?a.data:null,this._create()}_create(){var r;const s=Dv(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");s.xdomain=!!this._opts.xd;const a=this._xhr=this.createRequest(s);try{a.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){a.setDisableHeaderCheck&&a.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&a.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{a.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{a.setRequestHeader("Accept","*/*")}catch{}(r=this._opts.cookieJar)===null||r===void 0||r.addCookies(a),"withCredentials"in a&&(a.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(a.timeout=this._opts.requestTimeout),a.onreadystatechange=()=>{var i;a.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(a.getResponseHeader("set-cookie"))),a.readyState===4&&(a.status===200||a.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof a.status=="number"?a.status:0)},0))},a.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=ns.requestsCount++,ns.requests[this._index]=this)}_onError(r){this.emitReserved("error",r,this._xhr),this._cleanup(!0)}_cleanup(r){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=t5,r)try{this._xhr.abort()}catch{}typeof document<"u"&&delete ns.requests[this._index],this._xhr=null}}_onLoad(){const r=this._xhr.responseText;r!==null&&(this.emitReserved("data",r),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}ns.requestsCount=0;ns.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Ex);else if(typeof addEventListener=="function"){const t="onpagehide"in Tr?"pagehide":"unload";addEventListener(t,Ex,!1)}}function Ex(){for(let t in ns.requests)ns.requests.hasOwnProperty(t)&&ns.requests[t].abort()}const s5=(function(){const t=Lv({xdomain:!1});return t&&t.responseType!==null})();class a5 extends r5{constructor(r){super(r);const s=r&&r.forceBase64;this.supportsBinary=s5&&!s}request(r={}){return Object.assign(r,{xd:this.xd},this.opts),new ns(Lv,this.uri(),r)}}function Lv(t){const r=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!r||e5))return new XMLHttpRequest}catch{}if(!r)try{return new Tr[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Iv=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class n5 extends ch{get name(){return"websocket"}doOpen(){const r=this.uri(),s=this.opts.protocols,a=Iv?{}:Dv(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(a.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(r,s,a)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=r=>this.onClose({description:"websocket connection closed",context:r}),this.ws.onmessage=r=>this.onData(r.data),this.ws.onerror=r=>this.onError("websocket error",r)}write(r){this.writable=!1;for(let s=0;s<r.length;s++){const a=r[s],i=s===r.length-1;ih(a,this.supportsBinary,l=>{try{this.doWrite(a,l)}catch{}i&&Xc(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const r=this.opts.secure?"wss":"ws",s=this.query||{};return this.opts.timestampRequests&&(s[this.opts.timestampParam]=Mv()),this.supportsBinary||(s.b64=1),this.createUri(r,s)}}const pm=Tr.WebSocket||Tr.MozWebSocket;class o5 extends n5{createSocket(r,s,a){return Iv?new pm(r,s,a):s?new pm(r,s):new pm(r)}doWrite(r,s){this.ws.send(s)}}class i5 extends ch{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(r){return this.emitReserved("error",r)}this._transport.closed.then(()=>{this.onClose()}).catch(r=>{this.onError("webtransport error",r)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(r=>{const s=V3(Number.MAX_SAFE_INTEGER,this.socket.binaryType),a=r.readable.pipeThrough(s).getReader(),i=$3();i.readable.pipeTo(r.writable),this._writer=i.writable.getWriter();const l=()=>{a.read().then(({done:u,value:m})=>{u||(this.onPacket(m),l())}).catch(u=>{})};l();const c={type:"open"};this.query.sid&&(c.data=`{"sid":"${this.query.sid}"}`),this._writer.write(c).then(()=>this.onOpen())})})}write(r){this.writable=!1;for(let s=0;s<r.length;s++){const a=r[s],i=s===r.length-1;this._writer.write(a).then(()=>{i&&Xc(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var r;(r=this._transport)===null||r===void 0||r.close()}}const l5={websocket:o5,webtransport:i5,polling:a5},c5=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,d5=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function d0(t){if(t.length>8e3)throw"URI too long";const r=t,s=t.indexOf("["),a=t.indexOf("]");s!=-1&&a!=-1&&(t=t.substring(0,s)+t.substring(s,a).replace(/:/g,";")+t.substring(a,t.length));let i=c5.exec(t||""),l={},c=14;for(;c--;)l[d5[c]]=i[c]||"";return s!=-1&&a!=-1&&(l.source=r,l.host=l.host.substring(1,l.host.length-1).replace(/;/g,":"),l.authority=l.authority.replace("[","").replace("]","").replace(/;/g,":"),l.ipv6uri=!0),l.pathNames=u5(l,l.path),l.queryKey=m5(l,l.query),l}function u5(t,r){const s=/\/{2,9}/g,a=r.replace(s,"/").split("/");return(r.slice(0,1)=="/"||r.length===0)&&a.splice(0,1),r.slice(-1)=="/"&&a.splice(a.length-1,1),a}function m5(t,r){const s={};return r.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(a,i,l){i&&(s[i]=l)}),s}const u0=typeof addEventListener=="function"&&typeof removeEventListener=="function",fc=[];u0&&addEventListener("offline",()=>{fc.forEach(t=>t())},!1);class ua extends Tt{constructor(r,s){if(super(),this.binaryType=H3,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,r&&typeof r=="object"&&(s=r,r=null),r){const a=d0(r);s.hostname=a.host,s.secure=a.protocol==="https"||a.protocol==="wss",s.port=a.port,a.query&&(s.query=a.query)}else s.host&&(s.hostname=d0(s.host).host);Qc(this,s),this.secure=s.secure!=null?s.secure:typeof location<"u"&&location.protocol==="https:",s.hostname&&!s.port&&(s.port=this.secure?"443":"80"),this.hostname=s.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=s.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},s.transports.forEach(a=>{const i=a.prototype.name;this.transports.push(i),this._transportsByName[i]=a}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},s),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Q3(this.opts.query)),u0&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},fc.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(r){const s=Object.assign({},this.opts.query);s.EIO=Pv,s.transport=r,this.id&&(s.sid=this.id);const a=Object.assign({},this.opts,{query:s,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[r]);return new this._transportsByName[r](a)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const r=this.opts.rememberUpgrade&&ua.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const s=this.createTransport(r);s.open(),this.setTransport(s)}setTransport(r){this.transport&&this.transport.removeAllListeners(),this.transport=r,r.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",s=>this._onClose("transport close",s))}onOpen(){this.readyState="open",ua.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",r),this.emitReserved("heartbeat"),r.type){case"open":this.onHandshake(JSON.parse(r.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const s=new Error("server error");s.code=r.data,this._onError(s);break;case"message":this.emitReserved("data",r.data),this.emitReserved("message",r.data);break}}onHandshake(r){this.emitReserved("handshake",r),this.id=r.sid,this.transport.query.sid=r.sid,this._pingInterval=r.pingInterval,this._pingTimeout=r.pingTimeout,this._maxPayload=r.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const r=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+r,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},r),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const r=this._getWritablePackets();this.transport.send(r),this._prevBufferLen=r.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let s=1;for(let a=0;a<this.writeBuffer.length;a++){const i=this.writeBuffer[a].data;if(i&&(s+=K3(i)),a>0&&s>this._maxPayload)return this.writeBuffer.slice(0,a);s+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const r=Date.now()>this._pingTimeoutTime;return r&&(this._pingTimeoutTime=0,Xc(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),r}write(r,s,a){return this._sendPacket("message",r,s,a),this}send(r,s,a){return this._sendPacket("message",r,s,a),this}_sendPacket(r,s,a,i){if(typeof s=="function"&&(i=s,s=void 0),typeof a=="function"&&(i=a,a=null),this.readyState==="closing"||this.readyState==="closed")return;a=a||{},a.compress=a.compress!==!1;const l={type:r,data:s,options:a};this.emitReserved("packetCreate",l),this.writeBuffer.push(l),i&&this.once("flush",i),this.flush()}close(){const r=()=>{this._onClose("forced close"),this.transport.close()},s=()=>{this.off("upgrade",s),this.off("upgradeError",s),r()},a=()=>{this.once("upgrade",s),this.once("upgradeError",s)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?a():r()}):this.upgrading?a():r()),this}_onError(r){if(ua.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",r),this._onClose("transport error",r)}_onClose(r,s){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),u0&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const a=fc.indexOf(this._offlineEventListener);a!==-1&&fc.splice(a,1)}this.readyState="closed",this.id=null,this.emitReserved("close",r,s),this.writeBuffer=[],this._prevBufferLen=0}}}ua.protocol=Pv;class h5 extends ua{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let r=0;r<this._upgrades.length;r++)this._probe(this._upgrades[r])}_probe(r){let s=this.createTransport(r),a=!1;ua.priorWebsocketSuccess=!1;const i=()=>{a||(s.send([{type:"ping",data:"probe"}]),s.once("packet",g=>{if(!a)if(g.type==="pong"&&g.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",s),!s)return;ua.priorWebsocketSuccess=s.name==="websocket",this.transport.pause(()=>{a||this.readyState!=="closed"&&(p(),this.setTransport(s),s.send([{type:"upgrade"}]),this.emitReserved("upgrade",s),s=null,this.upgrading=!1,this.flush())})}else{const x=new Error("probe error");x.transport=s.name,this.emitReserved("upgradeError",x)}}))};function l(){a||(a=!0,p(),s.close(),s=null)}const c=g=>{const x=new Error("probe error: "+g);x.transport=s.name,l(),this.emitReserved("upgradeError",x)};function u(){c("transport closed")}function m(){c("socket closed")}function h(g){s&&g.name!==s.name&&l()}const p=()=>{s.removeListener("open",i),s.removeListener("error",c),s.removeListener("close",u),this.off("close",m),this.off("upgrading",h)};s.once("open",i),s.once("error",c),s.once("close",u),this.once("close",m),this.once("upgrading",h),this._upgrades.indexOf("webtransport")!==-1&&r!=="webtransport"?this.setTimeoutFn(()=>{a||s.open()},200):s.open()}onHandshake(r){this._upgrades=this._filterUpgrades(r.upgrades),super.onHandshake(r)}_filterUpgrades(r){const s=[];for(let a=0;a<r.length;a++)~this.transports.indexOf(r[a])&&s.push(r[a]);return s}}let f5=class extends h5{constructor(r,s={}){const a=typeof r=="object"?r:s;(!a.transports||a.transports&&typeof a.transports[0]=="string")&&(a.transports=(a.transports||["polling","websocket","webtransport"]).map(i=>l5[i]).filter(i=>!!i)),super(r,a)}};function p5(t,r="",s){let a=t;s=s||typeof location<"u"&&location,t==null&&(t=s.protocol+"//"+s.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=s.protocol+t:t=s.host+t),/^(https?|wss?):\/\//.test(t)||(typeof s<"u"?t=s.protocol+"//"+t:t="https://"+t),a=d0(t)),a.port||(/^(http|ws)$/.test(a.protocol)?a.port="80":/^(http|ws)s$/.test(a.protocol)&&(a.port="443")),a.path=a.path||"/";const l=a.host.indexOf(":")!==-1?"["+a.host+"]":a.host;return a.id=a.protocol+"://"+l+":"+a.port+r,a.href=a.protocol+"://"+l+(s&&s.port===a.port?"":":"+a.port),a}const g5=typeof ArrayBuffer=="function",x5=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,_v=Object.prototype.toString,y5=typeof Blob=="function"||typeof Blob<"u"&&_v.call(Blob)==="[object BlobConstructor]",b5=typeof File=="function"||typeof File<"u"&&_v.call(File)==="[object FileConstructor]";function dh(t){return g5&&(t instanceof ArrayBuffer||x5(t))||y5&&t instanceof Blob||b5&&t instanceof File}function pc(t,r){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let s=0,a=t.length;s<a;s++)if(pc(t[s]))return!0;return!1}if(dh(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return pc(t.toJSON(),!0);for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&pc(t[s]))return!0;return!1}function v5(t){const r=[],s=t.data,a=t;return a.data=m0(s,r),a.attachments=r.length,{packet:a,buffers:r}}function m0(t,r){if(!t)return t;if(dh(t)){const s={_placeholder:!0,num:r.length};return r.push(t),s}else if(Array.isArray(t)){const s=new Array(t.length);for(let a=0;a<t.length;a++)s[a]=m0(t[a],r);return s}else if(typeof t=="object"&&!(t instanceof Date)){const s={};for(const a in t)Object.prototype.hasOwnProperty.call(t,a)&&(s[a]=m0(t[a],r));return s}return t}function w5(t,r){return t.data=h0(t.data,r),delete t.attachments,t}function h0(t,r){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<r.length)return r[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let s=0;s<t.length;s++)t[s]=h0(t[s],r);else if(typeof t=="object")for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(t[s]=h0(t[s],r));return t}const j5=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],N5=5;var Ve;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(Ve||(Ve={}));class k5{constructor(r){this.replacer=r}encode(r){return(r.type===Ve.EVENT||r.type===Ve.ACK)&&pc(r)?this.encodeAsBinary({type:r.type===Ve.EVENT?Ve.BINARY_EVENT:Ve.BINARY_ACK,nsp:r.nsp,data:r.data,id:r.id}):[this.encodeAsString(r)]}encodeAsString(r){let s=""+r.type;return(r.type===Ve.BINARY_EVENT||r.type===Ve.BINARY_ACK)&&(s+=r.attachments+"-"),r.nsp&&r.nsp!=="/"&&(s+=r.nsp+","),r.id!=null&&(s+=r.id),r.data!=null&&(s+=JSON.stringify(r.data,this.replacer)),s}encodeAsBinary(r){const s=v5(r),a=this.encodeAsString(s.packet),i=s.buffers;return i.unshift(a),i}}function Tx(t){return Object.prototype.toString.call(t)==="[object Object]"}class uh extends Tt{constructor(r){super(),this.reviver=r}add(r){let s;if(typeof r=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");s=this.decodeString(r);const a=s.type===Ve.BINARY_EVENT;a||s.type===Ve.BINARY_ACK?(s.type=a?Ve.EVENT:Ve.ACK,this.reconstructor=new S5(s),s.attachments===0&&super.emitReserved("decoded",s)):super.emitReserved("decoded",s)}else if(dh(r)||r.base64)if(this.reconstructor)s=this.reconstructor.takeBinaryData(r),s&&(this.reconstructor=null,super.emitReserved("decoded",s));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+r)}decodeString(r){let s=0;const a={type:Number(r.charAt(0))};if(Ve[a.type]===void 0)throw new Error("unknown packet type "+a.type);if(a.type===Ve.BINARY_EVENT||a.type===Ve.BINARY_ACK){const l=s+1;for(;r.charAt(++s)!=="-"&&s!=r.length;);const c=r.substring(l,s);if(c!=Number(c)||r.charAt(s)!=="-")throw new Error("Illegal attachments");a.attachments=Number(c)}if(r.charAt(s+1)==="/"){const l=s+1;for(;++s&&!(r.charAt(s)===","||s===r.length););a.nsp=r.substring(l,s)}else a.nsp="/";const i=r.charAt(s+1);if(i!==""&&Number(i)==i){const l=s+1;for(;++s;){const c=r.charAt(s);if(c==null||Number(c)!=c){--s;break}if(s===r.length)break}a.id=Number(r.substring(l,s+1))}if(r.charAt(++s)){const l=this.tryParse(r.substr(s));if(uh.isPayloadValid(a.type,l))a.data=l;else throw new Error("invalid payload")}return a}tryParse(r){try{return JSON.parse(r,this.reviver)}catch{return!1}}static isPayloadValid(r,s){switch(r){case Ve.CONNECT:return Tx(s);case Ve.DISCONNECT:return s===void 0;case Ve.CONNECT_ERROR:return typeof s=="string"||Tx(s);case Ve.EVENT:case Ve.BINARY_EVENT:return Array.isArray(s)&&(typeof s[0]=="number"||typeof s[0]=="string"&&j5.indexOf(s[0])===-1);case Ve.ACK:case Ve.BINARY_ACK:return Array.isArray(s)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class S5{constructor(r){this.packet=r,this.buffers=[],this.reconPack=r}takeBinaryData(r){if(this.buffers.push(r),this.buffers.length===this.reconPack.attachments){const s=w5(this.reconPack,this.buffers);return this.finishedReconstruction(),s}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const C5=Object.freeze(Object.defineProperty({__proto__:null,Decoder:uh,Encoder:k5,get PacketType(){return Ve},protocol:N5},Symbol.toStringTag,{value:"Module"}));function Hr(t,r,s){return t.on(r,s),function(){t.off(r,s)}}const E5=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Ov extends Tt{constructor(r,s,a){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=r,this.nsp=s,a&&a.auth&&(this.auth=a.auth),this._opts=Object.assign({},a),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const r=this.io;this.subs=[Hr(r,"open",this.onopen.bind(this)),Hr(r,"packet",this.onpacket.bind(this)),Hr(r,"error",this.onerror.bind(this)),Hr(r,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...r){return r.unshift("message"),this.emit.apply(this,r),this}emit(r,...s){var a,i,l;if(E5.hasOwnProperty(r))throw new Error('"'+r.toString()+'" is a reserved event name');if(s.unshift(r),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(s),this;const c={type:Ve.EVENT,data:s};if(c.options={},c.options.compress=this.flags.compress!==!1,typeof s[s.length-1]=="function"){const p=this.ids++,g=s.pop();this._registerAckCallback(p,g),c.id=p}const u=(i=(a=this.io.engine)===null||a===void 0?void 0:a.transport)===null||i===void 0?void 0:i.writable,m=this.connected&&!(!((l=this.io.engine)===null||l===void 0)&&l._hasPingExpired());return this.flags.volatile&&!u||(m?(this.notifyOutgoingListeners(c),this.packet(c)):this.sendBuffer.push(c)),this.flags={},this}_registerAckCallback(r,s){var a;const i=(a=this.flags.timeout)!==null&&a!==void 0?a:this._opts.ackTimeout;if(i===void 0){this.acks[r]=s;return}const l=this.io.setTimeoutFn(()=>{delete this.acks[r];for(let u=0;u<this.sendBuffer.length;u++)this.sendBuffer[u].id===r&&this.sendBuffer.splice(u,1);s.call(this,new Error("operation has timed out"))},i),c=(...u)=>{this.io.clearTimeoutFn(l),s.apply(this,u)};c.withError=!0,this.acks[r]=c}emitWithAck(r,...s){return new Promise((a,i)=>{const l=(c,u)=>c?i(c):a(u);l.withError=!0,s.push(l),this.emit(r,...s)})}_addToQueue(r){let s;typeof r[r.length-1]=="function"&&(s=r.pop());const a={id:this._queueSeq++,tryCount:0,pending:!1,args:r,flags:Object.assign({fromQueue:!0},this.flags)};r.push((i,...l)=>a!==this._queue[0]?void 0:(i!==null?a.tryCount>this._opts.retries&&(this._queue.shift(),s&&s(i)):(this._queue.shift(),s&&s(null,...l)),a.pending=!1,this._drainQueue())),this._queue.push(a),this._drainQueue()}_drainQueue(r=!1){if(!this.connected||this._queue.length===0)return;const s=this._queue[0];s.pending&&!r||(s.pending=!0,s.tryCount++,this.flags=s.flags,this.emit.apply(this,s.args))}packet(r){r.nsp=this.nsp,this.io._packet(r)}onopen(){typeof this.auth=="function"?this.auth(r=>{this._sendConnectPacket(r)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(r){this.packet({type:Ve.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},r):r})}onerror(r){this.connected||this.emitReserved("connect_error",r)}onclose(r,s){this.connected=!1,delete this.id,this.emitReserved("disconnect",r,s),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(r=>{if(!this.sendBuffer.some(a=>String(a.id)===r)){const a=this.acks[r];delete this.acks[r],a.withError&&a.call(this,new Error("socket has been disconnected"))}})}onpacket(r){if(r.nsp===this.nsp)switch(r.type){case Ve.CONNECT:r.data&&r.data.sid?this.onconnect(r.data.sid,r.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ve.EVENT:case Ve.BINARY_EVENT:this.onevent(r);break;case Ve.ACK:case Ve.BINARY_ACK:this.onack(r);break;case Ve.DISCONNECT:this.ondisconnect();break;case Ve.CONNECT_ERROR:this.destroy();const a=new Error(r.data.message);a.data=r.data.data,this.emitReserved("connect_error",a);break}}onevent(r){const s=r.data||[];r.id!=null&&s.push(this.ack(r.id)),this.connected?this.emitEvent(s):this.receiveBuffer.push(Object.freeze(s))}emitEvent(r){if(this._anyListeners&&this._anyListeners.length){const s=this._anyListeners.slice();for(const a of s)a.apply(this,r)}super.emit.apply(this,r),this._pid&&r.length&&typeof r[r.length-1]=="string"&&(this._lastOffset=r[r.length-1])}ack(r){const s=this;let a=!1;return function(...i){a||(a=!0,s.packet({type:Ve.ACK,id:r,data:i}))}}onack(r){const s=this.acks[r.id];typeof s=="function"&&(delete this.acks[r.id],s.withError&&r.data.unshift(null),s.apply(this,r.data))}onconnect(r,s){this.id=r,this.recovered=s&&this._pid===s,this._pid=s,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(r=>this.emitEvent(r)),this.receiveBuffer=[],this.sendBuffer.forEach(r=>{this.notifyOutgoingListeners(r),this.packet(r)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(r=>r()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ve.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(r){return this.flags.compress=r,this}get volatile(){return this.flags.volatile=!0,this}timeout(r){return this.flags.timeout=r,this}onAny(r){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(r),this}prependAny(r){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(r),this}offAny(r){if(!this._anyListeners)return this;if(r){const s=this._anyListeners;for(let a=0;a<s.length;a++)if(r===s[a])return s.splice(a,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(r){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(r),this}prependAnyOutgoing(r){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(r),this}offAnyOutgoing(r){if(!this._anyOutgoingListeners)return this;if(r){const s=this._anyOutgoingListeners;for(let a=0;a<s.length;a++)if(r===s[a])return s.splice(a,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(r){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const s=this._anyOutgoingListeners.slice();for(const a of s)a.apply(this,r.data)}}}function Jn(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Jn.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var r=Math.random(),s=Math.floor(r*this.jitter*t);t=(Math.floor(r*10)&1)==0?t-s:t+s}return Math.min(t,this.max)|0};Jn.prototype.reset=function(){this.attempts=0};Jn.prototype.setMin=function(t){this.ms=t};Jn.prototype.setMax=function(t){this.max=t};Jn.prototype.setJitter=function(t){this.jitter=t};class f0 extends Tt{constructor(r,s){var a;super(),this.nsps={},this.subs=[],r&&typeof r=="object"&&(s=r,r=void 0),s=s||{},s.path=s.path||"/socket.io",this.opts=s,Qc(this,s),this.reconnection(s.reconnection!==!1),this.reconnectionAttempts(s.reconnectionAttempts||1/0),this.reconnectionDelay(s.reconnectionDelay||1e3),this.reconnectionDelayMax(s.reconnectionDelayMax||5e3),this.randomizationFactor((a=s.randomizationFactor)!==null&&a!==void 0?a:.5),this.backoff=new Jn({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(s.timeout==null?2e4:s.timeout),this._readyState="closed",this.uri=r;const i=s.parser||C5;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=s.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(r){return arguments.length?(this._reconnection=!!r,r||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(r){return r===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=r,this)}reconnectionDelay(r){var s;return r===void 0?this._reconnectionDelay:(this._reconnectionDelay=r,(s=this.backoff)===null||s===void 0||s.setMin(r),this)}randomizationFactor(r){var s;return r===void 0?this._randomizationFactor:(this._randomizationFactor=r,(s=this.backoff)===null||s===void 0||s.setJitter(r),this)}reconnectionDelayMax(r){var s;return r===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=r,(s=this.backoff)===null||s===void 0||s.setMax(r),this)}timeout(r){return arguments.length?(this._timeout=r,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(r){if(~this._readyState.indexOf("open"))return this;this.engine=new f5(this.uri,this.opts);const s=this.engine,a=this;this._readyState="opening",this.skipReconnect=!1;const i=Hr(s,"open",function(){a.onopen(),r&&r()}),l=u=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",u),r?r(u):this.maybeReconnectOnOpen()},c=Hr(s,"error",l);if(this._timeout!==!1){const u=this._timeout,m=this.setTimeoutFn(()=>{i(),l(new Error("timeout")),s.close()},u);this.opts.autoUnref&&m.unref(),this.subs.push(()=>{this.clearTimeoutFn(m)})}return this.subs.push(i),this.subs.push(c),this}connect(r){return this.open(r)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const r=this.engine;this.subs.push(Hr(r,"ping",this.onping.bind(this)),Hr(r,"data",this.ondata.bind(this)),Hr(r,"error",this.onerror.bind(this)),Hr(r,"close",this.onclose.bind(this)),Hr(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(r){try{this.decoder.add(r)}catch(s){this.onclose("parse error",s)}}ondecoded(r){Xc(()=>{this.emitReserved("packet",r)},this.setTimeoutFn)}onerror(r){this.emitReserved("error",r)}socket(r,s){let a=this.nsps[r];return a?this._autoConnect&&!a.active&&a.connect():(a=new Ov(this,r,s),this.nsps[r]=a),a}_destroy(r){const s=Object.keys(this.nsps);for(const a of s)if(this.nsps[a].active)return;this._close()}_packet(r){const s=this.encoder.encode(r);for(let a=0;a<s.length;a++)this.engine.write(s[a],r.options)}cleanup(){this.subs.forEach(r=>r()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(r,s){var a;this.cleanup(),(a=this.engine)===null||a===void 0||a.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",r,s),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const r=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const s=this.backoff.duration();this._reconnecting=!0;const a=this.setTimeoutFn(()=>{r.skipReconnect||(this.emitReserved("reconnect_attempt",r.backoff.attempts),!r.skipReconnect&&r.open(i=>{i?(r._reconnecting=!1,r.reconnect(),this.emitReserved("reconnect_error",i)):r.onreconnect()}))},s);this.opts.autoUnref&&a.unref(),this.subs.push(()=>{this.clearTimeoutFn(a)})}}onreconnect(){const r=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",r)}}const Wo={};function Fn(t,r){typeof t=="object"&&(r=t,t=void 0),r=r||{};const s=p5(t,r.path||"/socket.io"),a=s.source,i=s.id,l=s.path,c=Wo[i]&&l in Wo[i].nsps,u=r.forceNew||r["force new connection"]||r.multiplex===!1||c;let m;return u?m=new f0(a,r):(Wo[i]||(Wo[i]=new f0(a,r)),m=Wo[i]),s.query&&!r.query&&(r.query=s.queryKey),m.socket(s.path,r)}Object.assign(Fn,{Manager:f0,Socket:Ov,io:Fn,connect:Fn});const T5=()=>{const[t,r]=y.useState(!1),[s,a]=y.useState([]),[i,l]=y.useState(""),[c,u]=y.useState({name:"",email:"",phone:"",isInfoProvided:!1}),[m,h]=y.useState(null),[p,g]=y.useState(!1),[x,v]=y.useState([]),[w,S]=y.useState(null),k=y.useRef(null),E=y.useRef(`guest_${Date.now()}_${Math.random().toString(36).substr(2,9)}`),C=()=>{var T;(T=k.current)==null||T.scrollIntoView({behavior:"smooth"})};y.useEffect(()=>{C()},[s]),y.useEffect(()=>{if(t&&!m){const L=Fn("https://crm-trial-backend.onrender.com/api",{transports:["websocket","polling"],query:{isGuest:!0,guestId:E.current}});return L.on("connect",()=>{console.log(" Guest connected to chat server"),g(!0),L.emit("join-guest-room",E.current),L.emit("get-support-team")}),L.on("support-team-list",z=>{v(z.filter(q=>q.chatStatus==="ONLINE"))}),L.on("guest-message-received",z=>{a(q=>[...q,{...z,timestamp:new Date(z.timestamp)}])}),L.on("connect_error",z=>{console.error(" Guest connection error:",z),g(!1)}),h(L),()=>{L.close(),h(null),g(!1)}}},[t]);const j=T=>{if(T.preventDefault(),c.name&&c.email){u(z=>({...z,isInfoProvided:!0}));const L={id:Date.now(),content:`Hi ${c.name}! Thanks for reaching out. How can we help you today?`,sender:"system",timestamp:new Date,isSystem:!0};a([L])}},A=()=>{if(i.trim()&&m&&w){const T={guestId:E.current,guestInfo:c,recipientId:w._id,content:i.trim(),timestamp:new Date},L={id:Date.now(),content:i.trim(),sender:"guest",timestamp:new Date};a(z=>[...z,L]),m.emit("guest-message",T),l("")}},P=T=>{T.key==="Enter"&&!T.shiftKey&&(T.preventDefault(),A())},F=T=>{S(T);const L={id:Date.now(),content:`You're now connected with ${T.fullName} (${T.role}). They'll respond shortly.`,sender:"system",timestamp:new Date,isSystem:!0};a(z=>[...z,L])};return t?e.jsxs("div",{className:"guest-chat-window",children:[e.jsxs("div",{className:"guest-chat-header",children:[e.jsxs("div",{className:"header-content",children:[e.jsx(Jo,{className:"header-icon"}),e.jsxs("div",{children:[e.jsx("h3",{children:"Live Support Chat"}),e.jsx("span",{className:`status ${p?"online":"offline"}`,children:p?"Connected":"Connecting..."})]})]}),e.jsx("button",{className:"close-button",onClick:()=>r(!1),children:e.jsx(It,{})})]}),e.jsx("div",{className:"guest-chat-body",children:c.isInfoProvided?w?e.jsxs("div",{className:"chat-messages",children:[s.map(T=>e.jsxs("div",{className:`message ${T.sender==="guest"?"guest-message":"support-message"} ${T.isSystem?"system-message":""}`,children:[e.jsx("div",{className:"message-content",children:T.content}),e.jsx("div",{className:"message-time",children:T.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]},T.id)),e.jsx("div",{ref:k})]}):e.jsxs("div",{className:"support-team-selection",children:[e.jsx("h4",{children:"Choose a support team member:"}),x.length>0?e.jsx("div",{className:"support-list",children:x.map(T=>e.jsxs("div",{className:"support-member",onClick:()=>F(T),children:[e.jsxs("div",{className:"member-info",children:[e.jsx("div",{className:"member-name",children:T.fullName}),e.jsx("div",{className:"member-role",children:T.role})]}),e.jsx("div",{className:"online-indicator"})]},T._id))}):e.jsxs("div",{className:"no-support",children:[e.jsx("p",{children:"No support team members are currently online."}),e.jsx("p",{children:"Please leave your message and we'll get back to you soon!"}),e.jsx("button",{className:"continue-anyway-btn",onClick:()=>S({_id:"offline",fullName:"Support Team",role:"Support"}),children:"Continue Anyway"})]})]}):e.jsxs("div",{className:"guest-info-form",children:[e.jsx("h4",{children:"Welcome! Let's get started"}),e.jsx("p",{children:"Please provide your details to begin chatting with our support team:"}),e.jsxs("form",{onSubmit:j,children:[e.jsx("input",{type:"text",placeholder:"Your Name *",value:c.name,onChange:T=>u(L=>({...L,name:T.target.value})),required:!0}),e.jsx("input",{type:"email",placeholder:"Your Email *",value:c.email,onChange:T=>u(L=>({...L,email:T.target.value})),required:!0}),e.jsx("input",{type:"tel",placeholder:"Your Phone (Optional)",value:c.phone,onChange:T=>u(L=>({...L,phone:T.target.value}))}),e.jsx("button",{type:"submit",className:"start-chat-btn",children:"Start Chat"})]})]})}),c.isInfoProvided&&w&&e.jsxs("div",{className:"guest-chat-footer",children:[e.jsxs("div",{className:"message-input-container",children:[e.jsx("input",{type:"text",value:i,onChange:T=>l(T.target.value),onKeyPress:P,placeholder:"Type your message...",className:"message-input"}),e.jsx("button",{onClick:A,disabled:!i.trim()||!p,className:"send-button",children:e.jsx(w3,{})})]}),e.jsx("div",{className:"chat-footer-info",children:e.jsxs("small",{children:["Chatting with ",w.fullName,"  ",p?"Online":"Offline"]})})]})]}):e.jsxs("div",{className:"guest-chat-button",onClick:()=>r(!0),children:[e.jsx(Jo,{className:"chat-icon"}),e.jsx("span",{className:"chat-text",children:"Need Help? Chat Now!"}),e.jsx("div",{className:"chat-pulse"})]})},A5=()=>{const{user:t}=Fe(),r=[{value:"2.5K+",label:"Active Leads",trend:"+12% this month",icon:e.jsx(Ct,{className:"text-blue-600 dark:text-blue-400"}),shadowColor:"blue"},{value:"100%",label:"Task Completion",trend:"On target",icon:e.jsx(Er,{className:"text-green-600 dark:text-green-400"}),shadowColor:"green"},{value:"$0.5M",label:"Monthly Revenue",trend:"+28% increase",icon:e.jsx(cr,{className:"text-purple-600 dark:text-purple-400"}),shadowColor:"purple"},{value:"19",label:"Team Members",trend:"Growing team",icon:e.jsx(Ct,{className:"text-orange-600 dark:text-orange-400"}),shadowColor:"orange"}],s=[{title:"Contact Management",description:"Organize and manage all your client data with advanced filtering and segmentation tools.",icon:e.jsx(Ct,{}),color:"blue",link:"/management-contacts"},{title:"Sales Pipeline",description:"Track deals from initial contact to closing with customizable pipeline stages.",icon:e.jsx(cr,{}),color:"green",link:"/sales"},{title:"Task Management",description:"Schedule tasks, set reminders, and never miss important follow-ups.",icon:e.jsx(Er,{}),color:"purple",link:"/tasks"},{title:"Invoice Management",description:"Create professional invoices, track payments, and manage billing effortlessly.",icon:e.jsx(p3,{}),color:"orange",link:"/invoices"},{title:"Stripe Integration",description:"Secure payment processing with automatic invoice generation and notifications.",icon:e.jsx(m3,{}),color:"indigo",link:"/stripe-invoices"},{title:"Analytics Dashboard",description:"Comprehensive reporting and analytics to drive data-driven decisions.",icon:e.jsx(Ac,{}),color:"pink",link:"/admin/reports",adminOnly:!0}];return e.jsxs(Je,{children:[e.jsxs("div",{className:"bg-hero-light dark:bg-hero-dark text-gray-900 dark:text-white py-12 sm:py-16 md:py-20 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute -top-20 -right-20 sm:-top-40 sm:-right-40 w-40 h-40 sm:w-80 sm:h-80 rounded-full bg-white opacity-10 floating-animation "}),e.jsx("div",{className:"absolute -bottom-20 -left-20 sm:-bottom-40 sm:-left-40 w-48 h-48 sm:w-96 sm:h-96 rounded-full bg-white opacity-5 floating-animation "}),e.jsx("div",{className:"absolute top-1/2 left-1/4 w-16 h-16 sm:w-32 sm:h-32 rounded-full bg-white opacity-10 floating-animation dark:bg-gray-800"})]}),e.jsx("div",{className:"container mx-auto px-4 sm:px-6 relative z-10",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-4 sm:mb-6 leading-tight text-white dark:text-white",children:["Transform Your"," ",e.jsx("span",{className:"text-yellow-300 dark:text-yellow-400",children:"Sales Process"})]}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl lg:text-2xl mb-6 sm:mb-8 text-gray-100 dark:text-gray-300 leading-relaxed px-2",children:"Streamline lead management, track sales performance, and boost your team's productivity with our comprehensive CRM platform"}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center items-center",children:t?e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center items-center",children:[e.jsxs(Te,{to:t.role==="Customer"?"/customer":t.role==="Sales Person"?"/sales":t.role==="IT Manager"||t.role==="IT Intern"||t.role==="IT Permanent"?"/it":"/leads",className:"glassmorphism px-6 sm:px-8 py-3 sm:py-4 rounded-full text-white font-semibold hover:bg-white hover:bg-opacity-20 transition duration-300 w-full sm:w-auto flex items-center justify-center text-sm sm:text-base",children:[e.jsx(Ba,{className:"mr-2 sm:mr-3"}),"Go to Dashboard"]}),(t.role==="Admin"||t.role==="Manager")&&e.jsxs(Te,{to:t.role==="Admin"?"/admin":"/manager",className:"bg-black px-6 sm:px-8 py-3 sm:py-4 rounded-full text-white font-semibold transition duration-300 w-full sm:w-auto flex items-center justify-center text-sm sm:text-base",children:[e.jsx(Ho,{className:"mr-2 sm:mr-3"}),t.role==="Admin"?"Access Admin Dashboard":"Access Manager Dashboard"]}),(t.role==="IT Manager"||t.role==="IT Intern"||t.role==="IT Permanent")&&e.jsx(Te,{to:"/it",className:"bg-indigo-600 hover:bg-indigo-700 px-6 sm:px-8 py-3 sm:py-4 rounded-full text-white font-semibold transition duration-300 w-full sm:w-auto flex items-center justify-center text-sm sm:text-base",children:"Access IT Dashboard"})]}):e.jsxs(e.Fragment,{children:[e.jsxs(Te,{to:"/login",className:"glassmorphism px-6 sm:px-8 py-3 sm:py-4 rounded-full text-white font-semibold hover:bg-white hover:bg-opacity-20 transition duration-300 w-full sm:w-auto flex items-center justify-center text-sm sm:text-base",children:[e.jsx(Ba,{className:"mr-2 sm:mr-3"}),"Get Started Free"]}),e.jsxs("button",{className:"bg-white text-gray-900 dark:bg-gray-700 dark:text-white px-6 sm:px-8 py-3 sm:py-4 rounded-full font-semibold hover:bg-gray-100 dark:hover:bg-gray-600 transition duration-300 w-full sm:w-auto flex items-center justify-center text-sm sm:text-base",children:[e.jsx($a,{className:"mr-2 sm:mr-3"}),"Watch Demo"]})]})})]})})]}),e.jsx("div",{className:"py-12 sm:py-16 bg-white dark:bg-gray-900 relative",children:e.jsx("div",{className:"container mx-auto px-4 sm:px-6",children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 px-4 sm:px-8 lg:px-12 py-6 bg-gray-100 dark:bg-gray-800 rounded-2xl shadow-md",children:r.map((a,i)=>e.jsxs("div",{className:`
                  rounded-2xl p-4 sm:p-6 text-center
                  bg-white dark:bg-gray-700 // Changed bg-gray-50 dark:bg-gray-100 to bg-white dark:bg-gray-700
                  shadow-md hover:shadow-lg
                  dark:shadow-xl dark:shadow-${a.shadowColor}-500/20
                  transition-all duration-300
                  transform hover:-translate-y-1 hover:scale-105
                `,children:[e.jsxs("div",{className:"text-2xl sm:text-3xl font-bold mb-2 flex items-center justify-center text-gray-900 dark:text-white",children:[" ",a.icon,e.jsx("span",{className:"ml-2",children:a.value})]}),e.jsxs("div",{className:"text-gray-700 dark:text-gray-300 font-medium text-sm sm:text-base",children:[" ",a.label]}),e.jsxs("div",{className:"text-xs sm:text-sm text-green-600 dark:text-green-400 mt-1",children:[" ",a.trend]})]},i))})})}),e.jsx("section",{className:"py-12 sm:py-16 md:py-20 bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-950 dark:to-gray-900",children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6",children:[e.jsxs("div",{className:"text-center mb-12 sm:mb-16",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-3 sm:mb-4",children:"Powerful Features"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-700 dark:text-gray-300 max-w-2xl mx-auto px-2",children:"Everything you need to manage your sales pipeline effectively"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8",children:s.filter(a=>!(a.adminOnly&&(t==null?void 0:t.role)!=="Admin")).map((a,i)=>e.jsxs("div",{className:`
                  bg-white dark:bg-gray-800
                  rounded-2xl p-6 sm:p-8
                  shadow-md hover:shadow-lg
                  dark:shadow-xl dark:shadow-${a.color}-500/20
                  transition-all duration-300
                  transform hover:-translate-y-1 hover:scale-105
                  flex flex-col justify-between
                `,children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-4 sm:mb-6",children:[e.jsx("div",{className:`min-w-[3rem] min-h-[3rem] sm:min-w-[4rem] sm:min-h-[4rem] bg-gradient-to-br from-${a.color}-500 to-${a.color}-600 rounded-2xl flex items-center justify-center`,children:e.jsx("div",{className:"text-white text-xl sm:text-2xl",children:a.icon})}),e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:a.title})]}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm sm:text-base mb-6",children:a.description}),e.jsx("div",{className:"flex justify-center",children:e.jsxs(Te,{to:a.link,className:`text-${a.color}-600 dark:text-${a.color}-400 font-semibold hover:text-${a.color}-700 dark:hover:text-${a.color}-300 transition flex items-center text-sm sm:text-base`,children:["Learn More ",e.jsx(Ba,{className:"ml-2"})]})})]},i))})]})}),e.jsx("section",{className:"py-12 sm:py-16 md:py-20 bg-white dark:bg-gray-900",children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6",children:[e.jsxs("div",{className:"text-center mb-12 sm:mb-16",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-3 sm:mb-4",children:"Role-Based Access Control"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-700 dark:text-gray-300 max-w-3xl mx-auto px-2",children:"Secure, permission-based access ensures each team member has the right tools for their role"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8",children:[{role:"Lead Person",color:"blue",icon:e.jsx(Ct,{}),features:["Create and manage leads","Assign leads to team members","Track lead progress and status","Generate lead reports"]},{role:"Sales Person",color:"green",icon:e.jsx(cr,{}),features:["Access assigned leads","Update lead status and notes","Schedule and track activities","Create invoices and quotes"]},{role:"Manager/Admin",color:"purple",icon:e.jsx(Ho,{}),features:["Full system access","View all leads and sales","Manage team and permissions","Advanced analytics and reports"]}].map((a,i)=>e.jsxs("div",{className:`
                  bg-white dark:bg-gray-800
                  rounded-2xl p-6 sm:p-8
                  border-2 border-${a.color}-200 dark:border-${a.color}-800
                  shadow-md hover:shadow-lg
                  dark:shadow-xl dark:shadow-${a.color}-500/20
                  transition-all duration-300
                  transform hover:-translate-y-1 hover:scale-105
                `,children:[e.jsx("div",{className:`w-16 h-16 sm:w-20 sm:h-20 bg-${a.color}-500 rounded-full flex items-center justify-center mb-4 sm:mb-6 mx-auto`,children:e.jsx("div",{className:"text-white text-xl sm:text-2xl",children:a.icon})}),e.jsx("h3",{className:`text-xl sm:text-2xl font-bold text-${a.color}-800 dark:text-${a.color}-400 mb-3 sm:mb-4 text-center`,children:a.role}),e.jsx("ul",{className:"space-y-2 sm:space-y-3",children:a.features.map((l,c)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx(Ba,{className:"text-green-600 dark:text-green-400 mt-1 mr-2 sm:mr-3 flex-shrink-0"}),e.jsx("span",{className:"text-gray-900 dark:text-white text-sm sm:text-base",children:l})]},c))}),a.role==="Manager/Admin"&&t&&(t.role==="Admin"||t.role==="Manager")&&e.jsx("div",{className:"mt-6 pt-4 border-t border-purple-200 dark:border-purple-800",children:e.jsxs(Te,{to:"/manager",className:"w-full bg-purple-600 hover:bg-purple-700 dark:bg-purple-800 dark:hover:bg-purple-700 text-white font-semibold py-3 px-4 rounded-lg transition duration-300 flex items-center justify-center text-sm sm:text-base",children:[e.jsx(Ho,{className:"mr-2"}),"Access Manager Dashboard"]})})]},i))})]})}),e.jsx("section",{className:"bg-hero-light dark:bg-hero-dark text-white py-12 sm:py-16 md:py-20 relative overflow-hidden",children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 text-center relative z-10",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold mb-4 sm:mb-6 text-white",children:"Ready to Transform Your Sales?"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl mb-6 sm:mb-8 text-white max-w-2xl mx-auto px-2",children:"Join thousands of teams who have streamlined their sales process with TrainCape CRM"}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center items-center mb-8 sm:mb-12",children:t?e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center items-center",children:[(t.role==="Admin"||t.role==="Manager")&&e.jsxs(Te,{to:t.role==="Admin"?"/admin":"/manager",className:"bg-black px-6 sm:px-8 py-3 sm:py-4 rounded-full text-white font-semibold hover:bg-gray-900 transition duration-300 w-full sm:w-auto flex items-center justify-center text-sm sm:text-base",children:[e.jsx(Ho,{className:"mr-2 sm:mr-3"}),t.role==="Admin"?"Access Admin Dashboard":"Access Manager Dashboard"]}),(t.role==="IT Manager"||t.role==="IT Intern"||t.role==="IT Permanent")&&e.jsx(Te,{to:"/it",className:"bg-indigo-600 px-6 sm:px-8 py-3 sm:py-4 rounded-full text-white font-semibold hover:bg-indigo-700 transition duration-300 w-full sm:w-auto flex items-center justify-center text-sm sm:text-base",children:"Access IT Dashboard"})]}):e.jsxs(e.Fragment,{children:[e.jsxs(Te,{to:"/login",className:"bg-black px-6 sm:px-8 py-3 sm:py-4 rounded-full text-white font-semibold hover:bg-gray-900 transition duration-300 w-full sm:w-auto flex items-center justify-center text-sm sm:text-base",children:[e.jsx(Ba,{className:"mr-2 sm:mr-3"}),"Start Free Trial"]}),e.jsxs("button",{className:"bg-black px-6 sm:px-8 py-3 sm:py-4 rounded-full text-white font-semibold hover:bg-gray-900 transition duration-300 w-full sm:w-auto flex items-center justify-center text-sm sm:text-base",children:[e.jsx($a,{className:"mr-2 sm:mr-3"}),"Schedule Demo"]})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row flex-wrap justify-center items-center gap-4 sm:gap-6 lg:gap-8 text-white text-sm sm:text-base",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ho,{className:"text-green-400"}),e.jsx("span",{children:"Enterprise-grade Security"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ts,{className:"text-blue-400"}),e.jsx("span",{children:"24/7 Support"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(cr,{className:"text-purple-400"}),e.jsx("span",{children:"Performance Analytics"})]})]})]})}),!t&&e.jsx(T5,{})]})};function Ye({children:t,className:r=""}){return e.jsx("div",{className:`bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700 rounded-xl shadow-sm dark:shadow-lg dark:shadow-black/25 ${r}`,children:t})}function We({children:t,className:r=""}){return e.jsx("div",{className:`p-4 ${r}`,children:t})}function vt({children:t,className:r=""}){return e.jsx("div",{className:`p-4 pb-2 ${r}`,children:t})}function wt({children:t,className:r=""}){return e.jsx("h3",{className:`text-lg font-semibold text-gray-900 dark:text-white ${r}`,children:t})}const Ax=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Px=rs,Fv=(t,r)=>s=>{var a;if((r==null?void 0:r.variants)==null)return Px(t,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:i,defaultVariants:l}=r,c=Object.keys(i).map(h=>{const p=s==null?void 0:s[h],g=l==null?void 0:l[h];if(p===null)return null;const x=Ax(p)||Ax(g);return i[h][x]}),u=s&&Object.entries(s).reduce((h,p)=>{let[g,x]=p;return x===void 0||(h[g]=x),h},{}),m=r==null||(a=r.compoundVariants)===null||a===void 0?void 0:a.reduce((h,p)=>{let{class:g,className:x,...v}=p;return Object.entries(v).every(w=>{let[S,k]=w;return Array.isArray(k)?k.includes({...l,...u}[S]):{...l,...u}[S]===k})?[...h,g,x]:h},[]);return Px(t,c,m,s==null?void 0:s.class,s==null?void 0:s.className)},P5=Fv("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ke({className:t,variant:r,...s}){return e.jsx("div",{className:ms(P5({variant:r}),t),...s})}const D5=()=>{const{user:t}=Fe(),[r,s]=y.useState([]),[a,i]=y.useState([]),[l,c]=y.useState({totalTasks:0,completedTasks:0,pendingTasks:0,teamMembers:0}),[u,m]=y.useState(!0);y.useEffect(()=>{(async()=>{m(!0);try{const w=(await ce.get("/auth/users?role=IT Manager,IT Intern,IT Permanent")).data.data||[];s(w.filter(A=>A._id!==t.id));const k=(await ce.get("/tasks")).data.data||[];let E=[];t.role==="IT Manager"?E=k.filter(A=>A.department==="IT"):E=k.filter(A=>{var P;return(((P=A.assignedTo)==null?void 0:P._id)||A.assignedTo)===t.id}),i(E);const C=E.filter(A=>A.status==="Manager Confirmed"||A.status==="Employee Completed").length,j=E.filter(A=>A.status==="Pending"||A.status==="In Progress").length;c({totalTasks:E.length,completedTasks:C,pendingTasks:j,teamMembers:w.length})}catch(v){console.error("Error fetching data:",v)}finally{m(!1)}})()},[t.id,t.role]);const h=x=>x==="Manager Confirmed"||x==="Employee Completed"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":x==="In Progress"||x==="Partially Completed"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":x==="Not Completed"?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200",p=[{icon:Ot,label:"Profile",link:"/profile",color:"from-blue-500 to-indigo-600",bg:"bg-blue-50 dark:bg-blue-900/20"},{icon:Er,label:"Task Board",link:"/it?tab=tasks",color:"from-purple-500 to-pink-600",bg:"bg-purple-50 dark:bg-purple-900/20"},{icon:r0,label:"Documents",link:"/documents",color:"from-green-500 to-emerald-600",bg:"bg-green-50 dark:bg-green-900/20"},...t.role==="IT Manager"?[{icon:Ct,label:"Manage Team",link:"/it?tab=team",color:"from-orange-500 to-red-600",bg:"bg-orange-50 dark:bg-orange-900/20"}]:[]],g=[{icon:wx,label:"View Full Team",link:"/it?tab=team"},{icon:Er,label:"Go to Task Board",link:"/it?tab=tasks"},{icon:Ot,label:"Update Profile",link:"/profile"},{icon:r0,label:"Upload/View Documents",link:"/documents"}];return u?e.jsx(Je,{children:e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})})})}):e.jsx(Je,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 shadow-2xl mb-8",children:[e.jsx("div",{className:"absolute inset-0 bg-black/10"}),e.jsx("div",{className:"relative px-8 py-12",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-2",children:["Welcome back, ",t.fullName||t.email]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ke,{className:"bg-white/20 text-white border-white/30 backdrop-blur-sm",children:t.role}),e.jsx("span",{className:"text-white/80 text-sm",children:"IT Department"})]})]}),e.jsx("div",{className:"flex flex-wrap gap-3",children:p.map((x,v)=>{const w=x.icon;return e.jsxs(Te,{to:x.link,className:`group relative overflow-hidden rounded-xl ${x.bg} p-4 backdrop-blur-sm border border-white/20 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105`,children:[e.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${x.color} opacity-0 group-hover:opacity-100 transition-opacity duration-300`}),e.jsxs("div",{className:"relative flex flex-col items-center gap-2",children:[e.jsx(w,{className:"text-2xl text-gray-700 dark:text-gray-300 group-hover:text-white transition-colors"}),e.jsx("span",{className:"text-sm font-semibold text-gray-800 dark:text-gray-200 group-hover:text-white transition-colors",children:x.label})]})]},v)})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx(Ye,{className:"border-0 shadow-lg bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20",children:e.jsx(We,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Total Tasks"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:l.totalTasks})]}),e.jsx("div",{className:"h-12 w-12 rounded-full bg-blue-500 flex items-center justify-center",children:e.jsx(Er,{className:"text-white text-xl"})})]})})}),e.jsx(Ye,{className:"border-0 shadow-lg bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20",children:e.jsx(We,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Completed"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:l.completedTasks})]}),e.jsx("div",{className:"h-12 w-12 rounded-full bg-green-500 flex items-center justify-center",children:e.jsx(Xa,{className:"text-white text-xl"})})]})})}),e.jsx(Ye,{className:"border-0 shadow-lg bg-gradient-to-br from-yellow-50 to-yellow-100 dark:from-yellow-900/20 dark:to-yellow-800/20",children:e.jsx(We,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Pending"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:l.pendingTasks})]}),e.jsx("div",{className:"h-12 w-12 rounded-full bg-yellow-500 flex items-center justify-center",children:e.jsx(Ts,{className:"text-white text-xl"})})]})})}),e.jsx(Ye,{className:"border-0 shadow-lg bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20",children:e.jsx(We,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Team Members"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:l.teamMembers})]}),e.jsx("div",{className:"h-12 w-12 rounded-full bg-purple-500 flex items-center justify-center",children:e.jsx(Ct,{className:"text-white text-xl"})})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs(Ye,{className:"lg:col-span-1 border-0 shadow-xl",children:[e.jsx(vt,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(wt,{className:"text-xl font-bold flex items-center gap-2",children:[e.jsx("div",{className:"h-10 w-10 rounded-lg bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center",children:e.jsx(wx,{className:"text-white"})}),"Team Members"]}),e.jsxs(Te,{to:"/it?tab=team",className:"text-sm text-indigo-600 dark:text-indigo-400 hover:underline flex items-center gap-1",children:["View All",e.jsx(u3,{className:"text-xs"})]})]})}),e.jsx(We,{children:r.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(Ct,{className:"text-4xl mx-auto mb-3 opacity-50"}),e.jsx("p",{children:"No other team members found"})]}):e.jsxs("div",{className:"space-y-3",children:[r.slice(0,5).map(x=>e.jsxs("div",{className:"group flex items-center gap-4 p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors border border-transparent hover:border-gray-200 dark:hover:border-gray-700",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-gradient-to-br from-indigo-400 to-purple-600 flex items-center justify-center text-white font-bold text-lg shadow-md",children:x.fullName?x.fullName[0].toUpperCase():"?"}),e.jsx("div",{className:"absolute -bottom-1 -right-1 h-4 w-4 rounded-full bg-green-500 border-2 border-white dark:border-gray-800"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-semibold text-gray-900 dark:text-white truncate",children:x.fullName}),e.jsx("div",{className:"flex items-center gap-2 mt-1",children:e.jsx(Ke,{variant:"outline",className:"text-xs",children:x.role})}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate mt-1",children:x.email})]})]},x._id)),r.length>5&&e.jsxs(Te,{to:"/it?tab=team",className:"block text-center py-2 text-sm text-indigo-600 dark:text-indigo-400 hover:underline font-medium",children:["View ",r.length-5," more members"]})]})})]}),e.jsxs(Ye,{className:"lg:col-span-2 border-0 shadow-xl",children:[e.jsx(vt,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(wt,{className:"text-xl font-bold flex items-center gap-2",children:[e.jsx("div",{className:"h-10 w-10 rounded-lg bg-gradient-to-br from-blue-500 to-cyan-600 flex items-center justify-center",children:e.jsx(Er,{className:"text-white"})}),t.role==="IT Manager"?"All IT Department Tasks":"Your Assigned Tasks"]}),t.role==="IT Manager"&&e.jsxs(Te,{to:"/it?tab=tasks",className:"px-4 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg hover:from-indigo-700 hover:to-purple-700 transition-all shadow-md hover:shadow-lg text-sm font-semibold flex items-center gap-2",children:[e.jsx(Er,{className:"text-xs"}),"Create Task"]})]})}),e.jsx(We,{children:a.length===0?e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx(Er,{className:"text-5xl mx-auto mb-4 opacity-50"}),e.jsxs("p",{className:"text-lg font-medium",children:["No tasks found",t.role!=="IT Manager"&&" for you"]}),e.jsx("p",{className:"text-sm mt-2",children:"Get started by creating a new task"})]}):e.jsxs("div",{className:"space-y-4",children:[a.slice(0,5).map(x=>e.jsx("div",{className:"group p-4 rounded-xl border border-gray-200 dark:border-gray-700 hover:border-indigo-300 dark:hover:border-indigo-600 hover:shadow-md transition-all bg-white dark:bg-gray-800/50",children:e.jsx("div",{className:"flex items-start justify-between gap-4",children:e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-lg",children:x.title}),e.jsx(Ke,{className:h(x.status),children:x.status})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2 mb-3",children:x.description}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 dark:text-gray-400",children:[x.assignedTo&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ot,{className:"text-xs"}),e.jsx("span",{children:typeof x.assignedTo=="object"?x.assignedTo.fullName:x.assignedTo})]}),x.createdAt&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ts,{className:"text-xs"}),e.jsx("span",{children:new Date(x.createdAt).toLocaleDateString()})]})]})]})})},x._id)),a.length>5&&e.jsxs(Te,{to:"/it?tab=tasks",className:"block text-center py-3 rounded-lg border-2 border-dashed border-gray-300 dark:border-gray-600 hover:border-indigo-500 dark:hover:border-indigo-500 text-indigo-600 dark:text-indigo-400 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 transition-all font-medium",children:["View all ",a.length," tasks"]})]})})]})]}),e.jsxs(Ye,{className:"mt-8 border-0 shadow-xl bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50 dark:from-indigo-900/20 dark:via-purple-900/20 dark:to-pink-900/20",children:[e.jsx(vt,{children:e.jsxs(wt,{className:"text-xl font-bold flex items-center gap-2",children:[e.jsx(As,{className:"text-indigo-600 dark:text-indigo-400"}),"IT Resources & Quick Links"]})}),e.jsx(We,{children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:g.map((x,v)=>{const w=x.icon;return e.jsxs(Te,{to:x.link,className:"group flex items-center gap-3 p-4 rounded-xl bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 hover:border-indigo-400 dark:hover:border-indigo-600 hover:shadow-lg transition-all",children:[e.jsx("div",{className:"h-10 w-10 rounded-lg bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-white group-hover:scale-110 transition-transform",children:e.jsx(w,{className:"text-lg"})}),e.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-300 group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors",children:x.label})]},v)})})})]})]})})})},M5=()=>{const t=us(),r=Yn(),{login:s,error:a}=Fe(),[i,l]=y.useState({email:"",password:""}),[c,u]=y.useState(""),[m,h]=y.useState(""),[p,g]=y.useState(!1),[x,v]=y.useState(!1);y.useEffect(()=>{var E;(E=r.state)!=null&&E.message&&(h(r.state.message),r.state.email&&l(C=>({...C,email:r.state.email})))},[r]);const w=E=>{l({...i,[E.target.name]:E.target.value})},S=()=>{v(!x)},k=async E=>{var C,j;E.preventDefault(),u(""),h("");try{g(!0);const A=await s(i);if(A.success)switch(A.data.role){case"Lead Person":case"Manager":case"Admin":t("/leads");break;case"Sales Person":t("/sales");break;case"Customer":t("/customer");break;case"IT Staff":case"IT Manager":t("/it");break;case"Employee":t("/profile");break;default:t("/")}else u(A.message||"Invalid credentials. Please try again.")}catch(A){u(((j=(C=A.response)==null?void 0:C.data)==null?void 0:j.message)||"Invalid credentials. Please try again.")}finally{g(!1)}};return e.jsx(Je,{children:e.jsx("div",{className:"flex-grow flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 bg-gray-50 dark:bg-slate-800",children:e.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white dark:bg-slate-900 transition-all duration-200 ease-out p-8 rounded-lg shadow-md dark:shadow-black/25",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900 dark:text-white",children:"Sign in to your account"}),e.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600 dark:text-gray-500",children:["Or"," ",e.jsx(Te,{to:"/signup",className:"font-medium text-blue-600 hover:text-blue-500",children:"create a new account"})]})]}),m&&e.jsx("div",{className:"p-3 bg-green-50 text-green-700 border border-green-200 rounded-md",children:m}),(c||a)&&e.jsx("div",{className:"p-3 bg-red-50 text-red-700 border border-red-200 rounded-md",children:c||a}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:k,children:[e.jsxs("div",{className:"rounded-md -space-y-px",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-400 mb-1",children:"Email address"}),e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-blue-500 dark:focus:border-blue-400 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:i.email,onChange:w})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-400 mb-1",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"password",name:"password",type:x?"text":"password",autoComplete:"current-password",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-blue-500 dark:focus:border-blue-400 focus:border-blue-500 focus:z-10 sm:text-sm pr-10",placeholder:"Password",value:i.password,onChange:w}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center text-sm text-gray-500 dark:text-gray-200 hover:text-gray-800",onClick:S,children:x?e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[e.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),e.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}):e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[e.jsx("path",{fillRule:"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.268 5.943 14.478 3 10 3a9.958 9.958 0 00-4.512 1.074l-1.78-1.781zm4.261 4.26l1.514 1.515a2.003 2.003 0 012.45 2.45l1.514 1.514a4 4 0 00-5.478-5.478z",clipRule:"evenodd"}),e.jsx("path",{d:"M12.454 16.697L9.75 13.992a4 4 0 01-3.742-3.741L2.335 6.578A9.98 9.98 0 00.458 10c1.274 4.057 5.065 7 9.542 7 .847 0 1.669-.105 2.454-.303z"})]})})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 dark:focus:ring-blue-400 border-gray-300 dark:border-slate-600 rounded"}),e.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900 dark:text-white",children:"Remember me"})]}),e.jsx("div",{className:"text-sm",children:e.jsx(Te,{to:"/forgot-password",className:"font-medium text-blue-600 dark:text-blue-400 hover:text-blue-500 dark:hover:text-blue-300",children:"Forgot your password?"})})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:p,className:`group relative w-full flex justify-center py-2 px-4 border border-transparent rounded-md text-white ${p?"bg-blue-400":"bg-blue-600 hover:bg-blue-700"} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-blue-400 transition`,children:p?"Signing in...":"Sign in"})})]})]})})})},R5=()=>{const t=us(),{register:r,error:s}=Fe(),[a,i]=y.useState({fullName:"",email:"",password:"",confirmPassword:"",role:"Customer"}),[l,c]=y.useState(""),[u,m]=y.useState(!1),h=g=>{i({...a,[g.target.name]:g.target.value})},p=async g=>{var x,v;if(g.preventDefault(),c(""),a.password!==a.confirmPassword){c("Passwords do not match");return}if(a.password.length<6){c("Password must be at least 6 characters");return}try{m(!0);const w={fullName:a.fullName,email:a.email,password:a.password,role:a.role};await r(w),t("/login",{state:{message:"Registration successful! Please login with your credentials.",email:a.email}})}catch(w){c(((v=(x=w.response)==null?void 0:x.data)==null?void 0:v.message)||"Registration failed. Please try again.")}finally{m(!1)}};return e.jsx(Je,{children:e.jsx("div",{className:"flex-grow flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 bg-gray-50 dark:bg-slate-800",children:e.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white dark:bg-slate-900 transition-all duration-200 ease-out p-8 rounded-lg shadow-md dark:shadow-black/25",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900 dark:text-white",children:"Create a new account"}),e.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600 dark:text-gray-400",children:["Or"," ",e.jsx(Te,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"sign in to your existing account"})]})]}),(l||s)&&e.jsx("div",{className:"p-3 bg-red-50 text-red-700 border border-red-200 rounded-md",children:l||s}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:p,children:[e.jsxs("div",{className:"rounded-md -space-y-px",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700 dark:text-gray-400 mb-1",children:"Full Name"}),e.jsx("input",{id:"fullName",name:"fullName",type:"text",autoComplete:"name",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-blue-500 dark:focus:border-blue-400 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Full Name",value:a.fullName,onChange:h})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-400 mb-1",children:"Email address"}),e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-blue-500 dark:focus:border-blue-400 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:a.email,onChange:h})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-400 mb-1",children:"Password"}),e.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-blue-500 dark:focus:border-blue-400 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Password",value:a.password,onChange:h})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-400 mb-1",children:"Confirm Password"}),e.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-blue-500 dark:focus:border-blue-400 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Confirm Password",value:a.confirmPassword,onChange:h})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 dark:text-gray-400 mb-1",children:"Role"}),e.jsxs("select",{id:"role",name:"role",className:"appearance-none relative block w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-blue-500 dark:focus:border-blue-400 focus:border-blue-500 focus:z-10 sm:text-sm",value:a.role,onChange:h,children:[e.jsx("option",{value:"Lead Person",children:"Lead Person"}),e.jsx("option",{value:"Sales Person",children:"Sales Person"}),e.jsx("option",{value:"Manager",children:"Manager"}),e.jsx("option",{value:"Admin",children:"Admin"}),e.jsx("option",{value:"Customer",children:"Customer"})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"For initial setup, you can create an Admin account. This option will be removed in production."})]})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:u,className:`group relative w-full flex justify-center py-2 px-4 border border-transparent rounded-md text-white ${u?"bg-blue-400":"bg-blue-600 hover:bg-blue-700"} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-blue-400 transition`,children:u?"Creating Account...":"Create Account"})})]})]})})})},L5=()=>{const t=us(),{register:r,error:s}=Fe(),[a,i]=y.useState({fullName:"",email:"",password:"",confirmPassword:"",role:"Customer"}),[l,c]=y.useState(""),[u,m]=y.useState(!1),h=g=>{i({...a,[g.target.name]:g.target.value})},p=async g=>{var x,v;if(g.preventDefault(),c(""),a.password!==a.confirmPassword){c("Passwords do not match");return}if(a.password.length<6){c("Password must be at least 6 characters");return}try{m(!0);const w={fullName:a.fullName,email:a.email,password:a.password,role:"Customer"};await r(w),t("/login",{state:{message:"Welcome! Your customer account has been created successfully. Please login to start chatting with our team.",email:a.email}})}catch(w){c(((v=(x=w.response)==null?void 0:x.data)==null?void 0:v.message)||"Registration failed. Please try again.")}finally{m(!1)}};return e.jsx(Je,{children:e.jsx("div",{className:"flex-grow flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8 bg-gray-50 dark:bg-slate-800",children:e.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white dark:bg-slate-900 transition-all duration-200 ease-out p-8 rounded-lg shadow-md dark:shadow-black/25",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900 dark:text-white",children:"Create Customer Account"}),e.jsx("p",{className:"mt-2 text-center text-sm text-gray-600 dark:text-gray-400",children:"Join our platform to chat with our team and get support"}),e.jsxs("p",{className:"mt-1 text-center text-sm text-gray-600 dark:text-gray-400",children:["Already have an account?"," ",e.jsx(Te,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign in here"})]})]}),(l||s)&&e.jsx("div",{className:"p-3 bg-red-50 text-red-700 border border-red-200 rounded-md",children:l||s}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:p,children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700 dark:text-gray-400 mb-1",children:"Full Name"}),e.jsx("input",{id:"fullName",name:"fullName",type:"text",autoComplete:"name",required:!0,className:"appearance-none relative block w-full border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-500 focus:outline-none focus:ring-blue-500 dark:focus:border-blue-400 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Enter your full name",value:a.fullName,onChange:h})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-400 mb-1",children:"Email Address"}),e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none relative block w-full border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-500 focus:outline-none focus:ring-blue-500 dark:focus:border-blue-400 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Enter your email address",value:a.email,onChange:h})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-400 mb-1",children:"Password"}),e.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none relative block w-full border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-500 focus:outline-none focus:ring-blue-500 dark:focus:border-blue-400 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Create a password (min 6 characters)",value:a.password,onChange:h,minLength:6})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-400 mb-1",children:"Confirm Password"}),e.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none relative block w-full border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-500 focus:outline-none focus:ring-blue-500 dark:focus:border-blue-400 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Confirm your password",value:a.confirmPassword,onChange:h,minLength:6})]})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:u,className:`group relative w-full flex justify-center py-2 px-4 border border-transparent rounded-md text-white ${u?"bg-blue-400":"bg-blue-600 hover:bg-blue-700"} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-blue-400 transition`,children:u?"Creating Account...":"Create Customer Account"})}),e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:"By creating an account, you agree to our terms of service and can chat with our support team."})})]})]})})})},I5=({lead:t=null,onSuccess:r})=>{us();const{user:s}=Fe(),[a,i]=y.useState([]),[l,c]=y.useState([]),[u,m]=y.useState(!1),[h,p]=y.useState(null),[g,x]=y.useState({name:"",email:"",course:"",countryCode:"1",phone:"",country:"",pseudoId:"",company:"",client:"",status:"Introduction",source:"",sourceLink:"",assignedTo:"",leadPerson:"",remarks:"",feedback:"",customCreatedAt:new Date().toISOString().split("T")[0]});y.useEffect(()=>{(async()=>{try{const k=await Et.getUsers("Sales Person");i(k.data.data||[]);const E=await Et.getUsers("Lead Person");c(E.data.data||[])}catch(k){console.error("Failed to fetch users",k)}})()},[]),y.useEffect(()=>{var S,k,E,C;if(t){const j=t.createdAt?new Date(t.createdAt).toISOString().split("T")[0]:new Date().toISOString().split("T")[0];let A=t.countryCode||t.CODE||"";A=A.replace(/^\+/,"");const P={name:t.name||t.NAME||"",email:t.email||t["E-MAIL"]||"",course:t.course||t.COURSE||"",countryCode:A,phone:t.phone||t.NUMBER||"",country:t.country||t.COUNTRY||"",pseudoId:t.pseudoId||t["PSUDO ID"]||"",company:t.company||t.COMPANY||"",client:t.client||t["CLIENT REMARK"]||"",status:t.status||"Introduction",source:t.source||t.SOURSE||"",sourceLink:t.sourceLink||t["SOURCE LINK"]||"",assignedTo:((S=t.assignedTo)==null?void 0:S._id)||((k=t["SALE PERSON"])==null?void 0:k._id)||t["SALE PERSON"]||"",leadPerson:((E=t.leadPerson)==null?void 0:E._id)||((C=t["LEAD PERSON"])==null?void 0:C._id)||t["LEAD PERSON"]||"",remarks:t.remarks||"",feedback:t.feedback||t.FEEDBACK||"",customCreatedAt:j};x(P)}else{const j=((s==null?void 0:s._id)||(s==null?void 0:s.id)||"").toString(),A=new Date().toISOString().split("T")[0];x(P=>({...P,assignedTo:j,leadPerson:(s==null?void 0:s.role)==="Lead Person"?j:"",customCreatedAt:A}))}},[t,s]);const v=S=>{const{name:k,value:E}=S.target;x(C=>({...C,[k]:E}))},w=async S=>{var k,E,C;S.preventDefault(),m(!0),p(null);try{const j={NAME:g.name,"E-MAIL":g.email||"",COURSE:g.course,CODE:g.countryCode,NUMBER:g.phone,COUNTRY:g.country,"PSUDO ID":g.pseudoId||"","CLIENT REMARK":g.client||"",status:g.status||"Introduction",SOURSE:g.source||"","SOURCE LINK":g.sourceLink||"","SALE PERSON":g.assignedTo,leadPerson:g.leadPerson||"","LEAD PERSON":g.leadPerson||"",feedback:g.feedback||"",FEEDBACK:g.feedback||"",...t?{}:{DATE:g.customCreatedAt?new Date(g.customCreatedAt).toISOString():new Date().toISOString(),createdAt:g.customCreatedAt?new Date(g.customCreatedAt).toISOString():new Date().toISOString()}},P=["name","course","phone","country","assignedTo"].filter(T=>{var L;return!((L=g[T])!=null&&L.trim())});if(P.length>0){p(`Missing required fields: ${P.join(", ")}`),m(!1);return}if(g.email&&!g.email.includes("@")){p("Please enter a valid email address or leave it blank"),m(!1);return}let F;t?(F=await $t.update(t._id,j),await as.logLeadUpdate(t._id,j)):(F=await $t.create(j),await as.logLeadCreate(F.data.data)),(k=F.data)!=null&&k.success?r(F.data.data):p("Failed to save lead. Please check your input and try again.")}catch(j){p(((C=(E=j.response)==null?void 0:E.data)==null?void 0:C.message)||"Failed to save lead. Please try again later.")}finally{m(!1)}};return e.jsxs("form",{onSubmit:w,className:`max-w-4xl mx-auto bg-white dark:bg-gray-900 p-8 rounded-xl shadow-lg
               hover:shadow-2xl transition-shadow duration-300 ease-in-out space-y-12`,children:[h&&e.jsx("div",{className:"bg-red-50 border border-red-400 text-red-700 px-6 py-3 rounded-md font-semibold text-center",children:h}),e.jsxs("section",{children:[e.jsx("h3",{className:"text-2xl font-semibold mb-6 text-gray-900 dark:text-white border-b border-gray-200 dark:border-gray-700 pb-2",children:"Contact Information"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsx(ra,{label:"Full Name",name:"name",value:g.name,onChange:v,required:!0}),e.jsx(ra,{label:"Email",name:"email",value:g.email,onChange:v,type:"email"}),e.jsx(_5,{code:g.countryCode,number:g.phone,onChange:v}),e.jsx(ra,{label:"Country",name:"country",value:g.country,onChange:v,required:!0})]})]}),e.jsxs("section",{children:[e.jsx("h3",{className:"text-2xl font-semibold mb-6 text-gray-900 dark:text-white border-b border-gray-200 dark:border-gray-700 pb-2",children:"Course Information"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsx(ra,{label:"Course",name:"course",value:g.course,onChange:v,required:!0}),e.jsx(ra,{label:"Source",name:"source",value:g.source,onChange:v}),e.jsx(ra,{label:"Source Link",name:"sourceLink",value:g.sourceLink,onChange:v}),e.jsx(ra,{label:"Pseudo ID",name:"pseudoId",value:g.pseudoId,onChange:v})]})]}),e.jsxs("section",{children:[e.jsx("h3",{className:"text-2xl font-semibold mb-6 text-gray-900 dark:text-white border-b border-gray-200 dark:border-gray-700 pb-2",children:"Assignment & Status"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsx(gm,{label:"Assigned Sales Person",name:"assignedTo",value:g.assignedTo,onChange:v,required:!0,options:a}),e.jsx(gm,{label:"Lead Person",name:"leadPerson",value:g.leadPerson,onChange:v,options:l}),e.jsx(gm,{label:"Status",name:"status",value:g.status,onChange:v,options:["Introduction","Acknowledgement","Question","Future Promise","Payment","Analysis"]}),e.jsx(Dx,{label:"Feedback",name:"feedback",value:g.feedback,onChange:v})]})]}),e.jsxs("section",{children:[e.jsx("h3",{className:"text-2xl font-semibold mb-6 text-gray-900 dark:text-white border-b border-gray-200 dark:border-gray-700 pb-2",children:"Additional Information"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsx(Dx,{label:"Client Remarks",name:"client",value:g.client,onChange:v}),e.jsx(ra,{label:"Date Added",name:"customCreatedAt",type:"date",value:g.customCreatedAt,onChange:v})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"submit",disabled:u,className:`inline-flex items-center bg-gradient-to-r from-blue-600 to-blue-700
                   text-white font-semibold px-8 py-3 rounded-lg shadow-lg
                   hover:from-blue-700 hover:to-blue-800 focus:outline-none focus:ring-4
                   focus:ring-blue-500 focus:ring-opacity-50 transition disabled:opacity-50 disabled:cursor-not-allowed`,children:u?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Saving..."]}):t?"Update Lead":"Add Lead"})})]})},ra=({label:t,name:r,value:s,onChange:a,type:i="text",required:l})=>e.jsxs("div",{children:[e.jsxs("label",{htmlFor:r,className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:[t," ",l&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:i,name:r,id:r,value:s,onChange:a,required:l,className:"mt-1 w-full px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-800 dark:text-white"})]}),Dx=({label:t,name:r,value:s,onChange:a})=>e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{htmlFor:r,className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:t}),e.jsx("textarea",{name:r,id:r,rows:"3",value:s,onChange:a,className:"mt-1 w-full px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-800 dark:text-white"})]}),_5=({code:t,number:r,onChange:s})=>e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Phone ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"mt-1 flex rounded-md shadow-sm",children:[e.jsx("input",{type:"text",name:"countryCode",value:t,onChange:s,placeholder:"Code",className:"w-20 px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-l-md dark:bg-slate-800 dark:text-white"}),e.jsx("input",{type:"text",name:"phone",value:r,onChange:s,required:!0,className:"flex-1 px-4 py-2 border-t border-b border-r border-gray-300 dark:border-gray-700 rounded-r-md dark:bg-slate-800 dark:text-white"})]})]}),gm=({label:t,name:r,value:s,onChange:a,options:i=[],required:l})=>e.jsxs("div",{children:[e.jsxs("label",{htmlFor:r,className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:[t," ",l&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{id:r,name:r,value:s,onChange:a,required:l,className:"mt-1 w-full px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-800 dark:text-white",children:[e.jsxs("option",{value:"",children:["Select ",t]}),Array.isArray(i)?i.map((c,u)=>typeof c=="string"?e.jsx("option",{value:c,children:c},u):e.jsx("option",{value:c._id,children:c.fullName||c.email},c._id)):null]})]});var gc={exports:{}},O5=gc.exports,Mx;function F5(){return Mx||(Mx=1,(function(t,r){(function(s,a){t.exports=a()})(O5,function(){return(function(s){function a(l){if(i[l])return i[l].exports;var c=i[l]={exports:{},id:l,loaded:!1};return s[l].call(c.exports,c,c.exports,a),c.loaded=!0,c.exports}var i={};return a.m=s,a.c=i,a.p="dist/",a(0)})([function(s,a,i){function l(R){return R&&R.__esModule?R:{default:R}}var c=Object.assign||function(R){for(var ee=1;ee<arguments.length;ee++){var J=arguments[ee];for(var H in J)Object.prototype.hasOwnProperty.call(J,H)&&(R[H]=J[H])}return R},u=i(1),m=(l(u),i(6)),h=l(m),p=i(7),g=l(p),x=i(8),v=l(x),w=i(9),S=l(w),k=i(10),E=l(k),C=i(11),j=l(C),A=i(14),P=l(A),F=[],T=!1,L={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},z=function(){var R=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(R&&(T=!0),T)return F=(0,j.default)(F,L),(0,E.default)(F,L.once),F},q=function(){F=(0,P.default)(),z()},O=function(){F.forEach(function(R,ee){R.node.removeAttribute("data-aos"),R.node.removeAttribute("data-aos-easing"),R.node.removeAttribute("data-aos-duration"),R.node.removeAttribute("data-aos-delay")})},B=function(R){return R===!0||R==="mobile"&&S.default.mobile()||R==="phone"&&S.default.phone()||R==="tablet"&&S.default.tablet()||typeof R=="function"&&R()===!0},U=function(R){L=c(L,R),F=(0,P.default)();var ee=document.all&&!window.atob;return B(L.disable)||ee?O():(L.disableMutationObserver||v.default.isSupported()||(console.info(`
      aos: MutationObserver is not supported on this browser,
      code mutations observing has been disabled.
      You may have to call "refreshHard()" by yourself.
    `),L.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",L.easing),document.querySelector("body").setAttribute("data-aos-duration",L.duration),document.querySelector("body").setAttribute("data-aos-delay",L.delay),L.startEvent==="DOMContentLoaded"&&["complete","interactive"].indexOf(document.readyState)>-1?z(!0):L.startEvent==="load"?window.addEventListener(L.startEvent,function(){z(!0)}):document.addEventListener(L.startEvent,function(){z(!0)}),window.addEventListener("resize",(0,g.default)(z,L.debounceDelay,!0)),window.addEventListener("orientationchange",(0,g.default)(z,L.debounceDelay,!0)),window.addEventListener("scroll",(0,h.default)(function(){(0,E.default)(F,L.once)},L.throttleDelay)),L.disableMutationObserver||v.default.ready("[data-aos]",q),F)};s.exports={init:U,refresh:z,refreshHard:q}},function(s,a){},,,,,function(s,a){(function(i){function l(B,U,R){function ee(ye){var Ae=X,Pe=V;return X=V=void 0,pe=ye,ue=B.apply(Pe,Ae)}function J(ye){return pe=ye,le=setTimeout(I,U),se?ee(ye):ue}function H(ye){var Ae=ye-te,Pe=ye-pe,ct=U-Ae;return we?q(ct,de-Pe):ct}function K(ye){var Ae=ye-te,Pe=ye-pe;return te===void 0||Ae>=U||Ae<0||we&&Pe>=de}function I(){var ye=O();return K(ye)?G(ye):void(le=setTimeout(I,H(ye)))}function G(ye){return le=void 0,W&&X?ee(ye):(X=V=void 0,ue)}function _(){le!==void 0&&clearTimeout(le),pe=0,X=te=V=le=void 0}function M(){return le===void 0?ue:G(O())}function Z(){var ye=O(),Ae=K(ye);if(X=arguments,V=this,te=ye,Ae){if(le===void 0)return J(te);if(we)return le=setTimeout(I,U),ee(te)}return le===void 0&&(le=setTimeout(I,U)),ue}var X,V,de,ue,le,te,pe=0,se=!1,we=!1,W=!0;if(typeof B!="function")throw new TypeError(x);return U=p(U)||0,u(R)&&(se=!!R.leading,we="maxWait"in R,de=we?z(p(R.maxWait)||0,U):de,W="trailing"in R?!!R.trailing:W),Z.cancel=_,Z.flush=M,Z}function c(B,U,R){var ee=!0,J=!0;if(typeof B!="function")throw new TypeError(x);return u(R)&&(ee="leading"in R?!!R.leading:ee,J="trailing"in R?!!R.trailing:J),l(B,U,{leading:ee,maxWait:U,trailing:J})}function u(B){var U=typeof B>"u"?"undefined":g(B);return!!B&&(U=="object"||U=="function")}function m(B){return!!B&&(typeof B>"u"?"undefined":g(B))=="object"}function h(B){return(typeof B>"u"?"undefined":g(B))=="symbol"||m(B)&&L.call(B)==w}function p(B){if(typeof B=="number")return B;if(h(B))return v;if(u(B)){var U=typeof B.valueOf=="function"?B.valueOf():B;B=u(U)?U+"":U}if(typeof B!="string")return B===0?B:+B;B=B.replace(S,"");var R=E.test(B);return R||C.test(B)?j(B.slice(2),R?2:8):k.test(B)?v:+B}var g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},x="Expected a function",v=NaN,w="[object Symbol]",S=/^\s+|\s+$/g,k=/^[-+]0x[0-9a-f]+$/i,E=/^0b[01]+$/i,C=/^0o[0-7]+$/i,j=parseInt,A=(typeof i>"u"?"undefined":g(i))=="object"&&i&&i.Object===Object&&i,P=(typeof self>"u"?"undefined":g(self))=="object"&&self&&self.Object===Object&&self,F=A||P||Function("return this")(),T=Object.prototype,L=T.toString,z=Math.max,q=Math.min,O=function(){return F.Date.now()};s.exports=c}).call(a,(function(){return this})())},function(s,a){(function(i){function l(O,B,U){function R(W){var ye=Z,Ae=X;return Z=X=void 0,te=W,de=O.apply(Ae,ye)}function ee(W){return te=W,ue=setTimeout(K,B),pe?R(W):de}function J(W){var ye=W-le,Ae=W-te,Pe=B-ye;return se?z(Pe,V-Ae):Pe}function H(W){var ye=W-le,Ae=W-te;return le===void 0||ye>=B||ye<0||se&&Ae>=V}function K(){var W=q();return H(W)?I(W):void(ue=setTimeout(K,J(W)))}function I(W){return ue=void 0,we&&Z?R(W):(Z=X=void 0,de)}function G(){ue!==void 0&&clearTimeout(ue),te=0,Z=le=X=ue=void 0}function _(){return ue===void 0?de:I(q())}function M(){var W=q(),ye=H(W);if(Z=arguments,X=this,le=W,ye){if(ue===void 0)return ee(le);if(se)return ue=setTimeout(K,B),R(le)}return ue===void 0&&(ue=setTimeout(K,B)),de}var Z,X,V,de,ue,le,te=0,pe=!1,se=!1,we=!0;if(typeof O!="function")throw new TypeError(g);return B=h(B)||0,c(U)&&(pe=!!U.leading,se="maxWait"in U,V=se?L(h(U.maxWait)||0,B):V,we="trailing"in U?!!U.trailing:we),M.cancel=G,M.flush=_,M}function c(O){var B=typeof O>"u"?"undefined":p(O);return!!O&&(B=="object"||B=="function")}function u(O){return!!O&&(typeof O>"u"?"undefined":p(O))=="object"}function m(O){return(typeof O>"u"?"undefined":p(O))=="symbol"||u(O)&&T.call(O)==v}function h(O){if(typeof O=="number")return O;if(m(O))return x;if(c(O)){var B=typeof O.valueOf=="function"?O.valueOf():O;O=c(B)?B+"":B}if(typeof O!="string")return O===0?O:+O;O=O.replace(w,"");var U=k.test(O);return U||E.test(O)?C(O.slice(2),U?2:8):S.test(O)?x:+O}var p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},g="Expected a function",x=NaN,v="[object Symbol]",w=/^\s+|\s+$/g,S=/^[-+]0x[0-9a-f]+$/i,k=/^0b[01]+$/i,E=/^0o[0-7]+$/i,C=parseInt,j=(typeof i>"u"?"undefined":p(i))=="object"&&i&&i.Object===Object&&i,A=(typeof self>"u"?"undefined":p(self))=="object"&&self&&self.Object===Object&&self,P=j||A||Function("return this")(),F=Object.prototype,T=F.toString,L=Math.max,z=Math.min,q=function(){return P.Date.now()};s.exports=l}).call(a,(function(){return this})())},function(s,a){function i(p){var g=void 0,x=void 0;for(g=0;g<p.length;g+=1)if(x=p[g],x.dataset&&x.dataset.aos||x.children&&i(x.children))return!0;return!1}function l(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function c(){return!!l()}function u(p,g){var x=window.document,v=l(),w=new v(m);h=g,w.observe(x.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function m(p){p&&p.forEach(function(g){var x=Array.prototype.slice.call(g.addedNodes),v=Array.prototype.slice.call(g.removedNodes),w=x.concat(v);if(i(w))return h()})}Object.defineProperty(a,"__esModule",{value:!0});var h=function(){};a.default={isSupported:c,ready:u}},function(s,a){function i(x,v){if(!(x instanceof v))throw new TypeError("Cannot call a class as a function")}function l(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(a,"__esModule",{value:!0});var c=(function(){function x(v,w){for(var S=0;S<w.length;S++){var k=w[S];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(v,k.key,k)}}return function(v,w,S){return w&&x(v.prototype,w),S&&x(v,S),v}})(),u=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,m=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,h=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,p=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,g=(function(){function x(){i(this,x)}return c(x,[{key:"phone",value:function(){var v=l();return!(!u.test(v)&&!m.test(v.substr(0,4)))}},{key:"mobile",value:function(){var v=l();return!(!h.test(v)&&!p.test(v.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),x})();a.default=new g},function(s,a){Object.defineProperty(a,"__esModule",{value:!0});var i=function(c,u,m){var h=c.node.getAttribute("data-aos-once");u>c.position?c.node.classList.add("aos-animate"):typeof h<"u"&&(h==="false"||!m&&h!=="true")&&c.node.classList.remove("aos-animate")},l=function(c,u){var m=window.pageYOffset,h=window.innerHeight;c.forEach(function(p,g){i(p,h+m,u)})};a.default=l},function(s,a,i){function l(h){return h&&h.__esModule?h:{default:h}}Object.defineProperty(a,"__esModule",{value:!0});var c=i(12),u=l(c),m=function(h,p){return h.forEach(function(g,x){g.node.classList.add("aos-init"),g.position=(0,u.default)(g.node,p.offset)}),h};a.default=m},function(s,a,i){function l(h){return h&&h.__esModule?h:{default:h}}Object.defineProperty(a,"__esModule",{value:!0});var c=i(13),u=l(c),m=function(h,p){var g=0,x=0,v=window.innerHeight,w={offset:h.getAttribute("data-aos-offset"),anchor:h.getAttribute("data-aos-anchor"),anchorPlacement:h.getAttribute("data-aos-anchor-placement")};switch(w.offset&&!isNaN(w.offset)&&(x=parseInt(w.offset)),w.anchor&&document.querySelectorAll(w.anchor)&&(h=document.querySelectorAll(w.anchor)[0]),g=(0,u.default)(h).top,w.anchorPlacement){case"top-bottom":break;case"center-bottom":g+=h.offsetHeight/2;break;case"bottom-bottom":g+=h.offsetHeight;break;case"top-center":g+=v/2;break;case"bottom-center":g+=v/2+h.offsetHeight;break;case"center-center":g+=v/2+h.offsetHeight/2;break;case"top-top":g+=v;break;case"bottom-top":g+=h.offsetHeight+v;break;case"center-top":g+=h.offsetHeight/2+v}return w.anchorPlacement||w.offset||isNaN(p)||(x=p),g+x};a.default=m},function(s,a){Object.defineProperty(a,"__esModule",{value:!0});var i=function(l){for(var c=0,u=0;l&&!isNaN(l.offsetLeft)&&!isNaN(l.offsetTop);)c+=l.offsetLeft-(l.tagName!="BODY"?l.scrollLeft:0),u+=l.offsetTop-(l.tagName!="BODY"?l.scrollTop:0),l=l.offsetParent;return{top:u,left:c}};a.default=i},function(s,a){Object.defineProperty(a,"__esModule",{value:!0});var i=function(l){return l=l||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(l,function(c){return{node:c}})};a.default=i}])})})(gc)),gc.exports}var B5=F5();const U5=q0(B5);let $5={data:""},V5=t=>{if(typeof window=="object"){let r=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return r.nonce=window.__nonce__,r.parentNode||(t||document.head).appendChild(r),r.firstChild}return t||$5},z5=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,H5=/\/\*[^]*?\*\/|  +/g,Rx=/\n+/g,ia=(t,r)=>{let s="",a="",i="";for(let l in t){let c=t[l];l[0]=="@"?l[1]=="i"?s=l+" "+c+";":a+=l[1]=="f"?ia(c,l):l+"{"+ia(c,l[1]=="k"?"":r)+"}":typeof c=="object"?a+=ia(c,r?r.replace(/([^,])+/g,u=>l.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,m=>/&/.test(m)?m.replace(/&/g,u):u?u+" "+m:m)):l):c!=null&&(l=/^--/.test(l)?l:l.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=ia.p?ia.p(l,c):l+":"+c+";")}return s+(r&&i?r+"{"+i+"}":i)+a},ks={},Bv=t=>{if(typeof t=="object"){let r="";for(let s in t)r+=s+Bv(t[s]);return r}return t},W5=(t,r,s,a,i)=>{let l=Bv(t),c=ks[l]||(ks[l]=(m=>{let h=0,p=11;for(;h<m.length;)p=101*p+m.charCodeAt(h++)>>>0;return"go"+p})(l));if(!ks[c]){let m=l!==t?t:(h=>{let p,g,x=[{}];for(;p=z5.exec(h.replace(H5,""));)p[4]?x.shift():p[3]?(g=p[3].replace(Rx," ").trim(),x.unshift(x[0][g]=x[0][g]||{})):x[0][p[1]]=p[2].replace(Rx," ").trim();return x[0]})(t);ks[c]=ia(i?{["@keyframes "+c]:m}:m,s?"":"."+c)}let u=s&&ks.g?ks.g:null;return s&&(ks.g=ks[c]),((m,h,p,g)=>{g?h.data=h.data.replace(g,m):h.data.indexOf(m)===-1&&(h.data=p?m+h.data:h.data+m)})(ks[c],r,a,u),c},q5=(t,r,s)=>t.reduce((a,i,l)=>{let c=r[l];if(c&&c.call){let u=c(s),m=u&&u.props&&u.props.className||/^go/.test(u)&&u;c=m?"."+m:u&&typeof u=="object"?u.props?"":ia(u,""):u===!1?"":u}return a+i+(c??"")},"");function Jc(t){let r=this||{},s=t.call?t(r.p):t;return W5(s.unshift?s.raw?q5(s,[].slice.call(arguments,1),r.p):s.reduce((a,i)=>Object.assign(a,i&&i.call?i(r.p):i),{}):s,V5(r.target),r.g,r.o,r.k)}let Uv,p0,g0;Jc.bind({g:1});let Ps=Jc.bind({k:1});function Y5(t,r,s,a){ia.p=r,Uv=t,p0=s,g0=a}function ya(t,r){let s=this||{};return function(){let a=arguments;function i(l,c){let u=Object.assign({},l),m=u.className||i.className;s.p=Object.assign({theme:p0&&p0()},u),s.o=/ *go\d+/.test(m),u.className=Jc.apply(s,a)+(m?" "+m:"");let h=t;return t[0]&&(h=u.as||t,delete u.as),g0&&h[0]&&g0(u),Uv(h,u)}return i}}var K5=t=>typeof t=="function",Dc=(t,r)=>K5(t)?t(r):t,G5=(()=>{let t=0;return()=>(++t).toString()})(),$v=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let r=matchMedia("(prefers-reduced-motion: reduce)");t=!r||r.matches}return t}})(),X5=20,mh="default",Vv=(t,r)=>{let{toastLimit:s}=t.settings;switch(r.type){case 0:return{...t,toasts:[r.toast,...t.toasts].slice(0,s)};case 1:return{...t,toasts:t.toasts.map(c=>c.id===r.toast.id?{...c,...r.toast}:c)};case 2:let{toast:a}=r;return Vv(t,{type:t.toasts.find(c=>c.id===a.id)?1:0,toast:a});case 3:let{toastId:i}=r;return{...t,toasts:t.toasts.map(c=>c.id===i||i===void 0?{...c,dismissed:!0,visible:!1}:c)};case 4:return r.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(c=>c.id!==r.toastId)};case 5:return{...t,pausedAt:r.time};case 6:let l=r.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(c=>({...c,pauseDuration:c.pauseDuration+l}))}}},xc=[],zv={toasts:[],pausedAt:void 0,settings:{toastLimit:X5}},ss={},Hv=(t,r=mh)=>{ss[r]=Vv(ss[r]||zv,t),xc.forEach(([s,a])=>{s===r&&a(ss[r])})},Wv=t=>Object.keys(ss).forEach(r=>Hv(t,r)),Q5=t=>Object.keys(ss).find(r=>ss[r].toasts.some(s=>s.id===t)),Zc=(t=mh)=>r=>{Hv(r,t)},J5={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Z5=(t={},r=mh)=>{let[s,a]=y.useState(ss[r]||zv),i=y.useRef(ss[r]);y.useEffect(()=>(i.current!==ss[r]&&a(ss[r]),xc.push([r,a]),()=>{let c=xc.findIndex(([u])=>u===r);c>-1&&xc.splice(c,1)}),[r]);let l=s.toasts.map(c=>{var u,m,h;return{...t,...t[c.type],...c,removeDelay:c.removeDelay||((u=t[c.type])==null?void 0:u.removeDelay)||(t==null?void 0:t.removeDelay),duration:c.duration||((m=t[c.type])==null?void 0:m.duration)||(t==null?void 0:t.duration)||J5[c.type],style:{...t.style,...(h=t[c.type])==null?void 0:h.style,...c.style}}});return{...s,toasts:l}},eS=(t,r="blank",s)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:r,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...s,id:(s==null?void 0:s.id)||G5()}),Ci=t=>(r,s)=>{let a=eS(r,t,s);return Zc(a.toasterId||Q5(a.id))({type:2,toast:a}),a.id},xe=(t,r)=>Ci("blank")(t,r);xe.error=Ci("error");xe.success=Ci("success");xe.loading=Ci("loading");xe.custom=Ci("custom");xe.dismiss=(t,r)=>{let s={type:3,toastId:t};r?Zc(r)(s):Wv(s)};xe.dismissAll=t=>xe.dismiss(void 0,t);xe.remove=(t,r)=>{let s={type:4,toastId:t};r?Zc(r)(s):Wv(s)};xe.removeAll=t=>xe.remove(void 0,t);xe.promise=(t,r,s)=>{let a=xe.loading(r.loading,{...s,...s==null?void 0:s.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let l=r.success?Dc(r.success,i):void 0;return l?xe.success(l,{id:a,...s,...s==null?void 0:s.success}):xe.dismiss(a),i}).catch(i=>{let l=r.error?Dc(r.error,i):void 0;l?xe.error(l,{id:a,...s,...s==null?void 0:s.error}):xe.dismiss(a)}),t};var tS=1e3,rS=(t,r="default")=>{let{toasts:s,pausedAt:a}=Z5(t,r),i=y.useRef(new Map).current,l=y.useCallback((g,x=tS)=>{if(i.has(g))return;let v=setTimeout(()=>{i.delete(g),c({type:4,toastId:g})},x);i.set(g,v)},[]);y.useEffect(()=>{if(a)return;let g=Date.now(),x=s.map(v=>{if(v.duration===1/0)return;let w=(v.duration||0)+v.pauseDuration-(g-v.createdAt);if(w<0){v.visible&&xe.dismiss(v.id);return}return setTimeout(()=>xe.dismiss(v.id,r),w)});return()=>{x.forEach(v=>v&&clearTimeout(v))}},[s,a,r]);let c=y.useCallback(Zc(r),[r]),u=y.useCallback(()=>{c({type:5,time:Date.now()})},[c]),m=y.useCallback((g,x)=>{c({type:1,toast:{id:g,height:x}})},[c]),h=y.useCallback(()=>{a&&c({type:6,time:Date.now()})},[a,c]),p=y.useCallback((g,x)=>{let{reverseOrder:v=!1,gutter:w=8,defaultPosition:S}=x||{},k=s.filter(j=>(j.position||S)===(g.position||S)&&j.height),E=k.findIndex(j=>j.id===g.id),C=k.filter((j,A)=>A<E&&j.visible).length;return k.filter(j=>j.visible).slice(...v?[C+1]:[0,C]).reduce((j,A)=>j+(A.height||0)+w,0)},[s]);return y.useEffect(()=>{s.forEach(g=>{if(g.dismissed)l(g.id,g.removeDelay);else{let x=i.get(g.id);x&&(clearTimeout(x),i.delete(g.id))}})},[s,l]),{toasts:s,handlers:{updateHeight:m,startPause:u,endPause:h,calculateOffset:p}}},sS=Ps`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,aS=Ps`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,nS=Ps`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,oS=ya("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${sS} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${aS} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${nS} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,iS=Ps`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,lS=ya("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${iS} 1s linear infinite;
`,cS=Ps`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,dS=Ps`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,uS=ya("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${cS} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${dS} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,mS=ya("div")`
  position: absolute;
`,hS=ya("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,fS=Ps`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,pS=ya("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${fS} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,gS=({toast:t})=>{let{icon:r,type:s,iconTheme:a}=t;return r!==void 0?typeof r=="string"?y.createElement(pS,null,r):r:s==="blank"?null:y.createElement(hS,null,y.createElement(lS,{...a}),s!=="loading"&&y.createElement(mS,null,s==="error"?y.createElement(oS,{...a}):y.createElement(uS,{...a})))},xS=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,yS=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,bS="0%{opacity:0;} 100%{opacity:1;}",vS="0%{opacity:1;} 100%{opacity:0;}",wS=ya("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,jS=ya("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,NS=(t,r)=>{let s=t.includes("top")?1:-1,[a,i]=$v()?[bS,vS]:[xS(s),yS(s)];return{animation:r?`${Ps(a)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ps(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},kS=y.memo(({toast:t,position:r,style:s,children:a})=>{let i=t.height?NS(t.position||r||"top-center",t.visible):{opacity:0},l=y.createElement(gS,{toast:t}),c=y.createElement(jS,{...t.ariaProps},Dc(t.message,t));return y.createElement(wS,{className:t.className,style:{...i,...s,...t.style}},typeof a=="function"?a({icon:l,message:c}):y.createElement(y.Fragment,null,l,c))});Y5(y.createElement);var SS=({id:t,className:r,style:s,onHeightUpdate:a,children:i})=>{let l=y.useCallback(c=>{if(c){let u=()=>{let m=c.getBoundingClientRect().height;a(t,m)};u(),new MutationObserver(u).observe(c,{subtree:!0,childList:!0,characterData:!0})}},[t,a]);return y.createElement("div",{ref:l,className:r,style:s},i)},CS=(t,r)=>{let s=t.includes("top"),a=s?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:$v()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${r*(s?1:-1)}px)`,...a,...i}},ES=Jc`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Xl=16,TS=({reverseOrder:t,position:r="top-center",toastOptions:s,gutter:a,children:i,toasterId:l,containerStyle:c,containerClassName:u})=>{let{toasts:m,handlers:h}=rS(s,l);return y.createElement("div",{"data-rht-toaster":l||"",style:{position:"fixed",zIndex:9999,top:Xl,left:Xl,right:Xl,bottom:Xl,pointerEvents:"none",...c},className:u,onMouseEnter:h.startPause,onMouseLeave:h.endPause},m.map(p=>{let g=p.position||r,x=h.calculateOffset(p,{reverseOrder:t,gutter:a,defaultPosition:r}),v=CS(g,x);return y.createElement(SS,{id:p.id,key:p.id,onHeightUpdate:h.updateHeight,className:p.visible?ES:"",style:v},p.type==="custom"?Dc(p.message,p):i?i(p):y.createElement(kS,{toast:p,position:g}))}))},Qe=xe;const AS=()=>{var J;const{user:t}=Fe(),[r,s]=y.useState([]),[a,i]=y.useState([]),[l,c]=y.useState(!0),[u,m]=y.useState(null),[h,p]=y.useState(!1),[g,x]=y.useState(null),v=new Date,[w,S]=y.useState(v.getMonth()+1),[k,E]=y.useState(v.getFullYear()),[C,j]=y.useState(!0),A=[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}],P=new Date().getFullYear(),F=Array.from({length:7},(H,K)=>P+1-K),T=y.useCallback(async()=>{try{c(!0);const H=await $t.getAll({populate:"createdBy assignedTo leadPerson assignedBy"});s(H.data.data||[]),m(null)}catch(H){console.error("Error fetching leads:",H),m("Failed to load leads. Please try again."),s([])}finally{c(!1)}},[t]);y.useEffect(()=>{T()},[T]),y.useEffect(()=>{if(r.length===0){i([]);return}let H;if(C){const K=new Date,I=K.getMonth()+1,G=K.getFullYear();H=r.filter(_=>{const M=new Date(_.createdAt);return M.getMonth()+1===I&&M.getFullYear()===G})}else H=r.filter(K=>{const I=new Date(K.createdAt);return I.getMonth()+1===w&&I.getFullYear()===k});H.sort((K,I)=>new Date(I.createdAt)-new Date(K.createdAt)),i(H)},[r,w,k,C]);const L=y.useCallback(async H=>{if(g){try{await as.logLeadUpdate(H._id,H)}catch(K){console.error("Error logging update:",K)}x(null),xe.success("Lead updated successfully!")}else{try{await as.logLeadCreate(H)}catch(K){console.error("Error logging create:",K)}p(!1),xe.success("Lead created successfully!")}T()},[g,T]),z=H=>{S(+H.target.value),j(!1)},q=H=>{E(+H.target.value),j(!1)},O=()=>{S(new Date().getMonth()+1),E(new Date().getFullYear()),j(!0)},B=H=>new Date(H).toLocaleDateString();y.useEffect(()=>{U5.init({duration:600,easing:"ease-in-out",once:!0})},[]);const U=H=>{x(H),p(!0)},R=async H=>{if(window.confirm("Are you sure you want to delete this lead?"))try{await $t.remove(H),await as.logLeadDelete(H),xe.success("Lead deleted successfully!"),T()}catch(K){console.error("Failed to delete:",K),xe.error("Failed to delete lead.")}},ee=H=>{switch(H){case"Converted":return"bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-100";case"Not Interested":return"bg-red-100 text-red-800 dark:bg-red-800 dark:text-red-100";case"Follow Up":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-800 dark:text-yellow-100";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-100"}};return e.jsx(Je,{children:e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800 min-h-screen pb-12",children:[e.jsx("div",{className:"bg-hero-light dark:bg-hero-dark p-6 pb-4 md:px-8 shadow-lg",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white",children:"Leads Management"}),e.jsxs("p",{className:"text-blue-100 text-sm md:text-base",children:[a.length," leads "," ",C?"Current Month":`${(J=A.find(H=>H.value===w))==null?void 0:J.label} ${k}`]})]}),((t==null?void 0:t.role)==="Lead Person"||(t==null?void 0:t.role)==="Manager"||(t==null?void 0:t.role)==="Admin")&&e.jsxs("button",{onClick:()=>{p(!0),x(null)},className:"mt-4 md:mt-0 px-6 py-2 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-800 dark:text-slate-100 rounded-lg flex items-center font-medium shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500",children:[e.jsx(Gc,{className:"h-4 w-4 mr-2"})," Add New Lead"]})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-900 shadow-md border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"px-4 md:px-8 py-3 flex flex-wrap gap-3 items-center",children:[e.jsx("select",{value:w,onChange:z,className:"px-3 py-2 rounded-md border text-sm bg-gray-50 dark:bg-slate-800 dark:border-slate-700 dark:text-white",children:A.map(H=>e.jsx("option",{value:H.value,children:H.label},H.value))}),e.jsx("select",{value:k,onChange:q,className:"px-3 py-2 rounded-md border text-sm bg-gray-50 dark:bg-slate-800 dark:border-slate-700 dark:text-white",children:F.map(H=>e.jsx("option",{value:H,children:H},H))}),e.jsx("button",{onClick:O,className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm hover:bg-blue-700 transition-colors",children:"Current Month"})]})}),e.jsxs("div",{className:"px-4 md:px-8 mt-6",children:[u&&e.jsx("div",{className:"mb-6 p-4 bg-red-50 text-red-700 rounded-lg border border-red-200",children:u}),l?e.jsx("div",{className:"p-6 flex justify-center",children:e.jsx(Jt,{})}):h||g?e.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-lg shadow-xl overflow-hidden p-6",children:[e.jsx(I5,{lead:g,onSuccess:L}),e.jsxs("button",{onClick:()=>{p(!1),x(null)},className:"mt-6 flex items-center text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-200 font-medium transition-colors",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Leads List"]})]}):a.length===0?e.jsx("div",{className:"p-6 text-center text-gray-500 bg-white dark:bg-slate-900 rounded-lg shadow-md",children:"No leads found for this period."}):e.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-lg shadow-xl overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full table-auto border-collapse text-sm",children:[e.jsx("thead",{className:"bg-black text-white uppercase text-xs tracking-wider",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-center font-semibold border border-gray-600",children:"Date"}),e.jsx("th",{className:"px-4 py-3 text-center font-semibold border border-gray-600",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-center font-semibold border border-gray-600",children:"Course"}),e.jsx("th",{className:"px-4 py-3 text-center font-semibold border border-gray-600",children:"Contact"}),e.jsx("th",{className:"px-4 py-3 text-center font-semibold border border-gray-600",children:"Country"}),e.jsx("th",{className:"px-4 py-3 text-center font-semibold border border-gray-600",children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-center font-semibold border border-gray-600",children:"Feedback"}),e.jsx("th",{className:"px-4 py-3 text-center font-semibold border border-gray-600",children:"Lead Person"}),e.jsx("th",{className:"px-4 py-3 text-center font-semibold border border-gray-600",children:"Assigned To"}),e.jsx("th",{className:"px-4 py-3 text-center font-semibold border border-gray-600",children:"Actions"})]})}),e.jsx("tbody",{children:a.map(H=>{var K,I,G,_,M,Z,X,V;return e.jsxs("tr",{className:"hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors",children:[e.jsx("td",{className:"px-4 py-3 text-center border border-gray-300 dark:border-gray-700 text-gray-700 dark:text-gray-300",children:B(H.createdAt)}),e.jsx("td",{className:"px-4 py-3 text-center border border-gray-300 dark:border-gray-700 font-medium text-gray-900 dark:text-white",children:H.name}),e.jsx("td",{className:"px-4 py-3 text-center border border-gray-300 dark:border-gray-700 text-gray-700 dark:text-gray-300",children:H.course}),e.jsxs("td",{className:"px-4 py-3 text-center border border-gray-300 dark:border-gray-700",children:[H.phone?e.jsxs("a",{href:`https://wa.me/${H.phone}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 font-semibold text-blue-600 dark:text-blue-400 hover:underline",children:[e.jsx(li,{className:"text-green-500 w-4 h-4"}),H.phone]}):e.jsx("span",{className:"block font-semibold text-gray-900 dark:text-white",children:"N/A"}),H.email?e.jsxs("a",{href:`https://mail.google.com/mail/?view=cm&fs=1&to=${H.email}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 text-xs text-blue-600 dark:text-blue-400 hover:underline mt-1",children:[e.jsx(ls,{className:"text-red-500 w-4 h-4"}),H.email]}):e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"N/A"})]}),e.jsx("td",{className:"px-4 py-3 text-center border border-gray-300 dark:border-gray-700 text-gray-700 dark:text-gray-300",children:H.country||"N/A"}),e.jsx("td",{className:"px-4 py-3 text-center border border-gray-300 dark:border-gray-700",children:e.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-semibold ${ee(H.status)}`,children:H.status||"Pending"})}),e.jsx("td",{className:"px-4 py-3 border border-gray-300 dark:border-gray-700 max-w-[200px] overflow-hidden truncate whitespace-normal text-sm text-gray-700 dark:text-gray-300",children:H.feedback||"N/A"}),e.jsx("td",{className:"px-4 py-3 text-center border border-gray-300 dark:border-gray-700 whitespace-nowrap truncate max-w-[150px] text-gray-700 dark:text-gray-300",children:((K=H.assignedBy)==null?void 0:K.fullName)||((I=H.assignedBy)==null?void 0:I.name)||((G=H.leadPerson)==null?void 0:G.fullName)||((_=H.leadPerson)==null?void 0:_.name)||((M=H.createdBy)==null?void 0:M.fullName)||((Z=H.createdBy)==null?void 0:Z.name)||"N/A"}),e.jsx("td",{className:"px-4 py-3 text-center border border-gray-300 dark:border-gray-700 whitespace-nowrap truncate max-w-[150px] text-blue-600 dark:text-blue-400",children:((X=H.assignedTo)==null?void 0:X.fullName)||((V=H.assignedTo)==null?void 0:V.name)||"Unassigned"}),e.jsx("td",{className:"px-4 py-3 text-center border border-gray-300 dark:border-gray-700",children:e.jsxs("div",{className:"flex justify-center space-x-2",children:[e.jsx("button",{onClick:()=>U(H),className:"text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-200 transition-colors p-1",children:e.jsx(hs,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>R(H._id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-200 transition-colors p-1",children:e.jsx(Qn,{className:"w-4 h-4"})})]})})]},H._id)})})]})})})]})]})})},PS=()=>{var le,te,pe;const{user:t}=Fe(),[r,s]=y.useState([]),[a,i]=y.useState([]),[l,c]=y.useState(!0),[u,m]=y.useState(null),[h,p]=y.useState({}),[g,x]=y.useState({}),[v,w]=y.useState(null),[S,k]=y.useState(0),[E,C]=y.useState({}),[j,A]=y.useState(new Date().getMonth()+1),[P,F]=y.useState(new Date().getFullYear()),[T,L]=y.useState(!0),[z,q]=y.useState({}),O=["New","Contacted","Qualified","Lost","Converted","Introduction","Acknowledgement","Question","Future Promise","Payment","Analysis"],B=[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}],U=new Date().getFullYear(),R=Array.from({length:6},(se,we)=>U-we);y.useEffect(()=>{J()},[t,S]),y.useEffect(()=>{r.length>0&&ee()},[r,j,P,T]);const ee=()=>{if(T){const se=new Date().getMonth()+1,we=new Date().getFullYear(),W=r.filter(ye=>{const Ae=new Date(ye.createdAt);return Ae.getMonth()+1===se&&Ae.getFullYear()===we});i(W)}else{const se=r.filter(we=>{const W=new Date(we.createdAt);return W.getMonth()+1===j&&W.getFullYear()===P});i(se)}},J=async()=>{try{c(!0),console.log("Fetching leads for sales person:",t==null?void 0:t.fullName);const se=await $t.getAssigned();if(console.log("Leads response:",se.data),se.data.success){s(se.data.data);const we={};se.data.data.forEach(W=>{we[W._id]=W.feedback||""}),p(we)}else m("Failed to load leads")}catch(se){console.error("Error fetching leads:",se),m("Failed to load leads. Please try again.")}finally{c(!1)}},H=(se,we)=>{p(W=>({...W,[se]:we})),C(W=>({...W,[se]:!0}))},K=async se=>{if(!(!se||!h[se]))try{x(W=>({...W,[se]:!0}));const we=await $t.updateFeedback(se,h[se]);we.data.success?(s(r.map(W=>W._id===se?we.data.data:W)),alert("Feedback updated successfully!"),C(W=>({...W,[se]:!1}))):m("Failed to update feedback")}catch(we){console.error("Error updating feedback:",we),m("Failed to update feedback. Please try again.")}finally{x(we=>({...we,[se]:!1}))}},I=async(se,we)=>{try{if(q(Pe=>({...Pe,[se]:!0})),m(null),!r.find(Pe=>Pe._id===se))return;const ye={status:we};console.log("Updating lead status:",se,we);const Ae=await $t.update(se,ye);Ae.data.success?(s(r.map(Pe=>Pe._id===se?Ae.data.data:Pe)),i(a.map(Pe=>Pe._id===se?Ae.data.data:Pe)),console.log("Lead status updated successfully"),p({...h,statusSuccess:`Status updated to "${we}" successfully!`,leadId:se}),setTimeout(()=>{p(Pe=>({...Pe,statusSuccess:null,leadId:null}))},3e3),k(Pe=>Pe+1)):(console.error("Failed to update lead status:",Ae.data),m("Failed to update lead status. Please try again."))}catch(W){console.error("Error updating lead status:",W),W.response&&W.response.status===403?m("You don't have permission to update this lead status. Contact your manager."):m("Failed to update lead status. Please try again.")}finally{q(W=>({...W,[se]:!1}))}},G=se=>{A(parseInt(se.target.value)),L(!1)},_=se=>{F(parseInt(se.target.value)),L(!1)},M=()=>{A(new Date().getMonth()+1),F(new Date().getFullYear()),L(!0)},Z=se=>new Date(se).toLocaleDateString(),X=se=>{w(se)},V=()=>{w(null)},de=(se,we)=>{if(!se)return;const ye=`https://wa.me/${`${we||"+91"}${se.replace(/\D/g,"")}`.replace(/\+/g,"")}`;window.open(ye,"_blank")},ue=se=>{se&&(window.location.href=`mailto:${se}`)};return e.jsx(Je,{children:e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800 min-h-screen pb-12",children:[e.jsx("div",{className:"bg-hero-light dark:bg-hero-dark p-6 pb-4 md:px-8 shadow-lg",children:e.jsx("div",{className:"flex flex-col md:flex-row justify-between items-center",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white",children:"My Assigned Leads"}),e.jsxs("p",{className:"text-blue-100 text-sm md:text-base",children:[a.length," leads "," ",T?"Current Month":`${(le=B.find(se=>se.value===j))==null?void 0:le.label} ${P}`]})]})})}),e.jsx("div",{className:"bg-white dark:bg-slate-900 shadow-md border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"px-4 md:px-8 py-3 flex flex-wrap gap-3 items-center",children:[e.jsx("select",{value:j,onChange:G,className:"px-3 py-2 rounded-md border text-sm bg-gray-50 dark:bg-slate-800 dark:border-slate-700 dark:text-white",disabled:T,children:B.map(se=>e.jsx("option",{value:se.value,children:se.label},se.value))}),e.jsx("select",{value:P,onChange:_,className:"px-3 py-2 rounded-md border text-sm bg-gray-50 dark:bg-slate-800 dark:border-slate-700 dark:text-white",disabled:T,children:R.map(se=>e.jsx("option",{value:se,children:se},se))}),e.jsxs("label",{className:"flex items-center text-sm",children:[e.jsx("input",{type:"checkbox",checked:T,onChange:()=>L(!T),className:"mr-2"}),"Current Month"]}),e.jsx("button",{onClick:M,className:"px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm",children:"Reset"})]})}),u&&e.jsxs("div",{className:"mx-4 md:mx-8 mt-4 p-3 bg-red-50 text-red-700 border border-red-200 rounded-md flex justify-between items-center",children:[e.jsx("div",{className:"flex-1",children:u}),e.jsx("button",{onClick:()=>m(null),className:"text-red-700 hover:text-red-900",children:""})]}),l?e.jsxs("div",{className:"text-center py-10",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"}),e.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-500",children:"Loading your assigned leads..."})]}):r.length===0?e.jsx("div",{className:"text-center py-10 bg-gray-50 dark:bg-slate-800 transition-all duration-200 ease-out rounded-lg mx-4 md:mx-8 mt-4",children:e.jsx("p",{className:"text-gray-600 dark:text-gray-500",children:"No leads assigned to you yet."})}):e.jsx(e.Fragment,{children:e.jsx("div",{className:"px-4 md:px-8 mt-6",children:e.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-lg shadow-xl overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full table-auto border-collapse text-sm",children:[e.jsx("thead",{className:"bg-black text-white uppercase text-xs tracking-wider",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-center font-semibold border border-gray-600",children:"Date"}),e.jsx("th",{className:"px-4 py-3 text-center font-semibold border border-gray-600",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-center font-semibold border border-gray-600",children:"Lead Person"}),e.jsx("th",{className:"px-4 py-3 text-center font-semibold border border-gray-600",children:"Course"}),e.jsx("th",{className:"px-4 py-3 text-center font-semibold border border-gray-600",children:"Contact"}),e.jsx("th",{className:"px-4 py-3 text-center font-semibold border border-gray-600",children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-center font-semibold border border-gray-600",children:"Feedback"}),e.jsx("th",{className:"px-4 py-3 text-center font-semibold border border-gray-600",children:"Actions"})]})}),e.jsx("tbody",{children:a.map(se=>{var we,W;return e.jsxs("tr",{className:"hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors",children:[e.jsx("td",{className:"px-4 py-3 text-center border border-gray-300 dark:border-gray-700 text-gray-700 dark:text-gray-300",children:Z(se.createdAt)}),e.jsx("td",{className:"px-4 py-3 text-center border border-gray-300 dark:border-gray-700 font-medium text-gray-900 dark:text-white",children:se.name}),e.jsx("td",{className:"px-4 py-3 text-center border border-gray-300 dark:border-gray-700 text-gray-700 dark:text-gray-300",children:((we=se.assignedBy)==null?void 0:we.fullName)||se.assignedByName||((W=se.createdBy)==null?void 0:W.fullName)||"N/A"}),e.jsx("td",{className:"px-4 py-3 text-center border border-gray-300 dark:border-gray-700 text-gray-700 dark:text-gray-300",children:se.course}),e.jsxs("td",{className:"px-4 py-3 text-center border border-gray-300 dark:border-gray-700",children:[se.phone?e.jsxs("a",{href:`https://wa.me/${se.phone}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 font-semibold text-blue-600 dark:text-blue-400 hover:underline",children:[e.jsx(li,{className:"text-green-500 w-4 h-4"}),se.phone]}):e.jsx("span",{className:"block font-semibold text-gray-900 dark:text-white",children:"N/A"}),se.email?e.jsxs("a",{href:`https://mail.google.com/mail/?view=cm&fs=1&to=${se.email}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 text-xs text-blue-600 dark:text-blue-400 hover:underline mt-1",children:[e.jsx(ls,{className:"text-red-500 w-4 h-4"}),se.email]}):null]}),e.jsx("td",{className:"px-4 py-3 text-center border border-gray-300 dark:border-gray-700",children:e.jsxs("div",{className:"relative",children:[e.jsx("select",{value:se.status,onChange:ye=>I(se._id,ye.target.value),disabled:z[se._id],className:`text-sm px-2 py-1 rounded ${se.status==="New"?"bg-blue-100 text-blue-800":se.status==="Contacted"?"bg-teal-100 text-teal-800":se.status==="Qualified"?"bg-indigo-100 text-indigo-800":se.status==="Lost"?"bg-red-100 text-red-800":se.status==="Converted"?"bg-green-100 text-green-800":se.status==="Introduction"?"bg-purple-100 text-purple-800":se.status==="Acknowledgement"?"bg-yellow-100 text-yellow-800":se.status==="Question"?"bg-indigo-100 text-indigo-800":se.status==="Future Promise"?"bg-cyan-100 text-cyan-800":se.status==="Payment"?"bg-green-100 text-green-800":se.status==="Analysis"?"bg-red-100 text-red-800":"bg-gray-100 dark:bg-slate-700 text-gray-800 dark:text-gray-200"} border border-transparent focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 focus:border-blue-500 dark:focus:border-blue-400 appearance-none cursor-pointer w-full pr-8`,children:O.map(ye=>e.jsx("option",{value:ye,children:ye},ye))}),z[se._id]&&e.jsx("div",{className:"absolute top-1/2 right-8 transform -translate-y-1/2",children:e.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-blue-500 rounded-full border-t-transparent"})}),h.statusSuccess&&h.leadId===se._id&&e.jsx("div",{className:"absolute top-full left-0 mt-1 bg-green-100 text-green-800 text-xs px-2 py-1 rounded whitespace-normal w-48 z-10",children:h.statusSuccess})]})}),e.jsx("td",{className:"px-4 py-3 text-center border border-gray-300 dark:border-gray-700",children:e.jsxs("div",{className:"relative",children:[e.jsx("textarea",{value:h[se._id]||"",onChange:ye=>H(se._id,ye.target.value),placeholder:"Add feedback...",className:"text-sm w-full h-16 p-2 border border-gray-300 dark:border-gray-600 rounded-md resize-none"}),E[se._id]&&e.jsx("button",{onClick:()=>K(se._id),disabled:g[se._id],className:`mt-1 px-3 py-1 text-xs rounded ${g[se._id]?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:g[se._id]?"Saving...":"Save"})]})}),e.jsx("td",{className:"px-4 py-3 text-center border border-gray-300 dark:border-gray-700",children:e.jsx("button",{onClick:()=>X(se),className:"text-blue-600 hover:text-blue-900 font-medium",children:"View Details"})})]},se._id)})})]})})})})}),v&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:e.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out rounded-lg p-6 w-full max-w-3xl max-h-[90vh] overflow-y-auto shadow-lg dark:shadow-black/40",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6 border-b border-slate-200 dark:border-slate-700 pb-3",children:[e.jsx("h3",{className:"text-2xl font-semibold text-slate-900 dark:text-slate-100",children:"Lead Details"}),e.jsx("button",{onClick:V,className:"text-gray-400 dark:text-slate-400 hover:text-slate-500 text-2xl",children:""})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg bg-gray-50 dark:bg-slate-800",children:[e.jsx("span",{className:"text-sm font-medium text-slate-500 dark:text-gray-400",children:"Name:"}),e.jsx("span",{className:"font-semibold",children:v.name})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg bg-gray-50 dark:bg-slate-800",children:[e.jsx("span",{className:"text-sm font-medium text-slate-500 dark:text-gray-400",children:"Email:"}),e.jsxs("button",{onClick:()=>ue(v.email),className:"text-blue-600 hover:text-blue-800 flex items-center font-semibold",children:[e.jsx(ls,{className:"mr-1"})," ",v.email]})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg bg-gray-50 dark:bg-slate-800",children:[e.jsx("span",{className:"text-sm font-medium text-slate-500 dark:text-gray-400",children:"Phone:"}),e.jsxs("button",{onClick:()=>de(v.phone,v.countryCode),className:"text-green-600 hover:text-green-800 flex items-center font-semibold",children:[e.jsx(li,{className:"mr-1"})," ",v.countryCode||"+91"," ",v.phone]})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg bg-gray-50 dark:bg-slate-800",children:[e.jsx("span",{className:"text-sm font-medium text-slate-500 dark:text-gray-400",children:"Course:"}),e.jsx("span",{className:"font-semibold",children:v.course})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg bg-gray-50 dark:bg-slate-800",children:[e.jsx("span",{className:"text-sm font-medium text-slate-500 dark:text-gray-400",children:"Lead Person:"}),e.jsx("span",{className:"font-semibold",children:((te=v.assignedBy)==null?void 0:te.fullName)||v.assignedByName||((pe=v.createdBy)==null?void 0:pe.fullName)||"N/A"})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg bg-gray-50 dark:bg-slate-800 relative",children:[e.jsx("span",{className:"text-sm font-medium text-slate-500 dark:text-gray-400",children:"Status:"}),e.jsx("select",{value:v.status,onChange:se=>{I(v._id,se.target.value),w({...v,status:se.target.value})},className:`px-3 py-1 rounded-md font-semibold cursor-pointer ${v.status==="New"?"bg-blue-100 text-blue-800":v.status==="Contacted"?"bg-teal-100 text-teal-800":v.status==="Qualified"?"bg-indigo-100 text-indigo-800":v.status==="Lost"?"bg-red-100 text-red-800":v.status==="Converted"?"bg-green-100 text-green-800":v.status==="Introduction"?"bg-purple-100 text-purple-800":v.status==="Acknowledgement"?"bg-yellow-100 text-yellow-800":v.status==="Question"?"bg-indigo-100 text-indigo-800":v.status==="Future Promise"?"bg-cyan-100 text-cyan-800":v.status==="Payment"?"bg-green-100 text-green-800":v.status==="Analysis"?"bg-red-100 text-red-800":"bg-gray-100 dark:bg-slate-700 text-gray-800 dark:text-gray-200"}`,children:O.map(se=>e.jsx("option",{value:se,children:se},se))}),z[v._id]&&e.jsx("div",{className:"absolute right-3 animate-spin h-4 w-4 border-2 border-blue-500 rounded-full border-t-transparent"}),h.statusSuccess&&h.leadId===v._id&&e.jsx("div",{className:"absolute top-full right-0 mt-1 bg-green-100 text-green-800 text-xs px-2 py-1 rounded",children:h.statusSuccess})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg bg-gray-50 dark:bg-slate-800",children:[e.jsx("span",{className:"text-sm font-medium text-slate-500 dark:text-gray-400",children:"Created At:"}),e.jsx("span",{className:"font-semibold",children:Z(v.createdAt)})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg bg-gray-50 dark:bg-slate-800",children:[e.jsx("span",{className:"text-sm font-medium text-slate-500 dark:text-gray-400",children:"Country:"}),e.jsx("span",{className:"font-semibold",children:v.country||"N/A"})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg bg-gray-50 dark:bg-slate-800",children:[e.jsx("span",{className:"text-sm font-medium text-slate-500 dark:text-gray-400",children:"Company:"}),e.jsx("span",{className:"font-semibold",children:v.company||"N/A"})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg bg-gray-50 dark:bg-slate-800",children:[e.jsx("span",{className:"text-sm font-medium text-slate-500 dark:text-gray-400",children:"Client:"}),e.jsx("span",{className:"font-semibold",children:v.client||"N/A"})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg bg-gray-50 dark:bg-slate-800",children:[e.jsx("span",{className:"text-sm font-medium text-slate-500 dark:text-gray-400",children:"Pseudo ID:"}),e.jsx("span",{className:"font-semibold",children:v.pseudoId||"N/A"})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg bg-gray-50 dark:bg-slate-800",children:[e.jsx("span",{className:"text-sm font-medium text-slate-500 dark:text-gray-400",children:"Source:"}),e.jsx("span",{className:"font-semibold",children:v.source||"N/A"})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg bg-gray-50 dark:bg-slate-800",children:[e.jsx("span",{className:"text-sm font-medium text-slate-500 dark:text-gray-400",children:"LinkedIn:"}),v.sourceLink?e.jsx("a",{href:v.sourceLink.startsWith("http")?v.sourceLink:`https://${v.sourceLink}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline font-semibold",children:v.sourceLink}):e.jsx("span",{className:"font-semibold",children:"N/A"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-gray-400 mb-1",children:"Remarks"}),e.jsx("div",{className:"p-3 rounded-lg bg-gray-50 dark:bg-slate-800 text-base",children:v.remarks||"No remarks available"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-gray-400 mb-1",children:"Feedback"}),e.jsx("textarea",{value:h[v._id]||"",onChange:se=>H(v._id,se.target.value),placeholder:"Add feedback...",rows:3,className:"w-full p-2 rounded-md bg-gray-50 dark:bg-slate-800 border border-slate-300 dark:border-slate-600 focus:border-blue-500 focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 resize-none text-sm"}),e.jsx("button",{onClick:()=>K(v._id),disabled:g[v._id]||!h[v._id],className:`mt-3 px-4 py-2 rounded-md ${g[v._id]||!h[v._id]?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:g[v._id]?"Saving...":"Save Feedback"})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:V,className:"px-5 py-2 border border-slate-300 dark:border-slate-600 rounded-md text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700",children:"Close"})})]})})]})})},DS=()=>{const[t,r]=y.useState(!1),[s,a]=y.useState(null),[i,l]=y.useState([]),[c,u]=y.useState({}),[m,h]=y.useState({date:new Date().toISOString().split("T")[0],customerName:"",country:"",course:"",countryCode:"",contactNumber:"",email:"",pseudoId:"",leadPerson:"",source:"",clientRemark:"",feedback:"",totalCost:0,totalCostCurrency:"USD",tokenAmount:0,tokenAmountCurrency:"USD"}),{user:p}=Fe();y.useEffect(()=>{g(),x()},[]);const g=async()=>{try{const k=await Et.getUsers("Lead Person");k.data.success?l(k.data.data||[]):Qe.error("Failed to load lead persons")}catch(k){console.error("Error loading lead persons:",k),Qe.error("Failed to load lead persons")}},x=async()=>{try{const k=await hv.getRates();k.data.success&&u(k.data.rates||{})}catch(k){console.error("Error loading currency rates:",k)}},v=k=>{const{name:E,value:C}=k.target;h(j=>({...j,[E]:C}))},w=(k,E)=>{h(C=>({...C,[`${k}Currency`]:E}))},S=async k=>{var E,C,j,A;k.preventDefault(),r(!0),a(null);try{if(!m.leadPerson)throw new Error("Please select a Lead Person");if(!p)throw new Error("User information not available. Please log in again.");const P={date:m.date,customerName:m.customerName,country:m.country,course:m.course,countryCode:m.countryCode,contactNumber:m.contactNumber,email:m.email,pseudoId:m.pseudoId,totalCost:parseFloat(m.totalCost),totalCostCurrency:m.totalCostCurrency,tokenAmount:parseFloat(m.tokenAmount),tokenAmountCurrency:m.tokenAmountCurrency,source:m.source,clientRemark:m.clientRemark,feedback:m.feedback};(await Vn.createSaleWithLeadPerson(P,m.leadPerson)).data.success&&(Qe.success("Sale created successfully! This sale will appear on the lead person's dashboard."),h({date:new Date().toISOString().split("T")[0],customerName:"",country:"",course:"",countryCode:"",contactNumber:"",email:"",pseudoId:"",leadPerson:"",source:"",clientRemark:"",feedback:"",totalCost:0,totalCostCurrency:"USD",tokenAmount:0,tokenAmountCurrency:"USD"}))}catch(P){console.error("Error creating sale:",P),a(((C=(E=P.response)==null?void 0:E.data)==null?void 0:C.message)||P.message||"Failed to create sale"),Qe.error(((A=(j=P.response)==null?void 0:j.data)==null?void 0:A.message)||P.message||"Failed to create sale")}finally{r(!1)}};return e.jsx(Je,{children:e.jsxs("div",{className:"container mx-auto p-4",children:[e.jsx("div",{className:"flex justify-between items-center mb-6",children:e.jsx("h1",{className:"text-2xl font-bold",children:"Create Sale for Lead Person"})}),s&&e.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",children:s}),e.jsx("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out shadow-md dark:shadow-2xl rounded-lg p-6 mb-6 shadow-sm",children:e.jsxs("form",{onSubmit:S,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Date"}),e.jsx("input",{type:"date",name:"date",value:m.date,onChange:v,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Customer Name"}),e.jsx("input",{type:"text",name:"customerName",value:m.customerName,onChange:v,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Country"}),e.jsx("input",{type:"text",name:"country",value:m.country,onChange:v,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Course"}),e.jsx("input",{type:"text",name:"course",value:m.course,onChange:v,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Country Code"}),e.jsx("input",{type:"text",name:"countryCode",value:m.countryCode,onChange:v,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md",placeholder:"e.g. +1, +91"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Phone Number"}),e.jsx("input",{type:"text",name:"contactNumber",value:m.contactNumber,onChange:v,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Email"}),e.jsx("input",{type:"email",name:"email",value:m.email,onChange:v,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Pseudo ID"}),e.jsx("input",{type:"text",name:"pseudoId",value:m.pseudoId,onChange:v,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Lead Person"}),e.jsxs("select",{name:"leadPerson",value:m.leadPerson,onChange:v,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md",required:!0,children:[e.jsx("option",{value:"",children:"Select Lead Person"}),i.map(k=>e.jsx("option",{value:k._id,children:k.fullName},k._id))]}),e.jsx("p",{className:"mt-1 text-xs text-slate-500 dark:text-gray-400",children:"The lead person will see this sale on their dashboard"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Source"}),e.jsx("input",{type:"text",name:"source",value:m.source,onChange:v,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Total Cost"}),e.jsxs("div",{className:"flex",children:[e.jsx("input",{type:"number",name:"totalCost",value:m.totalCost,onChange:v,className:"w-2/3 p-2 border border-slate-300 dark:border-slate-600 rounded-l-md",required:!0}),e.jsxs("select",{name:"totalCostCurrency",value:m.totalCostCurrency,onChange:k=>w("totalCost",k.target.value),className:"w-1/3 p-2 border border-slate-300 dark:border-slate-600 rounded-r-md",children:[e.jsx("option",{value:"USD",children:"USD"}),e.jsx("option",{value:"EUR",children:"EUR"}),e.jsx("option",{value:"GBP",children:"GBP"}),e.jsx("option",{value:"INR",children:"INR"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Token Amount"}),e.jsxs("div",{className:"flex",children:[e.jsx("input",{type:"number",name:"tokenAmount",value:m.tokenAmount,onChange:v,className:"w-2/3 p-2 border border-slate-300 dark:border-slate-600 rounded-l-md",required:!0}),e.jsxs("select",{name:"tokenAmountCurrency",value:m.tokenAmountCurrency,onChange:k=>w("tokenAmount",k.target.value),className:"w-1/3 p-2 border border-slate-300 dark:border-slate-600 rounded-r-md",children:[e.jsx("option",{value:"USD",children:"USD"}),e.jsx("option",{value:"EUR",children:"EUR"}),e.jsx("option",{value:"GBP",children:"GBP"}),e.jsx("option",{value:"INR",children:"INR"})]})]})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Client Remark"}),e.jsx("textarea",{name:"clientRemark",value:m.clientRemark,onChange:v,rows:"2",className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Feedback"}),e.jsx("textarea",{name:"feedback",value:m.feedback,onChange:v,rows:"2",className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md"})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx("button",{type:"submit",disabled:t,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 shadow-sm dark:shadow-xl hover:shadow-md transition-all duration-200 text-white rounded-md disabled:bg-blue-300 flex items-center",children:t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin mr-2 h-4 w-4 border-2 border-white rounded-full border-t-transparent"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(wv,{className:"mr-2"})," Create Sale for Lead Person"]})})})]})}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 text-blue-700 p-4 rounded-md mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-2",children:"How This Works"}),e.jsx("p",{className:"mb-2",children:"When you create a sale using this form and select a Lead Person, the sale will:"}),e.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[e.jsx("li",{children:"Be credited to you as the Sales Person"}),e.jsx("li",{children:"Appear on the Lead Person's dashboard"}),e.jsx("li",{children:"Allow the Lead Person to track your sales progress"}),e.jsx("li",{children:"Create transparency and collaboration between Sales and Lead teams"})]})]})]})})},Kt={getAll:()=>ce.get("/employees"),getById:t=>ce.get(`/employees/${t}`),getByUserId:t=>ce.get(`/employees/user/${t}`),create:t=>{if(!(t instanceof FormData)){const r=new FormData;r.append("employee",JSON.stringify(t)),t=r}return ce.post("/employees",t,{headers:{"Content-Type":"multipart/form-data"}})},update:(t,r)=>r instanceof FormData?ce.put(`/employees/${t}`,r,{headers:{"Content-Type":"multipart/form-data"}}):ce.put(`/employees/${t}`,r),delete:t=>ce.delete(`/employees/${t}`),getDepartments:()=>ce.get("/employees/departments"),getRoles:()=>ce.get("/employees/roles"),uploadDocument:(t,r,s)=>{const a=new FormData;return a.append("document",s),ce.post(`/employees/${t}/documents/${r}`,a,{headers:{"Content-Type":"multipart/form-data"}})},getDocument:t=>ce.get(`/employees/documents/${t}`,{responseType:"blob"})};var MS=Object.defineProperty,RS=(t,r,s)=>r in t?MS(t,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[r]=s,ot=(t,r,s)=>RS(t,typeof r!="symbol"?r+"":r,s);const Mc={x:0,y:0,width:0,height:0,unit:"px"},Cn=(t,r,s)=>Math.min(Math.max(t,r),s),LS=(...t)=>t.filter(r=>r&&typeof r=="string").join(" "),Lx=(t,r)=>t===r||t.width===r.width&&t.height===r.height&&t.x===r.x&&t.y===r.y&&t.unit===r.unit;function IS(t,r,s,a){const i=es(t,s,a);return t.width&&(i.height=i.width/r),t.height&&(i.width=i.height*r),i.y+i.height>a&&(i.height=a-i.y,i.width=i.height*r),i.x+i.width>s&&(i.width=s-i.x,i.height=i.width/r),t.unit==="%"?oa(i,s,a):i}function _S(t,r,s){const a=es(t,r,s);return a.x=(r-a.width)/2,a.y=(s-a.height)/2,t.unit==="%"?oa(a,r,s):a}function oa(t,r,s){return t.unit==="%"?{...Mc,...t,unit:"%"}:{unit:"%",x:t.x?t.x/r*100:0,y:t.y?t.y/s*100:0,width:t.width?t.width/r*100:0,height:t.height?t.height/s*100:0}}function es(t,r,s){return t.unit?t.unit==="px"?{...Mc,...t,unit:"px"}:{unit:"px",x:t.x?t.x*r/100:0,y:t.y?t.y*s/100:0,width:t.width?t.width*r/100:0,height:t.height?t.height*s/100:0}:{...Mc,...t,unit:"px"}}function Ix(t,r,s,a,i,l=0,c=0,u=a,m=i){const h={...t};let p=Math.min(l,a),g=Math.min(c,i),x=Math.min(u,a),v=Math.min(m,i);r&&(r>1?(p=c?c*r:p,g=p/r,x=u*r):(g=l?l/r:g,p=g*r,v=m/r)),h.y<0&&(h.height=Math.max(h.height+h.y,g),h.y=0),h.x<0&&(h.width=Math.max(h.width+h.x,p),h.x=0);const w=a-(h.x+h.width);w<0&&(h.x=Math.min(h.x,a-p),h.width+=w);const S=i-(h.y+h.height);if(S<0&&(h.y=Math.min(h.y,i-g),h.height+=S),h.width<p&&((s==="sw"||s=="nw")&&(h.x-=p-h.width),h.width=p),h.height<g&&((s==="nw"||s=="ne")&&(h.y-=g-h.height),h.height=g),h.width>x&&((s==="sw"||s=="nw")&&(h.x-=x-h.width),h.width=x),h.height>v&&((s==="nw"||s=="ne")&&(h.y-=v-h.height),h.height=v),r){const k=h.width/h.height;if(k<r){const E=Math.max(h.width/r,g);(s==="nw"||s=="ne")&&(h.y-=E-h.height),h.height=E}else if(k>r){const E=Math.max(h.height*r,p);(s==="sw"||s=="nw")&&(h.x-=E-h.width),h.width=E}}return h}function OS(t,r,s,a){const i={...t};return r==="ArrowLeft"?a==="nw"?(i.x-=s,i.y-=s,i.width+=s,i.height+=s):a==="w"?(i.x-=s,i.width+=s):a==="sw"?(i.x-=s,i.width+=s,i.height+=s):a==="ne"?(i.y+=s,i.width-=s,i.height-=s):a==="e"?i.width-=s:a==="se"&&(i.width-=s,i.height-=s):r==="ArrowRight"&&(a==="nw"?(i.x+=s,i.y+=s,i.width-=s,i.height-=s):a==="w"?(i.x+=s,i.width-=s):a==="sw"?(i.x+=s,i.width-=s,i.height-=s):a==="ne"?(i.y-=s,i.width+=s,i.height+=s):a==="e"?i.width+=s:a==="se"&&(i.width+=s,i.height+=s)),r==="ArrowUp"?a==="nw"?(i.x-=s,i.y-=s,i.width+=s,i.height+=s):a==="n"?(i.y-=s,i.height+=s):a==="ne"?(i.y-=s,i.width+=s,i.height+=s):a==="sw"?(i.x+=s,i.width-=s,i.height-=s):a==="s"?i.height-=s:a==="se"&&(i.width-=s,i.height-=s):r==="ArrowDown"&&(a==="nw"?(i.x+=s,i.y+=s,i.width-=s,i.height-=s):a==="n"?(i.y+=s,i.height-=s):a==="ne"?(i.y+=s,i.width-=s,i.height-=s):a==="sw"?(i.x-=s,i.width+=s,i.height+=s):a==="s"?i.height+=s:a==="se"&&(i.width+=s,i.height+=s)),i}const En={capture:!0,passive:!1};let FS=0;const La=class Vr extends y.PureComponent{constructor(){super(...arguments),ot(this,"docMoveBound",!1),ot(this,"mouseDownOnCrop",!1),ot(this,"dragStarted",!1),ot(this,"evData",{startClientX:0,startClientY:0,startCropX:0,startCropY:0,clientX:0,clientY:0,isResize:!0}),ot(this,"componentRef",y.createRef()),ot(this,"mediaRef",y.createRef()),ot(this,"resizeObserver"),ot(this,"initChangeCalled",!1),ot(this,"instanceId",`rc-${FS++}`),ot(this,"state",{cropIsActive:!1,newCropIsBeingDrawn:!1}),ot(this,"onCropPointerDown",r=>{const{crop:s,disabled:a}=this.props,i=this.getBox();if(!s)return;const l=es(s,i.width,i.height);if(a)return;r.cancelable&&r.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const c=r.target.dataset.ord,u=!!c;let m=r.clientX,h=r.clientY,p=l.x,g=l.y;if(c){const x=r.clientX-i.x,v=r.clientY-i.y;let w=0,S=0;c==="ne"||c=="e"?(w=x-(l.x+l.width),S=v-l.y,p=l.x,g=l.y+l.height):c==="se"||c==="s"?(w=x-(l.x+l.width),S=v-(l.y+l.height),p=l.x,g=l.y):c==="sw"||c=="w"?(w=x-l.x,S=v-(l.y+l.height),p=l.x+l.width,g=l.y):(c==="nw"||c=="n")&&(w=x-l.x,S=v-l.y,p=l.x+l.width,g=l.y+l.height),m=p+i.x+w,h=g+i.y+S}this.evData={startClientX:m,startClientY:h,startCropX:p,startCropY:g,clientX:r.clientX,clientY:r.clientY,isResize:u,ord:c},this.mouseDownOnCrop=!0,this.setState({cropIsActive:!0})}),ot(this,"onComponentPointerDown",r=>{const{crop:s,disabled:a,locked:i,keepSelection:l,onChange:c}=this.props,u=this.getBox();if(a||i||l&&s)return;r.cancelable&&r.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const m=r.clientX-u.x,h=r.clientY-u.y,p={unit:"px",x:m,y:h,width:0,height:0};this.evData={startClientX:r.clientX,startClientY:r.clientY,startCropX:m,startCropY:h,clientX:r.clientX,clientY:r.clientY,isResize:!0},this.mouseDownOnCrop=!0,c(es(p,u.width,u.height),oa(p,u.width,u.height)),this.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})}),ot(this,"onDocPointerMove",r=>{const{crop:s,disabled:a,onChange:i,onDragStart:l}=this.props,c=this.getBox();if(a||!s||!this.mouseDownOnCrop)return;r.cancelable&&r.preventDefault(),this.dragStarted||(this.dragStarted=!0,l&&l(r));const{evData:u}=this;u.clientX=r.clientX,u.clientY=r.clientY;let m;u.isResize?m=this.resizeCrop():m=this.dragCrop(),Lx(s,m)||i(es(m,c.width,c.height),oa(m,c.width,c.height))}),ot(this,"onComponentKeyDown",r=>{const{crop:s,disabled:a,onChange:i,onComplete:l}=this.props;if(a)return;const c=r.key;let u=!1;if(!s)return;const m=this.getBox(),h=this.makePixelCrop(m),p=(navigator.platform.match("Mac")?r.metaKey:r.ctrlKey)?Vr.nudgeStepLarge:r.shiftKey?Vr.nudgeStepMedium:Vr.nudgeStep;if(c==="ArrowLeft"?(h.x-=p,u=!0):c==="ArrowRight"?(h.x+=p,u=!0):c==="ArrowUp"?(h.y-=p,u=!0):c==="ArrowDown"&&(h.y+=p,u=!0),u){r.cancelable&&r.preventDefault(),h.x=Cn(h.x,0,m.width-h.width),h.y=Cn(h.y,0,m.height-h.height);const g=es(h,m.width,m.height),x=oa(h,m.width,m.height);i(g,x),l&&l(g,x)}}),ot(this,"onHandlerKeyDown",(r,s)=>{const{aspect:a=0,crop:i,disabled:l,minWidth:c=0,minHeight:u=0,maxWidth:m,maxHeight:h,onChange:p,onComplete:g}=this.props,x=this.getBox();if(l||!i)return;if(r.key==="ArrowUp"||r.key==="ArrowDown"||r.key==="ArrowLeft"||r.key==="ArrowRight")r.stopPropagation(),r.preventDefault();else return;const v=(navigator.platform.match("Mac")?r.metaKey:r.ctrlKey)?Vr.nudgeStepLarge:r.shiftKey?Vr.nudgeStepMedium:Vr.nudgeStep,w=es(i,x.width,x.height),S=OS(w,r.key,v,s),k=Ix(S,a,s,x.width,x.height,c,u,m,h);if(!Lx(i,k)){const E=oa(k,x.width,x.height);p(k,E),g&&g(k,E)}}),ot(this,"onDocPointerDone",r=>{const{crop:s,disabled:a,onComplete:i,onDragEnd:l}=this.props,c=this.getBox();this.unbindDocMove(),!(a||!s)&&this.mouseDownOnCrop&&(this.mouseDownOnCrop=!1,this.dragStarted=!1,l&&l(r),i&&i(es(s,c.width,c.height),oa(s,c.width,c.height)),this.setState({cropIsActive:!1,newCropIsBeingDrawn:!1}))}),ot(this,"onDragFocus",()=>{var r;(r=this.componentRef.current)==null||r.scrollTo(0,0)})}get document(){return document}getBox(){const r=this.mediaRef.current;if(!r)return{x:0,y:0,width:0,height:0};const{x:s,y:a,width:i,height:l}=r.getBoundingClientRect();return{x:s,y:a,width:i,height:l}}componentDidUpdate(r){const{crop:s,onComplete:a}=this.props;if(a&&!r.crop&&s){const{width:i,height:l}=this.getBox();i&&l&&a(es(s,i,l),oa(s,i,l))}}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect(),this.unbindDocMove()}bindDocMove(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,En),this.document.addEventListener("pointerup",this.onDocPointerDone,En),this.document.addEventListener("pointercancel",this.onDocPointerDone,En),this.docMoveBound=!0)}unbindDocMove(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,En),this.document.removeEventListener("pointerup",this.onDocPointerDone,En),this.document.removeEventListener("pointercancel",this.onDocPointerDone,En),this.docMoveBound=!1)}getCropStyle(){const{crop:r}=this.props;if(r)return{top:`${r.y}${r.unit}`,left:`${r.x}${r.unit}`,width:`${r.width}${r.unit}`,height:`${r.height}${r.unit}`}}dragCrop(){const{evData:r}=this,s=this.getBox(),a=this.makePixelCrop(s),i=r.clientX-r.startClientX,l=r.clientY-r.startClientY;return a.x=Cn(r.startCropX+i,0,s.width-a.width),a.y=Cn(r.startCropY+l,0,s.height-a.height),a}getPointRegion(r,s,a,i){const{evData:l}=this,c=l.clientX-r.x,u=l.clientY-r.y;let m;i&&s?m=s==="nw"||s==="n"||s==="ne":m=u<l.startCropY;let h;return a&&s?h=s==="nw"||s==="w"||s==="sw":h=c<l.startCropX,h?m?"nw":"sw":m?"ne":"se"}resolveMinDimensions(r,s,a=0,i=0){const l=Math.min(a,r.width),c=Math.min(i,r.height);return!s||!l&&!c?[l,c]:s>1?l?[l,l/s]:[c*s,c]:c?[c*s,c]:[l,l/s]}resizeCrop(){const{evData:r}=this,{aspect:s=0,maxWidth:a,maxHeight:i}=this.props,l=this.getBox(),[c,u]=this.resolveMinDimensions(l,s,this.props.minWidth,this.props.minHeight);let m=this.makePixelCrop(l);const h=this.getPointRegion(l,r.ord,c,u),p=r.ord||h;let g=r.clientX-r.startClientX,x=r.clientY-r.startClientY;(c&&p==="nw"||p==="w"||p==="sw")&&(g=Math.min(g,-c)),(u&&p==="nw"||p==="n"||p==="ne")&&(x=Math.min(x,-u));const v={unit:"px",x:0,y:0,width:0,height:0};h==="ne"?(v.x=r.startCropX,v.width=g,s?(v.height=v.width/s,v.y=r.startCropY-v.height):(v.height=Math.abs(x),v.y=r.startCropY-v.height)):h==="se"?(v.x=r.startCropX,v.y=r.startCropY,v.width=g,s?v.height=v.width/s:v.height=x):h==="sw"?(v.x=r.startCropX+g,v.y=r.startCropY,v.width=Math.abs(g),s?v.height=v.width/s:v.height=x):h==="nw"&&(v.x=r.startCropX+g,v.width=Math.abs(g),s?(v.height=v.width/s,v.y=r.startCropY-v.height):(v.height=Math.abs(x),v.y=r.startCropY+x));const w=Ix(v,s,h,l.width,l.height,c,u,a,i);return s||Vr.xyOrds.indexOf(p)>-1?m=w:Vr.xOrds.indexOf(p)>-1?(m.x=w.x,m.width=w.width):Vr.yOrds.indexOf(p)>-1&&(m.y=w.y,m.height=w.height),m.x=Cn(m.x,0,l.width-m.width),m.y=Cn(m.y,0,l.height-m.height),m}renderCropSelection(){const{ariaLabels:r=Vr.defaultProps.ariaLabels,disabled:s,locked:a,renderSelectionAddon:i,ruleOfThirds:l,crop:c}=this.props,u=this.getCropStyle();if(c)return je.createElement("div",{style:u,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown,"aria-label":r.cropArea,tabIndex:0,onKeyDown:this.onComponentKeyDown,role:"group"},!s&&!a&&je.createElement("div",{className:"ReactCrop__drag-elements",onFocus:this.onDragFocus},je.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),je.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),je.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),je.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),je.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw",tabIndex:0,"aria-label":r.nwDragHandle,onKeyDown:m=>this.onHandlerKeyDown(m,"nw"),role:"button"}),je.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n",tabIndex:0,"aria-label":r.nDragHandle,onKeyDown:m=>this.onHandlerKeyDown(m,"n"),role:"button"}),je.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne",tabIndex:0,"aria-label":r.neDragHandle,onKeyDown:m=>this.onHandlerKeyDown(m,"ne"),role:"button"}),je.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e",tabIndex:0,"aria-label":r.eDragHandle,onKeyDown:m=>this.onHandlerKeyDown(m,"e"),role:"button"}),je.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se",tabIndex:0,"aria-label":r.seDragHandle,onKeyDown:m=>this.onHandlerKeyDown(m,"se"),role:"button"}),je.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s",tabIndex:0,"aria-label":r.sDragHandle,onKeyDown:m=>this.onHandlerKeyDown(m,"s"),role:"button"}),je.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw",tabIndex:0,"aria-label":r.swDragHandle,onKeyDown:m=>this.onHandlerKeyDown(m,"sw"),role:"button"}),je.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w",tabIndex:0,"aria-label":r.wDragHandle,onKeyDown:m=>this.onHandlerKeyDown(m,"w"),role:"button"})),i&&je.createElement("div",{className:"ReactCrop__selection-addon",onPointerDown:m=>m.stopPropagation()},i(this.state)),l&&je.createElement(je.Fragment,null,je.createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),je.createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}makePixelCrop(r){const s={...Mc,...this.props.crop||{}};return es(s,r.width,r.height)}render(){const{aspect:r,children:s,circularCrop:a,className:i,crop:l,disabled:c,locked:u,style:m,ruleOfThirds:h}=this.props,{cropIsActive:p,newCropIsBeingDrawn:g}=this.state,x=l?this.renderCropSelection():null,v=LS("ReactCrop",i,p&&"ReactCrop--active",c&&"ReactCrop--disabled",u&&"ReactCrop--locked",g&&"ReactCrop--new-crop",l&&r&&"ReactCrop--fixed-aspect",l&&a&&"ReactCrop--circular-crop",l&&h&&"ReactCrop--rule-of-thirds",!this.dragStarted&&l&&!l.width&&!l.height&&"ReactCrop--invisible-crop",a&&"ReactCrop--no-animate");return je.createElement("div",{ref:this.componentRef,className:v,style:m},je.createElement("div",{ref:this.mediaRef,className:"ReactCrop__child-wrapper",onPointerDown:this.onComponentPointerDown},s),l?je.createElement("svg",{className:"ReactCrop__crop-mask",width:"100%",height:"100%"},je.createElement("defs",null,je.createElement("mask",{id:`hole-${this.instanceId}`},je.createElement("rect",{width:"100%",height:"100%",fill:"white"}),a?je.createElement("ellipse",{cx:`${l.x+l.width/2}${l.unit}`,cy:`${l.y+l.height/2}${l.unit}`,rx:`${l.width/2}${l.unit}`,ry:`${l.height/2}${l.unit}`,fill:"black"}):je.createElement("rect",{x:`${l.x}${l.unit}`,y:`${l.y}${l.unit}`,width:`${l.width}${l.unit}`,height:`${l.height}${l.unit}`,fill:"black"}))),je.createElement("rect",{fill:"black",fillOpacity:.5,width:"100%",height:"100%",mask:`url(#hole-${this.instanceId})`})):void 0,x)}};ot(La,"xOrds",["e","w"]),ot(La,"yOrds",["n","s"]),ot(La,"xyOrds",["nw","ne","se","sw"]),ot(La,"nudgeStep",1),ot(La,"nudgeStepMedium",10),ot(La,"nudgeStepLarge",100),ot(La,"defaultProps",{ariaLabels:{cropArea:"Use the arrow keys to move the crop selection area",nwDragHandle:"Use the arrow keys to move the north west drag handle to change the crop selection area",nDragHandle:"Use the up and down arrow keys to move the north drag handle to change the crop selection area",neDragHandle:"Use the arrow keys to move the north east drag handle to change the crop selection area",eDragHandle:"Use the up and down arrow keys to move the east drag handle to change the crop selection area",seDragHandle:"Use the arrow keys to move the south east drag handle to change the crop selection area",sDragHandle:"Use the up and down arrow keys to move the south drag handle to change the crop selection area",swDragHandle:"Use the arrow keys to move the south west drag handle to change the crop selection area",wDragHandle:"Use the up and down arrow keys to move the west drag handle to change the crop selection area"}});const Wa={getMyLeaves:(t={})=>{const r=new URLSearchParams(t).toString();return ce.get(`/leaves/my-leaves${r?`?${r}`:""}`)},getLeaveBalance:()=>ce.get("/leaves/balance"),createLeave:t=>{const r={...t,startDate:new Date(t.startDate).toISOString(),endDate:new Date(t.endDate||t.startDate).toISOString()};return ce.post("/leaves",r)},updateLeave:(t,r)=>ce.put(`/leaves/${t}`,r),deleteLeave:t=>ce.delete(`/leaves/${t}`),getAllLeaves:(t={})=>{const r=new URLSearchParams(t).toString();return ce.get(`/leaves${r?`?${r}`:""}`)},approveLeave:t=>ce.put(`/leaves/${t}/approve`),rejectLeave:(t,r)=>ce.put(`/leaves/${t}/reject`,{reason:r}),applyLeave:t=>{const r={...t,startDate:new Date(t.startDate).toISOString(),endDate:new Date(t.endDate||t.startDate).toISOString()};return ce.post("/leaves",r)},cancelLeave:t=>ce.put(`/leaves/${t}`,{status:"cancelled"})},qv=()=>{const[t,r]=y.useState({leaveType:"casual",startDate:"",endDate:"",reason:"",isHalfDay:!1,halfDaySession:"morning"}),[s,a]=y.useState([]),[i,l]=y.useState({}),[c,u]=y.useState(!1),[m,h]=y.useState(!1),[p,g]=y.useState(""),[x,v]=y.useState(""),[w,S]=y.useState("apply"),k=[{value:"casual",label:"Casual Leave",icon:""},{value:"sick",label:"Sick Leave",icon:""},{value:"annual",label:"Annual Leave",icon:""},{value:"emergency",label:"Emergency Leave",icon:""}],E={pending:"bg-yellow-100 text-yellow-800 border-yellow-200",approved:"bg-green-100 text-green-800 border-green-200",rejected:"bg-red-100 text-red-800 border-red-200",cancelled:"bg-gray-100 text-gray-800 border-gray-200"},C={pending:e.jsx(Ts,{className:"w-4 h-4"}),approved:e.jsx(Xa,{className:"w-4 h-4"}),rejected:e.jsx(It,{className:"w-4 h-4"}),cancelled:e.jsx(It,{className:"w-4 h-4"})};y.useEffect(()=>{j(),A()},[]);const j=async()=>{try{u(!0);const q=await Wa.getMyLeaves();a(q.data.data||[]),g("")}catch(q){console.error("Error fetching leaves:",q),g("Failed to fetch leave history")}finally{u(!1)}},A=async()=>{try{const q=await Wa.getLeaveBalance();l(q.data.data||{}),g("")}catch(q){console.error("Error fetching leave balance:",q),g("Failed to fetch leave balance")}},P=q=>{const{name:O,value:B,type:U,checked:R}=q.target;r(ee=>({...ee,[O]:U==="checkbox"?R:B})),p&&g("")},F=()=>{if(!t.leaveType||!t.startDate||!t.endDate||!t.reason.trim())return g("Please fill in all required fields"),!1;if(t.reason.trim().length<10)return g("Reason must be at least 10 characters long"),!1;const q=new Date(t.startDate),O=new Date(t.endDate),B=new Date;return B.setHours(0,0,0,0),q<B?(g("Start date cannot be in the past"),!1):q>O?(g("End date must be after start date"),!1):t.isHalfDay&&!t.halfDaySession?(g("Please select half day session"),!1):!0},T=async q=>{var O,B;if(q.preventDefault(),!!F())try{h(!0),g("");const U={leaveType:t.leaveType,startDate:t.startDate,endDate:t.isHalfDay?t.startDate:t.endDate,reason:t.reason,isHalfDay:t.isHalfDay,halfDaySession:t.isHalfDay?t.halfDaySession:void 0};await Wa.createLeave(U),v("Leave application submitted successfully!"),r({leaveType:"casual",startDate:"",endDate:"",reason:"",isHalfDay:!1,halfDaySession:"morning"}),j(),A(),setTimeout(()=>{S("history"),v("")},2e3)}catch(U){console.error("Error applying for leave:",U),g(((B=(O=U.response)==null?void 0:O.data)==null?void 0:B.message)||"Failed to submit leave application")}finally{h(!1)}},L=q=>new Date(q).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),z=()=>{if(!t.startDate||!t.endDate)return 0;if(t.isHalfDay)return .5;const q=new Date(t.startDate),B=new Date(t.endDate).getTime()-q.getTime();return Math.ceil(B/(1e3*3600*24))+1};return e.jsx("div",{className:"max-w-6xl mx-auto p-6",children:e.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-lg shadow-md border border-slate-200 dark:border-slate-700",children:[e.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:e.jsxs("nav",{className:"flex space-x-8 px-6",children:[e.jsxs("button",{onClick:()=>S("apply"),className:`${w==="apply"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center`,children:[e.jsx(vx,{className:"mr-2"}),"Apply Leave"]}),e.jsxs("button",{onClick:()=>S("history"),className:`${w==="history"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center`,children:[e.jsx(ci,{className:"mr-2"}),"Leave History"]})]})}),e.jsxs("div",{className:"p-6",children:[p&&e.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-600 rounded-md flex items-center",children:[e.jsx(Si,{className:"mr-2"}),p]}),x&&e.jsxs("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 text-green-600 rounded-md flex items-center",children:[e.jsx(Xa,{className:"mr-2"}),x]}),w==="apply"&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-6",children:"Apply for Leave"}),e.jsxs("form",{onSubmit:T,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Leave Type *"}),e.jsx("select",{name:"leaveType",value:t.leaveType,onChange:P,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:k.map(q=>e.jsxs("option",{value:q.value,children:[q.icon," ",q.label]},q.value))})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"isHalfDay",checked:t.isHalfDay,onChange:P,className:"mr-2 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Half Day"})]}),t.isHalfDay&&e.jsxs("select",{name:"halfDaySession",value:t.halfDaySession,onChange:P,className:"border border-gray-300 dark:border-gray-600 rounded-md px-3 py-1 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 text-sm",children:[e.jsx("option",{value:"morning",children:"Morning"}),e.jsx("option",{value:"afternoon",children:"Afternoon"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Start Date *"}),e.jsx("input",{type:"date",name:"startDate",value:t.startDate,onChange:P,min:new Date().toISOString().split("T")[0],className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"End Date *"}),e.jsx("input",{type:"date",name:"endDate",value:t.endDate,onChange:P,min:t.startDate||new Date().toISOString().split("T")[0],disabled:t.isHalfDay,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed",required:!t.isHalfDay}),t.isHalfDay&&e.jsx("input",{type:"hidden",name:"endDate",value:t.startDate})]})]}),t.startDate&&(t.endDate||t.isHalfDay)&&e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-md p-3",children:e.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[e.jsx("span",{className:"font-medium",children:"Total Days:"})," ",z()," day(s)"]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Reason for Leave *"}),e.jsx("textarea",{name:"reason",value:t.reason,onChange:P,rows:4,placeholder:"Please provide a detailed reason for your leave (minimum 10 characters)",className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,minLength:10}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[t.reason.length,"/500 characters (minimum 10)"]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"submit",disabled:m,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white px-6 py-2 rounded-md font-medium transition duration-200 flex items-center",children:m?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Submitting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(vx,{className:"mr-2"}),"Submit Application"]})})})]})]}),w==="history"&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-6",children:"Leave History"}),c?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):s.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[e.jsx(ci,{className:"mx-auto h-12 w-12 mb-4 opacity-50"}),e.jsx("p",{children:"No leave applications found"})]}):e.jsx("div",{className:"space-y-4",children:s.map(q=>{var O,B;return e.jsx("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsxs("h4",{className:"font-medium text-gray-900 dark:text-white",children:[(O=k.find(U=>U.value===q.leaveType))==null?void 0:O.icon," "," ",(B=k.find(U=>U.value===q.leaveType))==null?void 0:B.label]}),e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${E[q.status]}`,children:[C[q.status],e.jsx("span",{className:"ml-1 capitalize",children:q.status})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-gray-600 dark:text-gray-400",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Duration:"})," ",L(q.startDate),q.startDate!==q.endDate&&` - ${L(q.endDate)}`,q.isHalfDay&&` (${q.halfDaySession} half)`]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Days:"})," ",q.totalDays]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Applied:"})," ",L(q.appliedDate)]})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("span",{className:"font-medium text-sm text-gray-600 dark:text-gray-400",children:"Reason:"}),e.jsx("p",{className:"text-sm text-gray-800 dark:text-gray-200 mt-1",children:q.reason})]}),q.rejectionReason&&e.jsxs("div",{className:"mt-2 p-2 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded",children:[e.jsx("span",{className:"font-medium text-sm text-red-800 dark:text-red-200",children:"Rejection Reason:"}),e.jsx("p",{className:"text-sm text-red-700 dark:text-red-300 mt-1",children:q.rejectionReason})]})]})})},q._id)})})]})]})]})})},ui=t=>typeof t=="number"&&!isNaN(t),qa=t=>typeof t=="string",xr=t=>typeof t=="function",yc=t=>qa(t)||xr(t)?t:null,x0=t=>y.isValidElement(t)||qa(t)||xr(t)||ui(t);function BS(t,r,s){s===void 0&&(s=300);const{scrollHeight:a,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=a+"px",i.transition=`all ${s}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(r,s)})})}function ed(t){let{enter:r,exit:s,appendPosition:a=!1,collapse:i=!0,collapseDuration:l=300}=t;return function(c){let{children:u,position:m,preventExitTransition:h,done:p,nodeRef:g,isIn:x,playToast:v}=c;const w=a?`${r}--${m}`:r,S=a?`${s}--${m}`:s,k=y.useRef(0);return y.useLayoutEffect(()=>{const E=g.current,C=w.split(" "),j=A=>{A.target===g.current&&(v(),E.removeEventListener("animationend",j),E.removeEventListener("animationcancel",j),k.current===0&&A.type!=="animationcancel"&&E.classList.remove(...C))};E.classList.add(...C),E.addEventListener("animationend",j),E.addEventListener("animationcancel",j)},[]),y.useEffect(()=>{const E=g.current,C=()=>{E.removeEventListener("animationend",C),i?BS(E,p,l):p()};x||(h?C():(k.current=1,E.className+=` ${S}`,E.addEventListener("animationend",C)))},[x]),je.createElement(je.Fragment,null,u)}}function _x(t,r){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:r}:{}}const Zt=new Map;let mi=[];const y0=new Set,US=t=>y0.forEach(r=>r(t)),Yv=()=>Zt.size>0;function Kv(t,r){var s;if(r)return!((s=Zt.get(r))==null||!s.isToastActive(t));let a=!1;return Zt.forEach(i=>{i.isToastActive(t)&&(a=!0)}),a}function Gv(t,r){x0(t)&&(Yv()||mi.push({content:t,options:r}),Zt.forEach(s=>{s.buildToast(t,r)}))}function Ox(t,r){Zt.forEach(s=>{r!=null&&r!=null&&r.containerId?(r==null?void 0:r.containerId)===s.id&&s.toggle(t,r==null?void 0:r.id):s.toggle(t,r==null?void 0:r.id)})}function $S(t){const{subscribe:r,getSnapshot:s,setProps:a}=y.useRef((function(l){const c=l.containerId||1;return{subscribe(u){const m=(function(p,g,x){let v=1,w=0,S=[],k=[],E=[],C=g;const j=new Map,A=new Set,P=()=>{E=Array.from(j.values()),A.forEach(L=>L())},F=L=>{k=L==null?[]:k.filter(z=>z!==L),P()},T=L=>{const{toastId:z,onOpen:q,updateId:O,children:B}=L.props,U=O==null;L.staleId&&j.delete(L.staleId),j.set(z,L),k=[...k,L.props.toastId].filter(R=>R!==L.staleId),P(),x(_x(L,U?"added":"updated")),U&&xr(q)&&q(y.isValidElement(B)&&B.props)};return{id:p,props:C,observe:L=>(A.add(L),()=>A.delete(L)),toggle:(L,z)=>{j.forEach(q=>{z!=null&&z!==q.props.toastId||xr(q.toggle)&&q.toggle(L)})},removeToast:F,toasts:j,clearQueue:()=>{w-=S.length,S=[]},buildToast:(L,z)=>{if((M=>{let{containerId:Z,toastId:X,updateId:V}=M;const de=Z?Z!==p:p!==1,ue=j.has(X)&&V==null;return de||ue})(z))return;const{toastId:q,updateId:O,data:B,staleId:U,delay:R}=z,ee=()=>{F(q)},J=O==null;J&&w++;const H={...C,style:C.toastStyle,key:v++,...Object.fromEntries(Object.entries(z).filter(M=>{let[Z,X]=M;return X!=null})),toastId:q,updateId:O,data:B,closeToast:ee,isIn:!1,className:yc(z.className||C.toastClassName),bodyClassName:yc(z.bodyClassName||C.bodyClassName),progressClassName:yc(z.progressClassName||C.progressClassName),autoClose:!z.isLoading&&(K=z.autoClose,I=C.autoClose,K===!1||ui(K)&&K>0?K:I),deleteToast(){const M=j.get(q),{onClose:Z,children:X}=M.props;xr(Z)&&Z(y.isValidElement(X)&&X.props),x(_x(M,"removed")),j.delete(q),w--,w<0&&(w=0),S.length>0?T(S.shift()):P()}};var K,I;H.closeButton=C.closeButton,z.closeButton===!1||x0(z.closeButton)?H.closeButton=z.closeButton:z.closeButton===!0&&(H.closeButton=!x0(C.closeButton)||C.closeButton);let G=L;y.isValidElement(L)&&!qa(L.type)?G=y.cloneElement(L,{closeToast:ee,toastProps:H,data:B}):xr(L)&&(G=L({closeToast:ee,toastProps:H,data:B}));const _={content:G,props:H,staleId:U};C.limit&&C.limit>0&&w>C.limit&&J?S.push(_):ui(R)?setTimeout(()=>{T(_)},R):T(_)},setProps(L){C=L},setToggle:(L,z)=>{j.get(L).toggle=z},isToastActive:L=>k.some(z=>z===L),getSnapshot:()=>C.newestOnTop?E.reverse():E}})(c,l,US);Zt.set(c,m);const h=m.observe(u);return mi.forEach(p=>Gv(p.content,p.options)),mi=[],()=>{h(),Zt.delete(c)}},setProps(u){var m;(m=Zt.get(c))==null||m.setProps(u)},getSnapshot(){var u;return(u=Zt.get(c))==null?void 0:u.getSnapshot()}}})(t)).current;a(t);const i=y.useSyncExternalStore(r,s,s);return{getToastToRender:function(l){if(!i)return[];const c=new Map;return i.forEach(u=>{const{position:m}=u.props;c.has(m)||c.set(m,[]),c.get(m).push(u)}),Array.from(c,u=>l(u[0],u[1]))},isToastActive:Kv,count:i==null?void 0:i.length}}function VS(t){const[r,s]=y.useState(!1),[a,i]=y.useState(!1),l=y.useRef(null),c=y.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:u,pauseOnHover:m,closeToast:h,onClick:p,closeOnClick:g}=t;var x,v;function w(){s(!0)}function S(){s(!1)}function k(j){const A=l.current;c.canDrag&&A&&(c.didMove=!0,r&&S(),c.delta=t.draggableDirection==="x"?j.clientX-c.start:j.clientY-c.start,c.start!==j.clientX&&(c.canCloseOnClick=!1),A.style.transform=`translate3d(${t.draggableDirection==="x"?`${c.delta}px, var(--y)`:`0, calc(${c.delta}px + var(--y))`},0)`,A.style.opacity=""+(1-Math.abs(c.delta/c.removalDistance)))}function E(){document.removeEventListener("pointermove",k),document.removeEventListener("pointerup",E);const j=l.current;if(c.canDrag&&c.didMove&&j){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance)return i(!0),t.closeToast(),void t.collapseAll();j.style.transition="transform 0.2s, opacity 0.2s",j.style.removeProperty("transform"),j.style.removeProperty("opacity")}}(v=Zt.get((x={id:t.toastId,containerId:t.containerId,fn:s}).containerId||1))==null||v.setToggle(x.id,x.fn),y.useEffect(()=>{if(t.pauseOnFocusLoss)return document.hasFocus()||S(),window.addEventListener("focus",w),window.addEventListener("blur",S),()=>{window.removeEventListener("focus",w),window.removeEventListener("blur",S)}},[t.pauseOnFocusLoss]);const C={onPointerDown:function(j){if(t.draggable===!0||t.draggable===j.pointerType){c.didMove=!1,document.addEventListener("pointermove",k),document.addEventListener("pointerup",E);const A=l.current;c.canCloseOnClick=!0,c.canDrag=!0,A.style.transition="none",t.draggableDirection==="x"?(c.start=j.clientX,c.removalDistance=A.offsetWidth*(t.draggablePercent/100)):(c.start=j.clientY,c.removalDistance=A.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent)/100)}},onPointerUp:function(j){const{top:A,bottom:P,left:F,right:T}=l.current.getBoundingClientRect();j.nativeEvent.type!=="touchend"&&t.pauseOnHover&&j.clientX>=F&&j.clientX<=T&&j.clientY>=A&&j.clientY<=P?S():w()}};return u&&m&&(C.onMouseEnter=S,t.stacked||(C.onMouseLeave=w)),g&&(C.onClick=j=>{p&&p(j),c.canCloseOnClick&&h()}),{playToast:w,pauseToast:S,isRunning:r,preventExitTransition:a,toastRef:l,eventHandlers:C}}function zS(t){let{delay:r,isRunning:s,closeToast:a,type:i="default",hide:l,className:c,style:u,controlledProgress:m,progress:h,rtl:p,isIn:g,theme:x}=t;const v=l||m&&h===0,w={...u,animationDuration:`${r}ms`,animationPlayState:s?"running":"paused"};m&&(w.transform=`scaleX(${h})`);const S=rs("Toastify__progress-bar",m?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${x}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":p}),k=xr(c)?c({rtl:p,type:i,defaultClassName:S}):rs(S,c),E={[m&&h>=1?"onTransitionEnd":"onAnimationEnd"]:m&&h<1?null:()=>{g&&a()}};return je.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":v},je.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${x} Toastify__progress-bar--${i}`}),je.createElement("div",{role:"progressbar","aria-hidden":v?"true":"false","aria-label":"notification timer",className:k,style:w,...E}))}let HS=1;const Xv=()=>""+HS++;function WS(t){return t&&(qa(t.toastId)||ui(t.toastId))?t.toastId:Xv()}function Zo(t,r){return Gv(t,r),r.toastId}function Rc(t,r){return{...r,type:r&&r.type||t,toastId:WS(r)}}function Ql(t){return(r,s)=>Zo(r,Rc(t,s))}function me(t,r){return Zo(t,Rc("default",r))}me.loading=(t,r)=>Zo(t,Rc("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...r})),me.promise=function(t,r,s){let a,{pending:i,error:l,success:c}=r;i&&(a=qa(i)?me.loading(i,s):me.loading(i.render,{...s,...i}));const u={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},m=(p,g,x)=>{if(g==null)return void me.dismiss(a);const v={type:p,...u,...s,data:x},w=qa(g)?{render:g}:g;return a?me.update(a,{...v,...w}):me(w.render,{...v,...w}),x},h=xr(t)?t():t;return h.then(p=>m("success",c,p)).catch(p=>m("error",l,p)),h},me.success=Ql("success"),me.info=Ql("info"),me.error=Ql("error"),me.warning=Ql("warning"),me.warn=me.warning,me.dark=(t,r)=>Zo(t,Rc("default",{theme:"dark",...r})),me.dismiss=function(t){(function(r){var s;if(Yv()){if(r==null||qa(s=r)||ui(s))Zt.forEach(a=>{a.removeToast(r)});else if(r&&("containerId"in r||"id"in r)){const a=Zt.get(r.containerId);a?a.removeToast(r.id):Zt.forEach(i=>{i.removeToast(r.id)})}}else mi=mi.filter(a=>r!=null&&a.options.toastId!==r)})(t)},me.clearWaitingQueue=function(t){t===void 0&&(t={}),Zt.forEach(r=>{!r.props.limit||t.containerId&&r.id!==t.containerId||r.clearQueue()})},me.isActive=Kv,me.update=function(t,r){r===void 0&&(r={});const s=((a,i)=>{var l;let{containerId:c}=i;return(l=Zt.get(c||1))==null?void 0:l.toasts.get(a)})(t,r);if(s){const{props:a,content:i}=s,l={delay:100,...a,...r,toastId:r.toastId||t,updateId:Xv()};l.toastId!==t&&(l.staleId=t);const c=l.render||i;delete l.render,Zo(c,l)}},me.done=t=>{me.update(t,{progress:1})},me.onChange=function(t){return y0.add(t),()=>{y0.delete(t)}},me.play=t=>Ox(!0,t),me.pause=t=>Ox(!1,t);const qS=typeof window<"u"?y.useLayoutEffect:y.useEffect,Jl=t=>{let{theme:r,type:s,isLoading:a,...i}=t;return je.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:r==="colored"?"currentColor":`var(--toastify-icon-color-${s})`,...i})},xm={info:function(t){return je.createElement(Jl,{...t},je.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return je.createElement(Jl,{...t},je.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return je.createElement(Jl,{...t},je.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return je.createElement(Jl,{...t},je.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return je.createElement("div",{className:"Toastify__spinner"})}},YS=t=>{const{isRunning:r,preventExitTransition:s,toastRef:a,eventHandlers:i,playToast:l}=VS(t),{closeButton:c,children:u,autoClose:m,onClick:h,type:p,hideProgressBar:g,closeToast:x,transition:v,position:w,className:S,style:k,bodyClassName:E,bodyStyle:C,progressClassName:j,progressStyle:A,updateId:P,role:F,progress:T,rtl:L,toastId:z,deleteToast:q,isIn:O,isLoading:B,closeOnClick:U,theme:R}=t,ee=rs("Toastify__toast",`Toastify__toast-theme--${R}`,`Toastify__toast--${p}`,{"Toastify__toast--rtl":L},{"Toastify__toast--close-on-click":U}),J=xr(S)?S({rtl:L,position:w,type:p,defaultClassName:ee}):rs(ee,S),H=(function(_){let{theme:M,type:Z,isLoading:X,icon:V}=_,de=null;const ue={theme:M,type:Z};return V===!1||(xr(V)?de=V({...ue,isLoading:X}):y.isValidElement(V)?de=y.cloneElement(V,ue):X?de=xm.spinner():(le=>le in xm)(Z)&&(de=xm[Z](ue))),de})(t),K=!!T||!m,I={closeToast:x,type:p,theme:R};let G=null;return c===!1||(G=xr(c)?c(I):y.isValidElement(c)?y.cloneElement(c,I):(function(_){let{closeToast:M,theme:Z,ariaLabel:X="close"}=_;return je.createElement("button",{className:`Toastify__close-button Toastify__close-button--${Z}`,type:"button",onClick:V=>{V.stopPropagation(),M(V)},"aria-label":X},je.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},je.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))})(I)),je.createElement(v,{isIn:O,done:q,position:w,preventExitTransition:s,nodeRef:a,playToast:l},je.createElement("div",{id:z,onClick:h,"data-in":O,className:J,...i,style:k,ref:a},je.createElement("div",{...O&&{role:F},className:xr(E)?E({type:p}):rs("Toastify__toast-body",E),style:C},H!=null&&je.createElement("div",{className:rs("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!B})},H),je.createElement("div",null,u)),G,je.createElement(zS,{...P&&!K?{key:`pb-${P}`}:{},rtl:L,theme:R,delay:m,isRunning:r,isIn:O,closeToast:x,hide:g,type:p,style:A,className:j,controlledProgress:K,progress:T||0})))},td=function(t,r){return r===void 0&&(r=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:r}},KS=ed(td("bounce",!0));ed(td("slide",!0));ed(td("zoom"));ed(td("flip"));const GS={position:"top-right",transition:KS,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function XS(t){let r={...GS,...t};const s=t.stacked,[a,i]=y.useState(!0),l=y.useRef(null),{getToastToRender:c,isToastActive:u,count:m}=$S(r),{className:h,style:p,rtl:g,containerId:x}=r;function v(S){const k=rs("Toastify__toast-container",`Toastify__toast-container--${S}`,{"Toastify__toast-container--rtl":g});return xr(h)?h({position:S,rtl:g,defaultClassName:k}):rs(k,yc(h))}function w(){s&&(i(!0),me.play())}return qS(()=>{if(s){var S;const k=l.current.querySelectorAll('[data-in="true"]'),E=12,C=(S=r.position)==null?void 0:S.includes("top");let j=0,A=0;Array.from(k).reverse().forEach((P,F)=>{const T=P;T.classList.add("Toastify__toast--stacked"),F>0&&(T.dataset.collapsed=`${a}`),T.dataset.pos||(T.dataset.pos=C?"top":"bot");const L=j*(a?.2:1)+(a?0:E*F);T.style.setProperty("--y",`${C?L:-1*L}px`),T.style.setProperty("--g",`${E}`),T.style.setProperty("--s",""+(1-(a?A:0))),j+=T.offsetHeight,A+=.025})}},[a,m,s]),je.createElement("div",{ref:l,className:"Toastify",id:x,onMouseEnter:()=>{s&&(i(!1),me.pause())},onMouseLeave:w},c((S,k)=>{const E=k.length?{...p}:{...p,pointerEvents:"none"};return je.createElement("div",{className:v(S),style:E,key:`container-${S}`},k.map(C=>{let{content:j,props:A}=C;return je.createElement(YS,{...A,stacked:s,collapseAll:w,isIn:u(A.toastId,A.containerId),style:A.style,key:`toast-${A.key}`},j)}))}))}const lr={latitude:28.607407,longitude:77.081754,allowedRadius:20},Qv=({employeeId:t,userRole:r})=>{var Za;const{user:s}=Fe(),[a,i]=y.useState([]),[l,c]=y.useState(null),[u,m]=y.useState(!1),[h,p]=y.useState(new Date),[g,x]=y.useState(new Date().getMonth()),[v,w]=y.useState(new Date().getFullYear()),[S,k]=y.useState(null),[E,C]=y.useState(!1),[j,A]=y.useState(""),[P,F]=y.useState(!1),[T,L]=y.useState("all"),[z,q]=y.useState(!1),[O,B]=y.useState([]),[U,R]=y.useState([]),[ee,J]=y.useState(""),[H,K]=y.useState(new Date().toISOString().split("T")[0]),[I,G]=y.useState(null),[_,M]=y.useState(!1),[Z,X]=y.useState({}),V=(s==null?void 0:s.role)==="Admin"||(s==null?void 0:s.role)==="Manager"||(s==null?void 0:s.role)==="HR",de=(ne,ze,Le,Ue)=>{const ut=ne*Math.PI/180,Ii=Le*Math.PI/180,Rs=(Le-ne)*Math.PI/180,Ls=(Ue-ze)*Math.PI/180,_i=Math.sin(Rs/2)*Math.sin(Rs/2)+Math.cos(ut)*Math.cos(Ii)*Math.sin(Ls/2)*Math.sin(Ls/2);return 6371e3*(2*Math.atan2(Math.sqrt(_i),Math.sqrt(1-_i)))},ue=(ne,ze)=>de(lr.latitude,lr.longitude,ne,ze)<=lr.allowedRadius,le=async()=>{try{m(!0);const ne=await Ss.getAllAttendance({date:H,employeeId:ee,page:1,limit:100});ne.data.success&&(B(ne.data.data),pe(ne.data.data))}catch(ne){console.error("Error fetching all employees attendance:",ne),me.error("Failed to fetch employees attendance")}finally{m(!1)}},te=async()=>{try{const ne=await Kt.getAll();ne.data.success&&R(ne.data.data)}catch(ne){console.error("Error fetching employees:",ne),me.error("Failed to fetch employees")}},pe=ne=>{const ze={totalEmployees:U.length,presentToday:ne.filter(Le=>Le.status==="PRESENT").length,absentToday:U.length-ne.length,halfDayToday:ne.filter(Le=>Le.status==="HALF_DAY").length,lateToday:ne.filter(Le=>Le.status==="LATE").length,earlyLeaveToday:ne.filter(Le=>Le.status==="EARLY_LEAVE").length};X(ze)},se=async(ne,ze,Le="")=>{try{if(!ne||!H){me.error("Please select an employee and date");return}const Ue={employeeId:ne,date:H,status:ze,notes:Le};console.log("Frontend: Sending attendance data:",Ue);const dt=await Ss.createAttendance(Ue);dt.data.success?(me.success(`Attendance marked as ${ze} for employee`),le(),J("")):me.error(dt.data.message||"Failed to mark attendance")}catch(Ue){console.error("Error marking attendance:",Ue),me.error("Failed to mark attendance")}};y.useEffect(()=>{const ne=setInterval(()=>{p(new Date)},1e3);return()=>clearInterval(ne)},[]),y.useEffect(()=>{V?(te(),le()):(we(),W())},[V,H,ee]),y.useEffect(()=>{if(!V){const ne=setInterval(()=>{we(),W()},6e4);return()=>clearInterval(ne)}},[g,v,V]);const we=async()=>{try{m(!0);const ne={month:g+1,year:v},ze=await Ss.getHistory(ne);i(ze.data.data||[])}catch(ne){console.error("Error fetching attendance:",ne),me.error("Failed to fetch attendance history")}finally{m(!1)}},W=async()=>{try{const ne=await Ss.getTodayAttendance();ne.data.success?c(ne.data.data):c(null)}catch(ne){console.error("Error fetching today attendance:",ne),me.error("Failed to fetch today's attendance status")}},ye=()=>new Promise((ne,ze)=>{if(!navigator.geolocation){ze(new Error("Geolocation is not supported by this browser."));return}C(!0),A(""),navigator.geolocation.getCurrentPosition(Le=>{C(!1);const Ue={latitude:Le.coords.latitude,longitude:Le.coords.longitude,accuracy:Le.coords.accuracy},dt=ue(Ue.latitude,Ue.longitude),ut=de(lr.latitude,lr.longitude,Ue.latitude,Ue.longitude);Ue.distance=ut,Ue.isInOfficeRange=dt,k(Ue),F(dt),A(dt?"":`You are ${ut.toFixed(1)} meters away from office. Please move within ${lr.allowedRadius} meters to mark attendance.`),ne(Ue)},Le=>{C(!1);let Ue="Unable to get your location.";switch(Le.code){case Le.PERMISSION_DENIED:Ue="Location access denied. Please enable location services.";break;case Le.POSITION_UNAVAILABLE:Ue="Location information is unavailable.";break;case Le.TIMEOUT:Ue="Location request timed out.";break;default:Ue="An unknown error occurred while getting location.";break}A(Ue),ze(Le)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})}),Ae=async()=>{var ne,ze;try{let Le=null;try{if(Le=await ye(),!Le.isInOfficeRange){me.error(`Cannot check in: You are ${Le.distance.toFixed(1)} meters away from office. Please move within ${lr.allowedRadius} meters of the office location.`);return}}catch(dt){console.warn("Could not get location:",dt),me.error("Location access is required for attendance marking. Please enable location services and try again.");return}const Ue=await Ss.checkIn({notes:"",location:Le});Ue.data.success?(c(Ue.data.data),me.success("Check-in successful! You are within the office premises."),we()):me.error(Ue.data.message||"Failed to check in")}catch(Le){console.error("Error checking in:",Le),me.error(((ze=(ne=Le.response)==null?void 0:ne.data)==null?void 0:ze.message)||"Failed to check in. Please try again.")}},Pe=async()=>{var ne,ze;try{let Le=null;try{if(Le=await ye(),!Le.isInOfficeRange){me.error(`Cannot check out: You are ${Le.distance.toFixed(1)} meters away from office. Please move within ${lr.allowedRadius} meters of the office location.`);return}}catch(dt){console.warn("Could not get location:",dt),me.error("Location access is required for attendance marking. Please enable location services and try again.");return}const Ue=await Ss.checkOut({notes:"",location:Le});Ue.data.success?(c(Ue.data.data),me.success("Check-out successful! Have a great day."),we()):me.error(Ue.data.message||"Failed to check out")}catch(Le){console.error("Error checking out:",Le),me.error(((ze=(ne=Le.response)==null?void 0:ne.data)==null?void 0:ze.message)||"Failed to check out. Please try again.")}},ct=()=>{const ne=a.length,ze=a.filter(dt=>dt.status==="PRESENT").length,Le=a.reduce((dt,ut)=>dt+(ut.totalHours||0),0),Ue=ne>0?Le/ne:0;return{totalDays:ne,presentDays:ze,totalHours:Le.toFixed(1),avgHours:Ue.toFixed(1),attendanceRate:ne>0?(ze/ne*100).toFixed(1):0}},Li=()=>{const ne=va(),ze=[["Date","Check In","Check Out","Hours","Status","Location"],...ne.map(ut=>[new Date(ut.date).toLocaleDateString(),ut.checkIn?new Date(ut.checkIn).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):"--",ut.checkOut?new Date(ut.checkOut).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):"--",ut.totalHours?`${ut.totalHours.toFixed(1)}h`:"--",ut.status,ut.location?"Yes":"No"])].map(ut=>ut.join(",")).join(`
`),Le=new Blob([ze],{type:"text/csv"}),Ue=window.URL.createObjectURL(Le),dt=document.createElement("a");dt.href=Ue,dt.download=`attendance_${fs[g]}_${v}.csv`,dt.click(),window.URL.revokeObjectURL(Ue)},va=()=>a.filter(ne=>T==="all"?!0:T==="Present"?ne.status==="PRESENT":T==="Absent"?ne.status==="ABSENT":T==="Half Day"?ne.status==="HALF_DAY":T==="Late"?ne.status==="LATE":ne.status===T),Rr=ct(),fs=["January","February","March","April","May","June","July","August","September","October","November","December"];return V?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-lg shadow-md p-6",children:e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center",children:[e.jsx(Ct,{className:"mr-2 text-blue-600"}),"Employee Attendance Management"]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("input",{type:"date",value:H,onChange:ne=>K(ne.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white"}),e.jsxs("select",{value:ee,onChange:ne=>J(ne.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white",children:[e.jsx("option",{value:"",children:"All Employees"}),U.map(ne=>e.jsx("option",{value:ne._id,children:ne.fullName},ne._id))]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-lg shadow-md p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900 rounded-lg",children:e.jsx(di,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Present Today"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:Z.presentToday||0})]})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-lg shadow-md p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-red-100 dark:bg-red-900 rounded-lg",children:e.jsx(It,{className:"h-6 w-6 text-red-600 dark:text-red-400"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Absent Today"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:Z.absentToday||0})]})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-lg shadow-md p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-yellow-100 dark:bg-yellow-900 rounded-lg",children:e.jsx(Ts,{className:"h-6 w-6 text-yellow-600 dark:text-yellow-400"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Half Day"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:Z.halfDayToday||0})]})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-lg shadow-md p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900 rounded-lg",children:e.jsx(Ot,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Employees"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:Z.totalEmployees||0})]})]})})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-lg shadow-md p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Employee Attendance - ",new Date(H).toLocaleDateString()]}),e.jsx("button",{onClick:()=>M(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Mark Attendance"})]}),u?e.jsx(Jt,{}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-slate-800",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Employee"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Check In"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Check Out"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Hours"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Status"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:O.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-4 py-8 text-center text-gray-500 dark:text-gray-400",children:"No attendance records found for selected date"})}):O.map(ne=>{var ze;return e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-800",children:[e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900 dark:text-white",children:((ze=ne.employeeId)==null?void 0:ze.fullName)||"N/A"}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900 dark:text-white",children:ne.checkIn?new Date(ne.checkIn).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):"--"}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900 dark:text-white",children:ne.checkOut?new Date(ne.checkOut).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):"--"}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900 dark:text-white",children:ne.totalHours?`${ne.totalHours.toFixed(1)}h`:"--"}),e.jsx("td",{className:"px-4 py-2",children:e.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${ne.status==="PRESENT"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":ne.status==="ABSENT"?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":ne.status==="HALF_DAY"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":ne.status==="LATE"?"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}`,children:ne.status})}),e.jsx("td",{className:"px-4 py-2 text-sm font-medium",children:e.jsx("button",{onClick:()=>G(ne),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:e.jsx(hs,{className:"h-4 w-4"})})})]},ne._id)})})]})})]}),_&&e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:e.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white dark:bg-slate-800",children:e.jsxs("div",{className:"mt-3",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Mark Attendance for Employee"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("select",{value:ee,onChange:ne=>J(ne.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white",children:[e.jsx("option",{value:"",children:"Select Employee"}),U.map(ne=>e.jsx("option",{value:ne._id,children:ne.fullName},ne._id))]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>se(ee,"PRESENT"),disabled:!ee,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed",children:"Present"}),e.jsx("button",{onClick:()=>se(ee,"HALF_DAY"),disabled:!ee,className:"flex-1 px-4 py-2 bg-yellow-600 text-white rounded-md hover:bg-yellow-700 disabled:bg-gray-400 disabled:cursor-not-allowed",children:"Half Day"}),e.jsx("button",{onClick:()=>se(ee,"ABSENT"),disabled:!ee,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:bg-gray-400 disabled:cursor-not-allowed",children:"Absent"})]}),e.jsx("div",{className:"flex justify-end space-x-2",children:e.jsx("button",{onClick:()=>M(!1),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400",children:"Cancel"})})]})]})})})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-lg shadow-md p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center mb-4",children:[e.jsx(Ts,{className:"mr-2 text-blue-600"}),"Today's Attendance"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:h.toTimeString().slice(0,8)}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Current Time"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:l!=null&&l.checkIn?new Date(l.checkIn).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):"--:--"}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Check In"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:l!=null&&l.checkOut?new Date(l.checkOut).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):"--:--"}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Check Out"})]})]}),e.jsx("div",{className:"flex justify-center gap-4",children:l!=null&&l.checkIn?l!=null&&l.checkOut?e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-green-600 font-medium",children:" Attendance marked for today"}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Working Hours: ",(Za=l.totalHours)==null?void 0:Za.toFixed(1)," hours"]}),(l==null?void 0:l.location)&&e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 flex items-center justify-center",children:[e.jsx(Cs,{className:"mr-1"}),"Location tracked"]})]}):e.jsxs("button",{onClick:Pe,disabled:E,className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center disabled:opacity-50",children:[E?e.jsx(_t,{className:"animate-spin mr-2"}):e.jsx(o0,{className:"mr-2"}),E?"Getting Location...":"Check Out"]}):e.jsxs("button",{onClick:Ae,disabled:E,className:"px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center disabled:opacity-50",children:[E?e.jsx(_t,{className:"animate-spin mr-2"}):e.jsx(N3,{className:"mr-2"}),E?"Getting Location...":"Check In"]})}),S&&e.jsx("div",{className:`mt-4 p-3 rounded-lg ${P?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800"}`,children:e.jsxs("div",{className:`flex items-center text-sm ${P?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[e.jsx(Cs,{className:"mr-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:P?" Within Office Range":" Outside Office Range"}),e.jsxs("div",{className:"text-xs mt-1",children:["Your Location: ",S.latitude.toFixed(6),", ",S.longitude.toFixed(6)]}),e.jsxs("div",{className:"text-xs",children:["Office Location: ",lr.latitude.toFixed(6),", ",lr.longitude.toFixed(6)]}),e.jsxs("div",{className:"text-xs",children:["Distance: ",S.distance?`${S.distance.toFixed(1)}m`:"Calculating...","(Required:  ",lr.allowedRadius,"m)"]}),e.jsxs("div",{className:"text-xs",children:["GPS Accuracy: ",S.accuracy.toFixed(0),"m"]})]})]})}),j&&e.jsx("div",{className:"mt-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:e.jsxs("div",{className:"flex items-center text-sm text-red-600 dark:text-red-400",children:[e.jsx(Cs,{className:"mr-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Location Error"}),e.jsx("div",{className:"text-xs mt-1",children:j})]})]})}),e.jsx("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:e.jsxs("div",{className:"flex items-center text-sm text-blue-600 dark:text-blue-400",children:[e.jsx(Cs,{className:"mr-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Office Location"}),e.jsxs("div",{className:"text-xs mt-1",children:[lr.latitude.toFixed(6),", ",lr.longitude.toFixed(6)]}),e.jsxs("div",{className:"text-xs",children:["Attendance allowed within ",lr.allowedRadius," meters radius"]})]})]})})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-lg shadow-md p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center mb-4",children:[e.jsx(Ac,{className:"mr-2 text-blue-600"}),"Monthly Statistics"]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:Rr.totalDays}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Days"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:Rr.presentDays}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Present"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[Rr.totalHours,"h"]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Hours"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:[Rr.avgHours,"h"]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avg Hours"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-indigo-600",children:[Rr.attendanceRate,"%"]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Attendance"})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-lg shadow-md p-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-4 gap-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center",children:[e.jsx(ci,{className:"mr-2 text-blue-600"}),"Attendance History"]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("select",{value:T,onChange:ne=>L(ne.target.value),className:"border border-gray-300 dark:border-gray-600 rounded px-3 py-1 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"Present",children:"Present"}),e.jsx("option",{value:"Absent",children:"Absent"}),e.jsx("option",{value:"Late",children:"Late"}),e.jsx("option",{value:"Half Day",children:"Half Day"})]}),e.jsx("select",{value:g,onChange:ne=>x(parseInt(ne.target.value)),className:"border border-gray-300 dark:border-gray-600 rounded px-3 py-1 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:fs.map((ne,ze)=>e.jsx("option",{value:ze,children:ne},ze))}),e.jsx("select",{value:v,onChange:ne=>w(parseInt(ne.target.value)),className:"border border-gray-300 dark:border-gray-600 rounded px-3 py-1 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[2023,2024,2025,2026,2027,2028,2029,2030].map(ne=>e.jsx("option",{value:ne,children:ne},ne))}),e.jsxs("button",{onClick:()=>Li(),className:"flex items-center px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700 transition-colors",children:[e.jsx(Pc,{className:"mr-1"}),"Export"]}),e.jsxs("button",{onClick:()=>q(!z),className:"flex items-center px-3 py-1 bg-purple-600 text-white rounded hover:bg-purple-700 transition-colors",children:[e.jsx(Ac,{className:"mr-1"}),"Reports"]})]})]}),u?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx(Jt,{size:45,text:"Loading attendance...",particleCount:1,speed:1.2,hueRange:[180,240]})}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-slate-800",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Date"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Check In"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Check Out"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Hours"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Status"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase",children:"Location"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:va().length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"px-4 py-8 text-center text-gray-500 dark:text-gray-400",children:"No attendance records found for selected filters"})}):va().map(ne=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-800",children:[e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900 dark:text-white",children:new Date(ne.date).toLocaleDateString()}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900 dark:text-white",children:ne.checkIn?new Date(ne.checkIn).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):"--"}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900 dark:text-white",children:ne.checkOut?new Date(ne.checkOut).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):"--"}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900 dark:text-white",children:ne.totalHours?`${ne.totalHours.toFixed(1)}h`:"--"}),e.jsx("td",{className:"px-4 py-2",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${ne.status==="Present"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":ne.status==="Late"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":ne.status==="Half Day"?"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:ne.status})}),e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900 dark:text-white",children:ne.location?e.jsx(Cs,{className:"text-green-600",title:"Location tracked"}):e.jsx("span",{className:"text-gray-400",children:"--"})})]},`${ne.date}-${ne._id||Date.now()}`))})]})}),z&&e.jsxs("div",{className:"mt-6 bg-gray-50 dark:bg-slate-800 rounded-lg p-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Detailed Analytics"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-900 p-4 rounded-lg",children:[e.jsx("h5",{className:"font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Weekly Pattern"}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.jsxs("p",{children:["Monday: ",a.filter(ne=>new Date(ne.date).getDay()===1).length," days"]}),e.jsxs("p",{children:["Tuesday: ",a.filter(ne=>new Date(ne.date).getDay()===2).length," days"]}),e.jsxs("p",{children:["Wednesday: ",a.filter(ne=>new Date(ne.date).getDay()===3).length," days"]}),e.jsxs("p",{children:["Thursday: ",a.filter(ne=>new Date(ne.date).getDay()===4).length," days"]}),e.jsxs("p",{children:["Friday: ",a.filter(ne=>new Date(ne.date).getDay()===5).length," days"]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-900 p-4 rounded-lg",children:[e.jsx("h5",{className:"font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Time Patterns"}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.jsxs("p",{children:["Early Check-ins: ",a.filter(ne=>ne.checkIn&&ne.checkIn<"09:00").length]}),e.jsxs("p",{children:["Late Check-ins: ",a.filter(ne=>ne.checkIn&&ne.checkIn>"09:15").length]}),e.jsxs("p",{children:["Early Check-outs: ",a.filter(ne=>ne.checkOut&&ne.checkOut<"17:30").length]}),e.jsxs("p",{children:["Late Check-outs: ",a.filter(ne=>ne.checkOut&&ne.checkOut>"18:30").length]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-900 p-4 rounded-lg",children:[e.jsx("h5",{className:"font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Performance"}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.jsxs("p",{children:["Perfect Days: ",a.filter(ne=>ne.workingHours>=8).length]}),e.jsxs("p",{children:["Short Days: ",a.filter(ne=>ne.workingHours<8&&ne.workingHours>0).length]}),e.jsxs("p",{children:["Location Tracked: ",a.filter(ne=>ne.location).length," days"]}),e.jsxs("p",{children:["Punctuality Score: ",a.length>0?(a.filter(ne=>ne.checkIn&&ne.checkIn<="09:00").length/a.length*100).toFixed(1):0,"%"]})]})]})]})]})]})]})},QS=({employeeData:t,onDataUpdated:r})=>{var C,j;const{user:s}=Fe(),[a,i]=y.useState(!1),[l,c]=y.useState(!1),[u,m]=y.useState({phoneNumber:"",whatsappNumber:"",linkedInUrl:"",currentAddress:"",permanentAddress:""}),[h,p]=y.useState({}),[g,x]=y.useState({});y.useEffect(()=>{t&&m({phoneNumber:t.phoneNumber||"",whatsappNumber:t.whatsappNumber||"",linkedInUrl:t.linkedInUrl||"",currentAddress:t.currentAddress||"",permanentAddress:t.permanentAddress||""})},[t]);const v=A=>{const{name:P,value:F}=A.target;m(T=>({...T,[P]:F}))},w=A=>{const{name:P,files:F}=A.target;F&&F[0]&&p(T=>({...T,[P]:F[0]}))},S=async()=>{if(t)try{c(!0),(await Kt.update(t._id,{employee:JSON.stringify(u)})).data.success&&(i(!1),r==null||r())}catch(A){console.error("Error updating personal info:",A),alert("Failed to update personal information. Please try again.")}finally{c(!1)}},k=async A=>{if(!(!h[A]||!t))try{x(T=>({...T,[A]:!0}));const P=new FormData;if(P.append(A,h[A]),(await Kt.update(t._id,P)).data.success){p(L=>({...L,[A]:null})),r==null||r();const T=document.querySelector(`input[name="${A}"]`);T&&(T.value="")}}catch(P){console.error("Error uploading file:",P),alert("Failed to upload file. Please try again.")}finally{x(P=>({...P,[A]:!1}))}},E=[{key:"photograph",label:"Photograph",accept:"image/*",icon:""},{key:"resume",label:"Resume",accept:".pdf,.doc,.docx",icon:""},{key:"tenthMarksheet",label:"10th Marksheet",accept:".pdf,.jpg,.jpeg,.png",icon:""},{key:"twelfthMarksheet",label:"12th Marksheet",accept:".pdf,.jpg,.jpeg,.png",icon:""},{key:"bachelorDegree",label:"Bachelor Degree",accept:".pdf,.jpg,.jpeg,.png",icon:""},{key:"postgraduateDegree",label:"Postgraduate Degree",accept:".pdf,.jpg,.jpeg,.png",icon:""},{key:"aadharCard",label:"Aadhar Card",accept:".pdf,.jpg,.jpeg,.png",icon:""},{key:"panCard",label:"PAN Card",accept:".pdf,.jpg,.jpeg,.png",icon:""},{key:"pcc",label:"PCC",accept:".pdf,.jpg,.jpeg,.png",icon:""},{key:"offerLetter",label:"Offer Letter",accept:".pdf,.doc,.docx",icon:""}];return e.jsxs("div",{className:"space-y-6 max-w-full overflow-hidden",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-lg shadow-md p-4 sm:p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center",children:[e.jsx(Ot,{className:"mr-2 text-blue-600"}),"Personal Information"]}),a?e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:S,disabled:l,className:"flex items-center px-3 py-1 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors disabled:opacity-50 text-sm",children:[l?e.jsx(_t,{className:"animate-spin mr-1"}):e.jsx(wv,{className:"mr-1"}),"Save"]}),e.jsxs("button",{onClick:()=>i(!1),className:"flex items-center px-3 py-1 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors text-sm",children:[e.jsx(It,{className:"mr-1"}),"Cancel"]})]}):e.jsxs("button",{onClick:()=>i(!0),className:"flex items-center px-3 py-1 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors text-sm",children:[e.jsx(hs,{className:"mr-1"}),"Edit"]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[e.jsx(n0,{className:"inline mr-2"}),"Phone Number"]}),a?e.jsx("input",{type:"tel",name:"phoneNumber",value:u.phoneNumber,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter phone number"}):e.jsx("p",{className:"text-gray-900 dark:text-white py-2",children:u.phoneNumber||"Not provided"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[e.jsx(n0,{className:"inline mr-2"}),"WhatsApp Number"]}),a?e.jsx("input",{type:"tel",name:"whatsappNumber",value:u.whatsappNumber,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter WhatsApp number"}):e.jsx("p",{className:"text-gray-900 dark:text-white py-2",children:u.whatsappNumber||"Not provided"})]}),e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[e.jsx(nh,{className:"inline mr-2"}),"LinkedIn URL"]}),a?e.jsx("input",{type:"url",name:"linkedInUrl",value:u.linkedInUrl,onChange:v,className:"w-full px-3 py-2 border border-gray-300 rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter LinkedIn profile URL"}):e.jsx("p",{className:"text-gray-900 dark:text-white py-2",children:u.linkedInUrl?e.jsx("a",{href:u.linkedInUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline break-all",children:u.linkedInUrl}):"Not provided"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[e.jsx(Cs,{className:"inline mr-2"}),"Current Address"]}),a?e.jsx("textarea",{name:"currentAddress",value:u.currentAddress,onChange:v,rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",placeholder:"Enter current address"}):e.jsx("p",{className:"text-gray-900 dark:text-white py-2",children:u.currentAddress||"Not provided"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[e.jsx(Cs,{className:"inline mr-2"}),"Permanent Address"]}),a?e.jsx("textarea",{name:"permanentAddress",value:u.permanentAddress,onChange:v,rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",placeholder:"Enter permanent address"}):e.jsx("p",{className:"text-gray-900 dark:text-white py-2",children:u.permanentAddress||"Not provided"})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-lg shadow-md p-4 sm:p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center mb-6",children:[e.jsx(s0,{className:"mr-2 text-blue-600"}),"Document Management"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:E.map(A=>e.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[A.icon," ",A.label]}),t&&t[A.key]&&e.jsx("span",{className:"text-xs text-green-600 bg-green-100 px-2 py-1 rounded",children:" Uploaded"})]}),t&&t[A.key]&&e.jsxs("p",{className:"text-xs text-gray-500 mb-2 truncate",children:["Current: ",t[A.key].split("/").pop()]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2",children:[e.jsx("input",{type:"file",name:A.key,accept:A.accept,onChange:w,className:"flex-1 text-sm text-gray-500 file:mr-2 file:py-1 file:px-2 file:rounded file:border-0 file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 file:cursor-pointer cursor-pointer"}),h[A.key]&&e.jsxs("button",{onClick:()=>k(A.key),disabled:g[A.key],className:"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center whitespace-nowrap",children:[g[A.key]?e.jsx(_t,{className:"animate-spin mr-1"}):e.jsx(s0,{className:"mr-1"}),"Upload"]})]})]},A.key))})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-lg shadow-md p-4 sm:p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center mb-6",children:[e.jsx(Ot,{className:"mr-2 text-blue-600"}),"Professional Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Email"}),e.jsxs("p",{className:"font-medium text-gray-900 dark:text-white flex items-center",children:[e.jsx(ls,{className:"mr-2 text-gray-500"}),e.jsx("span",{className:"truncate",children:(t==null?void 0:t.email)||"N/A"})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Employee ID"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:(t==null?void 0:t.employeeId)||"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Department"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:((C=t==null?void 0:t.department)==null?void 0:C.name)||"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Role"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:((j=t==null?void 0:t.role)==null?void 0:j.name)||"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Salary"}),e.jsxs("p",{className:"font-medium text-gray-900 dark:text-white flex items-center",children:[e.jsx(f3,{className:"mr-1 text-gray-500"}),t!=null&&t.salary?`${t.salary.toLocaleString()}`:"Not disclosed"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Status"}),e.jsx("span",{className:`inline-flex px-2 py-1 text-xs rounded-full ${(t==null?void 0:t.status)==="ACTIVE"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}`,children:(t==null?void 0:t.status)||"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Joining Date"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:t!=null&&t.joiningDate?new Date(t.joiningDate).toLocaleDateString():"N/A"})]})]})]})]})},JS=()=>{const[t,r]=y.useState(null),[s,a]=y.useState(!0),[i,l]=y.useState(!1),[c,u]=y.useState(!1),[m,h]=y.useState(""),[p,g]=y.useState(null),[x,v]=y.useState(!1),[w,S]=y.useState(""),k={latitude:28.607407,longitude:77.081754,allowedRadius:40};y.useEffect(()=>{E();const T=setInterval(E,6e4);return()=>clearInterval(T)},[]);const E=async()=>{var T,L;try{const z=await Ss.getTodayAttendance();if(z.data.success){const q=z.data.data?{data:{checkIn:z.data.data.checkIn?new Date(z.data.data.checkIn):null,checkOut:z.data.data.checkOut?new Date(z.data.data.checkOut):null,status:z.data.data.status||"PENDING",notes:z.data.data.notes||""},hasCheckedIn:z.data.hasCheckedIn,hasCheckedOut:z.data.hasCheckedOut}:null;if(r(q),(T=q==null?void 0:q.data)!=null&&T.checkIn&&!((L=q==null?void 0:q.data)!=null&&L.checkOut))try{await j()}catch(O){console.warn("Could not get location during refresh:",O)}}else me.error("Failed to fetch attendance status");a(!1)}catch(z){console.error("Error fetching today attendance:",z),me.error("Failed to fetch attendance status"),a(!1)}},C=(T,L,z,q)=>{const B=T*Math.PI/180,U=z*Math.PI/180,R=(z-T)*Math.PI/180,ee=(q-L)*Math.PI/180,J=Math.sin(R/2)*Math.sin(R/2)+Math.cos(B)*Math.cos(U)*Math.sin(ee/2)*Math.sin(ee/2);return 6371e3*(2*Math.atan2(Math.sqrt(J),Math.sqrt(1-J)))},j=()=>new Promise((T,L)=>{if(!navigator.geolocation){L(new Error("Geolocation is not supported by this browser."));return}v(!0),S(""),navigator.geolocation.getCurrentPosition(z=>{const q={latitude:z.coords.latitude,longitude:z.coords.longitude,accuracy:z.coords.accuracy},O=C(k.latitude,k.longitude,q.latitude,q.longitude),B=O<=k.allowedRadius;g({...q,distance:O,isInRange:B}),v(!1),B?T(q):(S(`You are ${O.toFixed(1)} meters away from office. Please move within ${k.allowedRadius} meters to mark attendance.`),L(new Error("Not in office range")))},z=>{v(!1);let q="Unable to get your location.";switch(z.code){case z.PERMISSION_DENIED:q="Location access denied. Please enable location services.";break;case z.POSITION_UNAVAILABLE:q="Location information is unavailable.";break;case z.TIMEOUT:q="Location request timed out.";break;default:q="An unknown error occurred while getting location.";break}S(q),L(new Error(q))},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})}),A=async()=>{var T,L;try{l(!0);const z=await j(),q=await Ss.checkIn({notes:m,location:z});if(q.data.success){const O={data:{checkIn:new Date(q.data.data.checkIn),checkOut:null,status:q.data.data.status||"PRESENT",notes:q.data.data.notes||""},hasCheckedIn:!0,hasCheckedOut:!1};r(O),h(""),me.success("Check-in successful!")}else me.error(q.data.message||"Failed to check in")}catch(z){console.error("Error checking in:",z),z.message==="Not in office range"?me.error("You must be within office premises to check in"):me.error(((L=(T=z.response)==null?void 0:T.data)==null?void 0:L.message)||"Failed to check in")}finally{l(!1)}},P=async()=>{var T,L;try{u(!0);const z=await j(),q=await Ss.checkOut({notes:m,location:z});if(q.data.success){const O={data:{checkIn:new Date(q.data.data.checkIn),checkOut:new Date(q.data.data.checkOut),status:q.data.data.status||"PRESENT",notes:q.data.data.notes||""},hasCheckedIn:!0,hasCheckedOut:!0};r(O),h(""),me.success("Check-out successful!")}else me.error(q.data.message||"Failed to check out")}catch(z){console.error("Error checking out:",z),z.message==="Not in office range"?me.error("You must be within office premises to check out"):me.error(((L=(T=z.response)==null?void 0:T.data)==null?void 0:L.message)||"Failed to check out")}finally{u(!1)}},F=T=>new Date(T).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0});return s?e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-md p-6",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4 mb-4"}),e.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-1/2"})]})}):e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-md p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Today's Attendance"}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date().toLocaleDateString()})]}),t!=null&&t.data?e.jsxs("div",{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg",children:[e.jsx("div",{className:"text-green-800 dark:text-green-300 text-sm font-medium",children:"Check-in Time"}),e.jsx("div",{className:"text-green-900 dark:text-green-100 text-lg font-bold",children:F(t.data.checkIn)})]}),t.data.checkOut?e.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-4 rounded-lg",children:[e.jsx("div",{className:"text-red-800 dark:text-red-300 text-sm font-medium",children:"Check-out Time"}),e.jsx("div",{className:"text-red-900 dark:text-red-100 text-lg font-bold",children:F(t.data.checkOut)})]}):e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[e.jsx("div",{className:"text-gray-600 dark:text-gray-400 text-sm font-medium",children:"Check-out Time"}),e.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-lg",children:"Not checked out"})]})]}),p&&e.jsx("div",{className:`mt-4 p-3 rounded-lg ${p.isInRange?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800"}`,children:e.jsxs("div",{className:`flex items-center text-sm ${p.isInRange?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[e.jsx(Cs,{className:"mr-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:p.isInRange?" Within Office Range":" Outside Office Range"}),e.jsxs("div",{className:"text-xs mt-1",children:["Distance: ",p.distance?`${p.distance.toFixed(1)}m`:"Calculating...","(Required:  ",k.allowedRadius,"m)"]})]})]})}),!t.data.checkOut&&e.jsxs("div",{className:"mt-4 space-y-3",children:[e.jsx("textarea",{value:m,onChange:T=>h(T.target.value),placeholder:"Add notes for check-out (optional)",className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-slate-700 text-gray-900 dark:text-white",rows:"2"}),e.jsx("button",{onClick:P,disabled:c||x,className:"w-full bg-red-600 hover:bg-red-700 disabled:bg-red-400 text-white py-2 px-4 rounded-md transition-colors flex items-center justify-center",children:x?e.jsxs(e.Fragment,{children:[e.jsx(_t,{className:"animate-spin mr-2"}),"Getting Location..."]}):c?e.jsxs(e.Fragment,{children:[e.jsx(_t,{className:"animate-spin mr-2"}),"Checking Out..."]}):"Check Out"})]})]}):e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"You haven't checked in today"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("textarea",{value:m,onChange:T=>h(T.target.value),placeholder:"Add notes for check-in (optional)",className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-slate-700 text-gray-900 dark:text-white",rows:"2"}),e.jsx("button",{onClick:A,disabled:i||x,className:"w-full bg-green-600 hover:bg-green-700 disabled:bg-green-400 text-white py-2 px-4 rounded-md transition-colors flex items-center justify-center",children:x?e.jsxs(e.Fragment,{children:[e.jsx(_t,{className:"animate-spin mr-2"}),"Getting Location..."]}):i?e.jsxs(e.Fragment,{children:[e.jsx(_t,{className:"animate-spin mr-2"}),"Checking In..."]}):"Check In"})]})]}),w&&e.jsx("div",{className:"mt-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:e.jsx("div",{className:"text-sm text-red-600 dark:text-red-400",children:w})})]})},ZS=()=>{var C;const[t,r]=y.useState([]),[s,a]=y.useState(!0),[i,l]=y.useState(null),[c,u]=y.useState(null),{user:m}=Fe(),[h,p]=y.useState(new Date().getMonth()+1),[g,x]=y.useState(new Date().getFullYear()),v=async()=>{try{a(!0);const j=await Fa.getAll({month:h,year:g});console.log("Payroll API Response:",j.data),r(j.data.data),u(j.data.debug),l(null)}catch(j){console.error("Error fetching payroll data:",j),l("Failed to load salary data"),r([])}finally{a(!1)}};y.useEffect(()=>{v()},[h,g]);const w=async j=>{try{const A=await Fa.downloadSalarySlip(j),P=new Blob([A.data],{type:"application/pdf"}),F=window.URL.createObjectURL(P),T=document.createElement("a");T.href=F,T.setAttribute("download",`salary-slip-${h}-${g}.pdf`),document.body.appendChild(T),T.click(),T.remove(),window.URL.revokeObjectURL(F)}catch(A){console.error("Error downloading salary slip:",A),alert("Failed to download salary slip. Please try again.")}},S=[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}],k=new Date().getFullYear(),E=Array.from({length:5},(j,A)=>k+1-A);return s?e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:e.jsx("div",{className:"animate-pulse flex space-x-4",children:e.jsxs("div",{className:"flex-1 space-y-4 py-1",children:[e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded"}),e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-5/6"})]})]})})}):e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white",children:"Salary Slips"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("select",{value:h,onChange:j=>p(Number(j.target.value)),className:"px-3 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:S.map(j=>e.jsx("option",{value:j.value,children:j.label},j.value))}),e.jsx("select",{value:g,onChange:j=>x(Number(j.target.value)),className:"px-3 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:E.map(j=>e.jsx("option",{value:j,children:j},j))})]})]}),i?e.jsxs("div",{className:"text-center text-red-500 dark:text-red-400",children:[e.jsx("p",{children:i}),e.jsx("button",{onClick:v,className:"mt-2 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Try Again"})]}):t.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsxs("p",{className:"text-gray-500 dark:text-gray-400",children:["No salary slips available for ",(C=S.find(j=>j.value===h))==null?void 0:C.label," ",g]}),c&&e.jsxs("div",{className:"mt-4 text-xs text-gray-400",children:[e.jsxs("p",{children:["User Role: ",c.userRole]}),e.jsxs("p",{children:["Employee ID: ",c.employeeId]}),e.jsxs("p",{children:["User ID: ",c.userId]})]})]}):e.jsx("div",{className:"space-y-4",children:t.map(j=>{var A;return e.jsxs("div",{className:"flex items-center justify-between p-4 border dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"font-medium text-gray-800 dark:text-white",children:[(A=S.find(P=>P.value===j.month))==null?void 0:A.label," ",j.year]}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Net Salary: ",j.netSalary.toLocaleString()]}),e.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:["Status: ",j.status]}),j._employeeMatch&&e.jsx("span",{className:"text-xs text-green-500",children:"Employee Match"}),j._userMatch&&e.jsx("span",{className:"text-xs text-blue-500 ml-2",children:"User Match"})]}),e.jsx("div",{className:"flex space-x-2",children:e.jsx("button",{onClick:()=>w(j._id),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:ring-offset-gray-800",children:"Download"})})]},j._id)})})]})},e8=t=>t?t.startsWith("http")?t:`${window.location.origin}${t}`:null,t8=()=>{var H,K,I,G,_,M,Z,X,V,de,ue,le,te,pe;const{user:t,loading:r,setUser:s}=Fe(),[a,i]=y.useState(!1),[l,c]=y.useState(null),[u,m]=y.useState(null),[h,p]=y.useState(null),[g,x]=y.useState(null),[v,w]=y.useState(),[S,k]=y.useState(null),[E,C]=y.useState(!1),[j,A]=y.useState(null),[P,F]=y.useState(!1),[T,L]=y.useState("profile"),z=y.useRef(null);y.useRef(null);const q=se=>{const we=new Date(se);return we.toLocaleDateString()+" "+we.toLocaleTimeString()},O=(se,we,W)=>_S(IS({unit:"%",width:90},W,se,we),se,we);y.useCallback(se=>{const{width:we,height:W}=se.currentTarget;w(O(we,W,1))},[]);const B=se=>{const we=se.target.files[0];if(we){if(!we.type.match("image.*")){c("Please select an image file");return}if(we.size>5*1024*1024){c("Image size should be less than 5MB");return}c(null),x(we),p(URL.createObjectURL(we)),C(!0)}},U=async()=>{var se,we;if(u)try{i(!0),c(null);const W=new FormData;W.append("profilePicture",g);const ye=await Et.updateProfilePicture(W);if(ye.data&&ye.data.success){const Ae={...t,profilePicture:ye.data.data.profilePicture};s(Ae),m(null),p(null),x(null),me.success("Profile picture updated successfully")}else c("Failed to update profile picture"),me.error("Failed to update profile picture")}catch(W){console.error("Error uploading profile picture:",W);const ye=((we=(se=W.response)==null?void 0:se.data)==null?void 0:we.message)||"Failed to upload profile picture. Please try again.";c(ye),me.error(ye)}finally{i(!1)}},R=()=>{u&&URL.revokeObjectURL(u),h&&URL.revokeObjectURL(h),m(null),p(null),x(null),C(!1),c(null),w(void 0),k(null),z.current&&(z.current.value="")};y.useEffect(()=>()=>{u&&URL.revokeObjectURL(u),h&&URL.revokeObjectURL(h)},[u,h]);const ee=async()=>{var se;if(t)try{F(!0);const we=await Kt.getAll(),W=((se=we.data)==null?void 0:se.data)||we.data||[];if(Array.isArray(W)){let ye=W.find(Ae=>{var Pe;return Ae.userId===t._id||Ae._id===t.employeeId||((Pe=Ae.personalInfo)==null?void 0:Pe.email)&&Ae.personalInfo.email===t.email||Ae.email&&Ae.email===t.email});A(ye||null)}}catch(we){console.error("Error fetching employee data:",we)}finally{F(!1)}};if(y.useEffect(()=>{t&&!r&&ee()},[t,r]),r)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:e.jsx(Jt,{size:60,text:"Loading profile...",particleCount:2,speed:1.2,hueRange:[180,260]})});if(!t)return e.jsx(Km,{to:"/login"});const J=[{id:"profile",label:"Profile",icon:Ot},{id:"self-service",label:"Self Service",icon:hs},{id:"attendance",label:"Attendance",icon:Ts},{id:"salary",label:"Salary",icon:vv},{id:"leave",label:"Leave Management",icon:Es}];return e.jsx(Je,{children:e.jsx("div",{className:"w-full min-h-screen bg-gradient-to-br from-blue-50 via-white to-blue-100 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 flex flex-col items-center justify-center py-0 px-0",children:e.jsxs("div",{className:"w-full max-w-6xl bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out rounded-2xl shadow-2xl overflow-hidden shadow-lg mt-0 mb-0 flex flex-col min-h-[90vh]",children:[e.jsx("div",{className:"bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 shadow-sm dark:shadow-xl hover:shadow-md transition-all duration-200 text-white p-8 flex items-center justify-between",children:e.jsx("h2",{className:"text-3xl font-extrabold tracking-tight",children:"User Profile"})}),e.jsxs("div",{className:"flex-1 flex flex-col md:flex-row",children:[e.jsxs("div",{className:"w-full md:w-1/3 xl:w-1/4 bg-gradient-to-b from-blue-50 to-white dark:from-slate-800 dark:to-slate-900 p-8 flex flex-col items-center justify-start border-r border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{className:"relative h-24 w-24 rounded-full mx-auto mb-4",children:[u?e.jsx("img",{src:u,alt:"Profile Preview",className:"h-24 w-24 rounded-full object-cover border-2 border-blue-300"}):(H=j==null?void 0:j.documents)!=null&&H.photo?e.jsx("img",{src:`/api/employees/file/${j.documents.photo}`,alt:t.fullName,className:"h-24 w-24 rounded-full object-cover border-2 border-blue-200"}):t.profilePicture?e.jsx("img",{src:e8(t.profilePicture),alt:t.fullName,className:"h-24 w-24 rounded-full object-cover",onError:se=>{se.target.style.display="none",se.target.nextSibling.style.display="flex"}}):e.jsx("div",{className:"h-24 w-24 rounded-full bg-blue-100 flex items-center justify-center",children:e.jsx("span",{className:"text-3xl font-bold text-blue-600",children:(K=j==null?void 0:j.personalInfo)!=null&&K.firstName?j.personalInfo.firstName.charAt(0).toUpperCase():t.fullName?t.fullName.charAt(0).toUpperCase():"U"})}),t.profilePicture&&e.jsx("div",{className:"h-24 w-24 rounded-full bg-blue-100 flex items-center justify-center",style:{display:"none"},children:e.jsx("span",{className:"text-3xl font-bold text-blue-600",children:t.fullName?t.fullName.charAt(0).toUpperCase():"U"})}),e.jsx("label",{htmlFor:"profile-upload",className:"absolute bottom-0 right-0 bg-blue-600 hover:bg-blue-700 text-white rounded-full p-2 cursor-pointer",children:e.jsx(d3,{size:12})}),e.jsx("input",{type:"file",id:"profile-upload",className:"hidden",accept:"image/*",onChange:B,ref:z})]}),u&&!E&&e.jsxs("div",{className:"flex justify-center space-x-3 mb-4",children:[e.jsx("button",{onClick:U,disabled:a,className:`p-2 rounded-full ${a?"bg-gray-300":"bg-green-500 hover:bg-green-600"} text-white`,children:e.jsx(di,{size:12})}),e.jsx("button",{onClick:R,disabled:a,className:"p-2 rounded-full bg-red-500 hover:bg-red-600 text-white",children:e.jsx(It,{size:12})})]}),l&&e.jsx("div",{className:"text-red-500 text-sm mb-2",children:l}),e.jsx("h3",{className:"text-xl font-bold mt-2",children:(I=j==null?void 0:j.personalInfo)!=null&&I.firstName&&((G=j==null?void 0:j.personalInfo)!=null&&G.lastName)?`${j.personalInfo.firstName} ${j.personalInfo.lastName}`:t.fullName}),e.jsx("p",{className:"text-gray-600 dark:text-gray-500",children:((_=j==null?void 0:j.personalInfo)==null?void 0:_.email)||t.email}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2 justify-center",children:[e.jsx("span",{className:"inline-block px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-semibold",children:t.role}),(j==null?void 0:j.employeeId)&&e.jsxs("span",{className:"inline-block px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-semibold",children:["ID: ",j.employeeId]}),((M=j==null?void 0:j.department)==null?void 0:M.name)&&e.jsx("span",{className:"inline-block px-3 py-1 bg-purple-100 text-purple-800 rounded-full text-sm font-semibold",children:j.department.name})]})]}),e.jsxs("div",{className:"flex-1 p-8 overflow-y-auto",children:[e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:e.jsx("nav",{className:"-mb-px flex space-x-8",children:J.map(se=>e.jsxs("button",{onClick:()=>L(se.id),className:`${T===se.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"} whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm flex items-center`,children:[e.jsx(se.icon,{className:"mr-2 h-4 w-4"}),se.label]},se.id))})})}),T==="profile"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-4",children:[e.jsx("h4",{className:"text-lg font-bold mb-2",children:"Account Details"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-500",children:"User ID"}),e.jsx("p",{className:"font-medium",children:t._id})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-500",children:"Created"}),e.jsx("p",{className:"font-medium",children:q(t.createdAt)})]})]})]}),t.role==="Sales Person"&&e.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-4",children:[e.jsx("h4",{className:"text-lg font-bold mb-2",children:"Sales Information"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-500",children:"You have access to view and manage leads assigned to you."}),e.jsx("div",{className:"mt-2 p-2 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[" ",e.jsx("strong",{children:"Tip:"})," Use the ",e.jsx("strong",{children:'"My Leave"'})," and ",e.jsx("strong",{children:'"My Attendance"'})," tabs above to manage your leave applications and attendance."]})})]}),t.role==="Lead Person"&&e.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-4",children:[e.jsx("h4",{className:"text-lg font-bold mb-2",children:"Lead Management"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-500",children:"You have access to create leads and view leads assigned to you."}),e.jsx("div",{className:"mt-2 p-2 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[" ",e.jsx("strong",{children:"Tip:"})," Use the ",e.jsx("strong",{children:'"My Leave"'})," and ",e.jsx("strong",{children:'"My Attendance"'})," tabs above to manage your leave applications and attendance."]})})]}),(t.role==="Admin"||t.role==="Manager")&&e.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-4",children:[e.jsx("h4",{className:"text-lg font-bold mb-2",children:"Administrative Access"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-500",children:"You have access to all leads and administrative functions."}),e.jsx("div",{className:"mt-2 p-2 bg-green-50 dark:bg-green-900/20 rounded-lg",children:e.jsxs("p",{className:"text-sm text-green-800 dark:text-green-200",children:[" ",e.jsx("strong",{children:"Admin/Manager:"})," Approve leave applications in ",e.jsx("strong",{children:"Employee Management  Leave Approvals"}),". Use ",e.jsx("strong",{children:'"My Leave"'})," tab above for your own leave applications."]})})]}),t.role==="HR"&&e.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-4",children:[e.jsx("h4",{className:"text-lg font-bold mb-2",children:"HR Access"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-500",children:"You have access to employee management and HR functions."}),e.jsx("div",{className:"mt-2 p-2 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:e.jsxs("p",{className:"text-sm text-purple-800 dark:text-purple-200",children:[" ",e.jsx("strong",{children:"HR:"})," Manage employee records and documents. Use ",e.jsx("strong",{children:'"My Leave"'})," tab above for your own leave applications."]})})]}),t.role==="Employee"&&e.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-4",children:[e.jsx("h4",{className:"text-lg font-bold mb-2",children:"Employee Access"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-500",children:"You have access to general employee functions and self-service features."}),e.jsx("div",{className:"mt-2 p-2 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[" ",e.jsx("strong",{children:"Tip:"})," Use the ",e.jsx("strong",{children:'"My Leave"'})," and ",e.jsx("strong",{children:'"My Attendance"'})," tabs above to manage your leave applications and attendance."]})})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800 rounded-lg p-4",children:[e.jsxs("h4",{className:"text-lg font-bold mb-4 text-gray-900 dark:text-white flex items-center",children:[e.jsx(Tc,{className:"mr-2 text-blue-600"}),"Employee Information"]}),P?e.jsxs("div",{className:"flex items-center justify-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500 mr-3"}),e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Setting up your employee profile..."})]}):j?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Employee ID:"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:j.employeeId||"Auto-generated"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Department:"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:((Z=j.department)==null?void 0:Z.name)||((X=j.professionalInfo)==null?void 0:X.department)||"Not assigned"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Position:"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:((V=j.role)==null?void 0:V.name)||((de=j.professionalInfo)==null?void 0:de.role)||t.role})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Salary:"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:j.salary?`${j.salary.toLocaleString()}`:"Not disclosed"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Status:"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:j.status||"Active"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Joining Date:"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:j.joiningDate?new Date(j.joiningDate).toLocaleDateString():(ue=j.professionalInfo)!=null&&ue.joiningDate?new Date(j.professionalInfo.joiningDate).toLocaleDateString():"Recently joined"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Phone:"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:j.phoneNumber||((le=j.personalInfo)==null?void 0:le.phoneNumber)||"Not provided"})]})]}),j.documents&&e.jsxs("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx("h5",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:"Document Status"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 text-sm",children:Object.entries(j.documents).map(([se,we])=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:`w-2 h-2 rounded-full mr-2 ${we?"bg-green-500":"bg-red-500"}`}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:se.replace(/([A-Z])/g," $1").replace(/^./,W=>W.toUpperCase())})]},se))})]}),e.jsx("div",{className:"mt-4 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:e.jsx("p",{className:"text-sm text-green-800 dark:text-green-200",children:" Your employee profile is active. Additional details and documents can be updated by managers or administrators."})})]}):e.jsx("div",{className:"text-center py-8",children:e.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-center mb-2",children:[e.jsx(Tc,{className:"text-yellow-600 dark:text-yellow-400 text-2xl mr-2"}),e.jsx("h5",{className:"text-lg font-medium text-yellow-800 dark:text-yellow-200",children:"Setting Up Profile"})]}),e.jsx("p",{className:"text-yellow-700 dark:text-yellow-300 mb-3",children:"Your employee profile is being set up automatically based on your user account."}),e.jsx("button",{onClick:ee,className:"px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition-colors",children:"Refresh Profile"})]})})]})]}),T==="attendance"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(JS,{}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Quick Stats"}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"This Month"}),e.jsx("span",{className:"font-semibold text-gray-900 dark:text-white"})]})})]})]}),e.jsx(Qv,{employeeId:(j==null?void 0:j._id)||t._id,userRole:t==null?void 0:t.role})]}),T==="salary"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(ZS,{}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Salary Information"}),j&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Monthly Salary"}),e.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:j.salary?`${j.salary.toLocaleString()}`:"Not disclosed"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Department"}),e.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:((te=j.department)==null?void 0:te.name)||"Not assigned"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Role"}),e.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:((pe=j.role)==null?void 0:pe.name)||t.role})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Employee Status"}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${j.status==="ACTIVE"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}`,children:j.status||"Active"})]})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Payroll Information"}),e.jsxs("div",{className:"text-gray-600 dark:text-gray-400 text-sm space-y-2",children:[e.jsx("p",{children:" Your salary is calculated based on your attendance and working days"}),e.jsx("p",{children:" Monthly salary is divided by 30 working days to calculate daily rate"}),e.jsx("p",{children:" Incentives and bonuses are added to your base salary"}),e.jsx("p",{children:" Deductions include PF, ESI, and professional tax as per government regulations"}),e.jsx("p",{children:" Download your salary slip once it's approved by HR/Admin"})]})]})]}),T==="self-service"&&j&&e.jsx(QS,{employeeData:j,onDataUpdated:ee}),T==="leave"&&e.jsx(qv,{employeeId:(j==null?void 0:j._id)||t._id,userRole:t==null?void 0:t.role})]})]})]})})})},r8=()=>{const{user:t}=Fe(),[r,s]=y.useState(""),[a,i]=y.useState(""),[l,c]=y.useState(!1);y.useEffect(()=>{const m=localStorage.getItem("token");s(m||"No token found")},[]);const u=async()=>{var m;c(!0);try{const g=await lt.get("https://crm-trial-backend.onrender.com/api/auth/debug",{headers:{Authorization:`Bearer ${r}`}});i(JSON.stringify(g.data,null,2))}catch(h){i(JSON.stringify(((m=h.response)==null?void 0:m.data)||h.message,null,2))}c(!1)};return e.jsx(Je,{children:e.jsxs("div",{className:"container mx-auto p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Authentication Debug"}),e.jsxs("div",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out p-6 rounded shadow-md dark:shadow-black/25 mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Current User"}),e.jsx("pre",{className:"bg-gray-100 dark:bg-slate-700 p-4 rounded overflow-auto",children:JSON.stringify(t,null,2)||"Not logged in"})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out p-6 rounded shadow-md dark:shadow-black/25 mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Stored Token"}),e.jsx("pre",{className:"bg-gray-100 dark:bg-slate-700 p-4 rounded overflow-auto mb-4",children:r}),e.jsx("button",{onClick:u,disabled:l,className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 shadow-sm dark:shadow-xl hover:shadow-md transition-all duration-200",children:l?"Testing...":"Test Token"})]}),a&&e.jsxs("div",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out p-6 rounded shadow-md dark:shadow-black/25",children:[e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Test Result"}),e.jsx("pre",{className:"bg-gray-100 dark:bg-slate-700 p-4 rounded overflow-auto",children:a})]})]})})},s8=()=>{const{user:t}=Fe(),[r,s]=y.useState({totalLeads:0,totalSales:0,totalRevenue:0,totalUsers:0,recentLeads:[],recentSales:[],userCounts:{salesPerson:0,leadPerson:0,manager:0,admin:0},itStats:{itManager:0,itIntern:0,itPermanent:0,totalProjects:0,activeProjects:0,completedProjects:0,totalTasks:0,pendingTasks:0,completedTasks:0},leadStages:{Introduction:0,Acknowledgement:0,Question:0,"Future Promise":0,Payment:0,Analysis:0}}),[a,i]=y.useState("Acknowledgement"),[l,c]=y.useState([]),[u,m]=y.useState(!0),[h,p]=y.useState(null),[g,x]=y.useState({});y.useEffect(()=>{S(),v()},[]),y.useEffect(()=>{r.totalLeads>0&&k()},[a]);const v=async()=>{try{const j=await hv.getRates();j.data&&j.data.rates&&x(j.data.rates)}catch(j){console.error("Error loading exchange rates:",j),x({USD:1,EUR:.85,GBP:.73,INR:83.12,CAD:1.36,AUD:1.52,JPY:149.5,CNY:7.24})}},w=(j,A)=>{if(!j||isNaN(j))return 0;const P=g;if(A==="USD")return parseFloat(j);if(!P||Object.keys(P).length===0){const L={INR:88.02,EUR:.92,GBP:.79,CAD:1.37,AUD:1.51,JPY:150.25,CNY:7.15}[A]||1;return parseFloat(j)/L}const F=P[A]!==void 0&&!isNaN(P[A])?P[A]:1;return parseFloat(j)/F},S=async()=>{var j,A;try{m(!0);let P=[];if((t==null?void 0:t.role)==="Sales Person"){const J=await $t.getAssigned();P=J.data.success?J.data.data:[],console.log("Sales Person assigned leads:",P.length)}else{const J=await $t.getAll();P=J.data.success?J.data.data:[],console.log("All leads fetched:",P.length)}let F=0,T=[];try{F=await pv()}catch(J){console.error("Error getting direct sales count:",J)}try{const J=await Vn.getAll();J.data&&J.data.success&&(T=J.data.data)}catch(J){console.error("Error fetching sales data:",J)}T.length>0&&(console.log("Sales Data Sample:",T[0]),console.log("Sales Data Fields:",Object.keys(T[0])));const L=await Et.getUsers(),z=L.data.success?L.data.data:[],q=T.reduce((J,H)=>{const K=H.totalCost||H.amount||0,I=H.totalCostCurrency||H.currency||"USD",G=w(K,I);return I!=="USD"&&K>0&&console.log(`Converting ${K} ${I} to USD: ${G}`),J+G},0);console.log(" Admin Dashboard - Total Revenue Calculation Summary:"),console.log(`- Total Sales Records: ${T.length}`),console.log(`- Total Revenue (converted to USD): $${q.toFixed(2)}`),console.log("- Exchange Rates Available:",g?Object.keys(g):"No exchange rates loaded"),console.log("- Exchange Rates Values:",g),g&&g.INR&&(console.log(" Dashboard Test: 1000 INR to USD:",w(1e3,"INR")),console.log(" Dashboard Test: 712085 INR to USD:",w(712085,"INR")));const O=[...P].sort((J,H)=>new Date(H.createdAt)-new Date(J.createdAt)).slice(0,5);O.length>0&&(console.log("Recent leads date analysis:"),O.forEach((J,H)=>{var I,G;const K=new Date(J.createdAt);console.log(`Lead ${H+1}: ${J.name}`),console.log(`  - Raw createdAt: ${J.createdAt}`),console.log(`  - Parsed Date: ${K}`),console.log(`  - Formatted: ${K.toLocaleDateString()}`),console.log(`  - Is valid date: ${!isNaN(K.getTime())}`),console.log(`  - Lead Person: ${((I=J.leadPerson)==null?void 0:I.fullName)||((G=J.leadPerson)==null?void 0:G.name)||"N/A"}`),console.log("---")}));const B=[...T].sort((J,H)=>new Date(H.createdAt)-new Date(J.createdAt)).slice(0,5);B.length>0&&console.log("Recent sales sample:",B[0]);const U={salesPerson:z.filter(J=>J.role==="Sales Person").length,leadPerson:z.filter(J=>J.role==="Lead Person").length,manager:z.filter(J=>J.role==="Manager").length,admin:z.filter(J=>J.role==="Admin").length};let R={itManager:0,itIntern:0,itPermanent:0,totalProjects:0,activeProjects:0,completedProjects:0,totalTasks:0,pendingTasks:0,completedTasks:0};try{const J=z.filter(ue=>ue.role==="IT Manager").length,H=z.filter(ue=>ue.role==="IT Intern").length,K=z.filter(ue=>ue.role==="IT Permanent").length,G=((j=(await ce.get("/it-projects")).data)==null?void 0:j.data)||[],_=G.filter(ue=>ue.status==="ACTIVE").length,M=G.filter(ue=>ue.status==="COMPLETED").length,X=((A=(await ce.get("/tasks?department=IT")).data)==null?void 0:A.data)||[],V=X.filter(ue=>ue.status==="Pending"||ue.status==="In Progress").length,de=X.filter(ue=>ue.status==="Manager Confirmed"||ue.status==="Employee Completed").length;R={itManager:J,itIntern:H,itPermanent:K,totalProjects:G.length,activeProjects:_,completedProjects:M,totalTasks:X.length,pendingTasks:V,completedTasks:de}}catch(J){console.error("Error fetching IT stats:",J)}const ee={Introduction:P.filter(J=>J.status==="Introduction").length,Acknowledgement:P.filter(J=>J.status==="Acknowledgement").length,Question:P.filter(J=>J.status==="Question").length,"Future Promise":P.filter(J=>J.status==="Future Promise").length,Payment:P.filter(J=>J.status==="Payment").length,Analysis:P.filter(J=>J.status==="Analysis").length};s({totalLeads:P.length,totalSales:F||T.length,totalRevenue:q,totalUsers:z.length,recentLeads:O,recentSales:B,userCounts:U,itStats:R,leadStages:ee}),k(P,a),p(null)}catch(P){console.error("Error fetching dashboard data:",P),p("Failed to load dashboard data. Please try again.")}finally{m(!1)}},k=async(j=null,A=a)=>{try{let P=j;if(!P)if((t==null?void 0:t.role)==="Sales Person"){const T=await $t.getAssigned();P=T.data.success?T.data.data:[]}else{const T=await $t.getAll();P=T.data.success?T.data.data:[]}const F=P.filter(T=>T.status===A);c(F)}catch(P){console.error("Error filtering leads by stage:",P),c([])}},E=j=>{i(j),k(null,j)},C=j=>new Date(j).toLocaleDateString();return e.jsx(Je,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 bg-clip-text text-transparent",children:(t==null?void 0:t.role)==="Lead Person"?"Lead Person Dashboard":(t==null?void 0:t.role)==="Sales Person"?"Sales Person Dashboard":"Admin Dashboard"}),e.jsxs("p",{className:"text-lg text-gray-600 dark:text-gray-400 mt-2",children:["Welcome back,"," ",e.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:t==null?void 0:t.fullName}),"! Here's what's happening with your CRM today."]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Last updated"}),e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:new Date().toLocaleString()})]}),e.jsx("button",{onClick:S,disabled:u,className:"p-3 bg-white dark:bg-slate-800 rounded-full shadow-md hover:shadow-lg transition-all duration-200 hover:scale-105 disabled:opacity-50",children:e.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]})]})}),h&&e.jsx("div",{className:"bg-red-50 text-red-600 p-4 rounded-lg mb-6",children:h}),u?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsxs("div",{className:"group relative bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 border border-gray-100 dark:border-slate-700",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/10 to-indigo-500/10 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-xl shadow-lg",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:r.totalLeads}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Leads"})]})]}),e.jsxs(Te,{to:"/admin/leads",className:"inline-flex items-center text-sm font-medium text-purple-600 hover:text-purple-700 dark:text-purple-400 dark:hover:text-purple-300 transition-colors",children:["Manage leads",e.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]}),e.jsxs("div",{className:"group relative bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 border border-gray-100 dark:border-slate-700",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-500/10 to-emerald-500/10 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl shadow-lg",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:r.totalSales}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Sales"})]})]}),e.jsxs(Te,{to:"/sales-tracking",className:"inline-flex items-center text-sm font-medium text-green-600 hover:text-green-700 dark:text-green-400 dark:hover:text-green-300 transition-colors",children:["View all sales",e.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]}),e.jsxs("div",{className:"group relative bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 border border-gray-100 dark:border-slate-700",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/10 to-cyan-500/10 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-xl shadow-lg",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-2.239"})})}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:r.totalUsers}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Users"})]})]}),e.jsxs(Te,{to:"/admin/users",className:"inline-flex items-center text-sm font-medium text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 transition-colors",children:["Manage users",e.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[e.jsxs(Te,{to:"/admin/activity-logs",className:"group relative bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 border border-gray-100 dark:border-slate-700",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/10 to-cyan-500/10 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-xl shadow-lg",children:e.jsx(x3,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Activity Logs"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Track all system activities"})]})]}),e.jsxs("div",{className:"flex items-center text-sm font-medium text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 transition-colors",children:["View logs",e.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]}),e.jsxs(Te,{to:"/lead-sales-sheet",className:"group relative bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 border border-gray-100 dark:border-slate-700",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/10 to-pink-500/10 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl shadow-lg",children:e.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Lead Sales Sheet"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"View all lead person sales"})]})]}),e.jsxs("div",{className:"flex items-center text-sm font-medium text-purple-600 hover:text-purple-700 dark:text-purple-400 dark:hover:text-purple-300 transition-colors",children:["View sheet",e.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]}),e.jsxs(Te,{to:"/tasks",className:"group relative bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 border border-gray-100 dark:border-slate-700",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-500/10 to-emerald-500/10 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl shadow-lg",children:e.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Task Management"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Manage and track tasks"})]})]}),e.jsxs("div",{className:"flex items-center text-sm font-medium text-green-600 hover:text-green-700 dark:text-green-400 dark:hover:text-green-300 transition-colors",children:["View tasks",e.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})]}),((t==null?void 0:t.role)==="Admin"||(t==null?void 0:t.role)==="Manager")&&e.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl shadow-md dark:shadow-black/25 mb-8 transition-all duration-200 ease-out",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-slate-700",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200",children:"Employee Activity Monitoring"})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"bg-gradient-to-tr from-indigo-500 to-indigo-700 p-4 rounded-full shadow-md",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:"Activity Dashboard"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"Monitor employee CRM usage time and productivity"}),e.jsxs("ul",{className:"mt-3 text-sm text-gray-600 dark:text-gray-400 space-y-1 list-disc list-inside",children:[e.jsx("li",{children:"View daily usage time in hours and minutes"}),e.jsx("li",{children:"Track individual employee activity"}),e.jsx("li",{children:"Generate activity reports and analytics"})]})]})]}),e.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[e.jsx(Te,{to:"/admin/activity",className:"bg-indigo-600 hover:bg-indigo-700 active:bg-indigo-800 text-white px-6 py-3 rounded-lg font-medium transition-all duration-200 shadow-sm hover:shadow-md w-full text-center",children:" Open Activity Dashboard"}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-500 text-center",children:"View employee time tracking"})]})]})})]}),(t==null?void 0:t.role)==="Admin"&&e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-gray-100 dark:border-slate-700 mb-8 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 px-6 py-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Team Overview"}),e.jsx("p",{className:"text-indigo-100 text-sm mt-1",children:"Your organization's team composition"})]}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"group relative bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 rounded-xl p-6 text-center border border-blue-200 dark:border-blue-700 hover:shadow-lg transition-all duration-300",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/10 to-cyan-500/10 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-full flex items-center justify-center mx-auto mb-3 shadow-lg",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),e.jsx("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Sales Team"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:r.userCounts.salesPerson})]})]}),e.jsxs("div",{className:"group relative bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 rounded-xl p-6 text-center border border-purple-200 dark:border-purple-700 hover:shadow-lg transition-all duration-300",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/10 to-pink-500/10 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-600 rounded-full flex items-center justify-center mx-auto mb-3 shadow-lg",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),e.jsx("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Lead Team"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:r.userCounts.leadPerson})]})]}),e.jsxs("div",{className:"group relative bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 rounded-xl p-6 text-center border border-green-200 dark:border-green-700 hover:shadow-lg transition-all duration-300",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-500/10 to-emerald-500/10 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center mx-auto mb-3 shadow-lg",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Managers"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:r.userCounts.manager})]})]}),e.jsxs("div",{className:"group relative bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-900/20 dark:to-orange-800/20 rounded-xl p-6 text-center border border-orange-200 dark:border-orange-700 hover:shadow-lg transition-all duration-300",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-500/10 to-red-500/10 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500 to-red-600 rounded-full flex items-center justify-center mx-auto mb-3 shadow-lg",children:e.jsxs("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),e.jsx("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Admins"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:r.userCounts.admin})]})]})]})})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-gray-100 dark:border-slate-700 mb-8 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:"IT Department Overview"}),e.jsx("p",{className:"text-indigo-100 text-sm mt-1",children:"Track IT team, projects, and tasks"})]}),e.jsxs(Te,{to:"/it",className:"px-4 py-2 bg-white/20 hover:bg-white/30 text-white rounded-lg transition-colors flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),"View IT Dashboard"]})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"IT Team"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-xl p-4 border border-blue-200 dark:border-blue-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"IT Managers"}),e.jsx("p",{className:"text-3xl font-bold text-blue-900 dark:text-blue-100",children:r.itStats.itManager})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})})]})}),e.jsx("div",{className:"bg-gradient-to-br from-green-50 to-emerald-100 dark:from-green-900/20 dark:to-emerald-900/20 rounded-xl p-4 border border-green-200 dark:border-green-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"IT Interns"}),e.jsx("p",{className:"text-3xl font-bold text-green-900 dark:text-green-100",children:r.itStats.itIntern})]}),e.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})})]})}),e.jsx("div",{className:"bg-gradient-to-br from-purple-50 to-pink-100 dark:from-purple-900/20 dark:to-pink-900/20 rounded-xl p-4 border border-purple-200 dark:border-purple-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"IT Permanent"}),e.jsx("p",{className:"text-3xl font-bold text-purple-900 dark:text-purple-100",children:r.itStats.itPermanent})]}),e.jsx("div",{className:"w-12 h-12 bg-purple-500 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"IT Projects"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"bg-gray-50 dark:bg-slate-700 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Projects"}),e.jsx("span",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r.itStats.totalProjects})]})}),e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-blue-600 dark:text-blue-400",children:"Active"}),e.jsx("span",{className:"text-2xl font-bold text-blue-900 dark:text-blue-100",children:r.itStats.activeProjects})]})}),e.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:"Completed"}),e.jsx("span",{className:"text-2xl font-bold text-green-900 dark:text-green-100",children:r.itStats.completedProjects})]})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"IT Tasks"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"bg-gray-50 dark:bg-slate-700 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Tasks"}),e.jsx("span",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r.itStats.totalTasks})]})}),e.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-yellow-600 dark:text-yellow-400",children:"Pending"}),e.jsx("span",{className:"text-2xl font-bold text-yellow-900 dark:text-yellow-100",children:r.itStats.pendingTasks})]})}),e.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:"Completed"}),e.jsx("span",{className:"text-2xl font-bold text-green-900 dark:text-green-100",children:r.itStats.completedTasks})]})})]})]})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-gray-100 dark:border-slate-700 mb-8 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-emerald-500 to-teal-600 px-6 py-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Lead Stage Analytics"}),e.jsx("p",{className:"text-emerald-100 text-sm mt-1",children:"Track leads through the sales pipeline"})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-6",children:Object.entries(r.leadStages).map(([j,A])=>e.jsxs("div",{className:`group relative rounded-xl p-4 text-center cursor-pointer transition-all duration-300 transform hover:-translate-y-1 ${a===j?"bg-gradient-to-br from-blue-500 to-indigo-600 text-white shadow-lg scale-105":"bg-gradient-to-br from-gray-50 to-gray-100 dark:from-slate-700 dark:to-slate-600 hover:shadow-md border border-gray-200 dark:border-slate-600"}`,onClick:()=>E(j),children:[e.jsx("div",{className:`text-sm font-medium mb-2 ${a===j?"text-blue-100":"text-gray-600 dark:text-gray-300"}`,children:j}),e.jsx("div",{className:`text-2xl font-bold ${a===j?"text-white":"text-gray-900 dark:text-white"}`,children:A}),a===j&&e.jsx("div",{className:"mt-2",children:e.jsx("div",{className:"w-2 h-2 bg-white rounded-full mx-auto animate-pulse"})}),a!==j&&e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/10 to-indigo-500/10 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]},j))}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2 sm:mb-0",children:(t==null?void 0:t.role)==="Lead Person"?`My leads in "${a}" Stage`:`Leads in "${a}" Stage`}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("label",{htmlFor:"stage-select",className:"text-sm text-gray-600 dark:text-gray-500",children:"Select Stage:"}),e.jsxs("select",{id:"stage-select",value:a,onChange:j=>E(j.target.value),className:"border border-gray-300 dark:border-slate-600 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-green-500 dark:focus:border-green-400 focus:ring-offset-2 focus:border-green-500",children:[e.jsx("option",{value:"Introduction",children:"Introduction"}),e.jsx("option",{value:"Acknowledgement",children:"Acknowledgement"}),e.jsx("option",{value:"Question",children:"Question"}),e.jsx("option",{value:"Future Promise",children:"Future Promise"}),e.jsx("option",{value:"Payment",children:"Payment"}),e.jsx("option",{value:"Analysis",children:"Analysis"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-400",children:(t==null?void 0:t.role)==="Lead Person"?`My leads in ${a}:`:`Total leads in ${a}:`}),e.jsxs("span",{className:"text-lg font-bold text-blue-600",children:[r.leadStages[a]," leads"]})]}),l.length>0?e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"min-w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200 dark:border-slate-700",children:[e.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Name"}),e.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Course"}),e.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Country"}),e.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Contact"}),e.jsx("th",{className:"px-4 py-2 text-center text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Date"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-slate-700",children:l.slice(0,5).map(j=>e.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800",children:[e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:j.name}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-500 dark:text-gray-500",children:j.course}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-500 dark:text-gray-500",children:j.country}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-500 dark:text-gray-500",children:j.contactNumber}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-500 dark:text-gray-500",children:C(j.createdAt)})]},j._id))})]}),l.length>5&&e.jsx("div",{className:"mt-3 text-center",children:e.jsxs(Te,{to:`/leads?status=${a}`,className:"text-sm text-blue-600 hover:underline",children:["View all ",l.length," leads in"," ",a," stage"]})})]}):e.jsx("div",{className:"text-center py-4",children:e.jsxs("p",{className:"text-gray-500 dark:text-gray-500",children:["No leads found in ",a," stage"]})})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-gray-100 dark:border-slate-700 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 px-6 py-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:(t==null?void 0:t.role)==="Sales Person"?"My Assigned Leads":"Recent Leads"}),e.jsx("p",{className:"text-blue-100 text-sm mt-1",children:"Latest lead activities"})]}),e.jsxs("div",{className:"p-6",children:[r.recentLeads.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-slate-700 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No recent leads found"})]}):e.jsx("div",{className:"space-y-3",children:r.recentLeads.map((j,A)=>{var P,F;return e.jsx("div",{className:"group p-4 bg-gradient-to-r from-gray-50 to-gray-100 dark:from-slate-700 dark:to-slate-600 rounded-xl hover:shadow-md transition-all duration-200 border border-gray-200 dark:border-slate-600",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:j.name||"Unnamed Lead"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:j.course||"No course specified"}),(t==null?void 0:t.role)==="Sales Person"&&e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Lead Person:"," ",((P=j.leadPerson)==null?void 0:P.fullName)||((F=j.leadPerson)==null?void 0:F.name)||"Unassigned"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:C(j.createdAt)}),e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-1"})]})]})},j._id)})}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs(Te,{to:"/leads",className:"inline-flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg transition-colors",children:[(t==null?void 0:t.role)==="Sales Person"?"View all my leads":"View all leads",e.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-gray-100 dark:border-slate-700 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 px-6 py-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Recent Sales"}),e.jsx("p",{className:"text-green-100 text-sm mt-1",children:"Latest sales transactions"})]}),e.jsxs("div",{className:"p-6",children:[r.recentSales.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-slate-700 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No recent sales found"})]}):e.jsx("div",{className:"space-y-3",children:r.recentSales.map((j,A)=>{var P,F;return e.jsx("div",{className:"group p-4 bg-gradient-to-r from-gray-50 to-gray-100 dark:from-slate-700 dark:to-slate-600 rounded-xl hover:shadow-md transition-all duration-200 border border-gray-200 dark:border-slate-600",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:((P=j.leadId)==null?void 0:P.name)||((F=j.leadId)==null?void 0:F.NAME)||j.customerName||j.leadName||"Unknown Customer"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:j.product||j.course||j.productName||"No product specified"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-lg font-bold text-green-600 dark:text-green-400",children:Kc(j.amount||j.totalCost||j.price||0)}),e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-1"})]})]})},j._id)})}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs(Te,{to:"/sales-tracking",className:"inline-flex items-center px-4 py-2 bg-green-600 hover:bg-green-700 text-white text-sm font-medium rounded-lg transition-colors",children:["View all sales",e.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-lg border border-gray-100 dark:border-slate-700 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 px-6 py-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Quick Actions"}),e.jsx("p",{className:"text-indigo-100 text-sm mt-1",children:"Access frequently used features"})]}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:(t==null?void 0:t.role)==="Admin"?e.jsxs(e.Fragment,{children:[e.jsxs(Te,{to:"/admin/users",className:"group relative bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 p-6 rounded-xl text-center hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1 border border-blue-200 dark:border-blue-700",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-full flex items-center justify-center mx-auto mb-3 shadow-lg",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),e.jsx("span",{className:"text-gray-800 dark:text-gray-200 font-medium text-sm",children:"Manage Users"})]}),e.jsxs(Te,{to:"/admin/leads",className:"group relative bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 p-6 rounded-xl text-center hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1 border border-green-200 dark:border-green-700",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center mx-auto mb-3 shadow-lg",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsx("span",{className:"text-gray-800 dark:text-gray-200 font-medium text-sm",children:"Manage Leads"})]}),e.jsxs(Te,{to:"/admin/reports",className:"group relative bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 p-6 rounded-xl text-center hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1 border border-purple-200 dark:border-purple-700",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-600 rounded-full flex items-center justify-center mx-auto mb-3 shadow-lg",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),e.jsx("span",{className:"text-gray-800 dark:text-gray-200 font-medium text-sm",children:"View Reports"})]}),e.jsxs(Te,{to:"/sales-tracking",className:"group relative bg-gradient-to-br from-yellow-50 to-yellow-100 dark:from-yellow-900/20 dark:to-yellow-800/20 p-6 rounded-xl text-center hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1 border border-yellow-200 dark:border-yellow-700",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-yellow-500 to-orange-600 rounded-full flex items-center justify-center mx-auto mb-3 shadow-lg",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("span",{className:"text-gray-800 dark:text-gray-200 font-medium text-sm",children:"Sales Tracking"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs(Te,{to:"/leads",className:"group relative bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 p-6 rounded-xl text-center hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1 border border-blue-200 dark:border-blue-700",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-full flex items-center justify-center mx-auto mb-3 shadow-lg",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),e.jsx("span",{className:"text-gray-800 dark:text-gray-200 font-medium text-sm",children:"Manage Leads"})]}),e.jsxs(Te,{to:"/admin/import",className:"group relative bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 p-6 rounded-xl text-center hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1 border border-green-200 dark:border-green-700",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center mx-auto mb-3 shadow-lg",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})}),e.jsx("span",{className:"text-gray-800 dark:text-gray-200 font-medium text-sm",children:"Import Data"})]}),e.jsxs(Te,{to:"/lead-sales-sheet",className:"group relative bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 p-6 rounded-xl text-center hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1 border border-purple-200 dark:border-purple-700",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-600 rounded-full flex items-center justify-center mx-auto mb-3 shadow-lg",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),e.jsx("span",{className:"text-gray-800 dark:text-gray-200 font-medium text-sm",children:"Sales Sheet"})]}),e.jsxs(Te,{to:"/tasks",className:"group relative bg-gradient-to-br from-yellow-50 to-yellow-100 dark:from-yellow-900/20 dark:to-yellow-800/20 p-6 rounded-xl text-center hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1 border border-yellow-200 dark:border-yellow-700",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-yellow-500 to-orange-600 rounded-full flex items-center justify-center mx-auto mb-3 shadow-lg",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})}),e.jsx("span",{className:"text-gray-800 dark:text-gray-200 font-medium text-sm",children:"Tasks"})]})]})})})]})]})]})})})},a8=()=>{var R,ee,J,H,K,I,G,_;const{user:t}=Fe(),[r,s]=y.useState([]),[a,i]=y.useState([]),[l,c]=y.useState(!0),[u,m]=y.useState(null),[h,p]=y.useState(null),[g,x]=y.useState(!0),[v,w]=y.useState({search:"",status:"",country:"",course:"",source:"",dateFrom:"",dateTo:"",assignedTo:"",leadPerson:""}),[S,k]=y.useState({countries:[],courses:[],sources:[],salesPersons:[],leadPersons:[]}),E=["New","Contacted","Qualified","Lost","Converted","Introduction","Acknowledgement","Question","Future Promise","Payment","Analysis"];y.useEffect(()=>{C(),j()},[]),y.useEffect(()=>{r.length>0&&(T(),A())},[r,v]);const C=async()=>{try{c(!0);let M;try{M=await $t.getAll({populate:"createdBy assignedTo leadPerson assignedBy"}),console.log("API response with populate:",M.data)}catch(Z){console.log("Populate failed, trying without:",Z),M=await $t.getAll(),console.log("API response without populate:",M.data)}if(M.data.success){M.data.data&&M.data.data.length>0&&(console.log("First lead data structure:",M.data.data[0]),console.log("Lead Person data:",M.data.data[0].leadPerson),console.log("Assigned To data:",M.data.data[0].assignedTo),console.log("Assigned By data:",M.data.data[0].assignedBy));const Z=M.data.data.sort((X,V)=>new Date(V.createdAt)-new Date(X.createdAt));s(Z),i(Z),m(null)}else m("Failed to load leads")}catch(M){console.error("Error fetching leads:",M),m("Failed to load leads. Please try again.")}finally{c(!1)}},j=async()=>{try{const M=await Et.getUsers("Sales Person"),Z=await Et.getUsers("Lead Person");k(X=>({...X,salesPersons:M.data.data||[],leadPersons:Z.data.data||[]}))}catch(M){console.error("Error fetching user options:",M)}},A=()=>{const M=[...new Set(r.map(V=>V.country).filter(Boolean))],Z=[...new Set(r.map(V=>V.course).filter(Boolean))],X=[...new Set(r.map(V=>V.source).filter(Boolean))];k(V=>({...V,countries:M,courses:Z,sources:X}))},P=M=>{const{name:Z,value:X}=M.target;w(V=>({...V,[Z]:X}))},F=()=>{w({search:"",status:"",country:"",course:"",source:"",dateFrom:"",dateTo:"",assignedTo:"",leadPerson:""})},T=()=>{let M=[...r];if(console.log("Applying filters:",v),console.log("Total leads before filtering:",M.length),v.search){const Z=v.search.toLowerCase();M=M.filter(X=>X.name&&X.name.toLowerCase().includes(Z)||X.email&&X.email.toLowerCase().includes(Z)||X.phone&&X.phone.includes(Z)||X.pseudoId&&X.pseudoId.toLowerCase().includes(Z)),console.log("After search filter:",M.length)}if(v.status&&(M=M.filter(Z=>Z.status===v.status)),v.country&&(M=M.filter(Z=>Z.country===v.country)),v.course&&(M=M.filter(Z=>Z.course===v.course)),v.source&&(M=M.filter(Z=>Z.source===v.source)),v.dateFrom){const Z=new Date(v.dateFrom);M=M.filter(X=>new Date(X.createdAt)>=Z)}if(v.dateTo){const Z=new Date(v.dateTo);Z.setHours(23,59,59,999),M=M.filter(X=>new Date(X.createdAt)<=Z)}v.assignedTo&&(console.log("Filtering by assignedTo:",v.assignedTo),M=M.filter(Z=>{var V,de;const X=((V=Z.assignedTo)==null?void 0:V._id)||((de=Z.assignedTo)==null?void 0:de.id)||Z.assignedToId;return console.log("Lead assignedTo data:",{leadId:Z._id,leadName:Z.name,assignedTo:Z.assignedTo,assignedToId:X,filterValue:v.assignedTo,matches:X===v.assignedTo}),X===v.assignedTo}),console.log("After assignedTo filter:",M.length)),v.leadPerson&&(console.log("Filtering by leadPerson:",v.leadPerson),M=M.filter(Z=>{var V,de,ue,le,te,pe;const X=((V=Z.leadPerson)==null?void 0:V._id)||((de=Z.leadPerson)==null?void 0:de.id)||((ue=Z.assignedBy)==null?void 0:ue._id)||((le=Z.assignedBy)==null?void 0:le.id)||((te=Z.createdBy)==null?void 0:te._id)||((pe=Z.createdBy)==null?void 0:pe.id)||Z.leadPersonId||Z.assignedById||Z.createdById;return console.log("Lead leadPerson data:",{leadId:Z._id,leadName:Z.name,leadPerson:Z.leadPerson,assignedBy:Z.assignedBy,createdBy:Z.createdBy,leadPersonId:X,filterValue:v.leadPerson,matches:X===v.leadPerson}),X===v.leadPerson}),console.log("After leadPerson filter:",M.length)),console.log("Final filtered results:",M.length),console.log("Sample filtered lead:",M[0]),i(M)},L=M=>{if(!M)return"N/A";try{const Z=new Date(M);return isNaN(Z.getTime())?"Invalid Date":Z.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})}catch(Z){return console.error("Date formatting error:",Z,"for date:",M),"Invalid Date"}},z=M=>{p(M)},q=()=>{p(null)},O=(M,Z)=>{if(!M)return;const V=`https://wa.me/${`${Z||"+91"}${M.replace(/\D/g,"")}`.replace(/\+/g,"")}`;window.open(V,"_blank")},B=M=>{M&&(window.location.href=`mailto:${M}`)},U=M=>{const Z="px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full",X={Introduction:"bg-blue-100 text-blue-800",Acknowledgement:"bg-yellow-100 text-yellow-800",Question:"bg-purple-100 text-purple-800","Future Promise":"bg-red-100 text-red-800",Payment:"bg-green-100 text-green-800",Analysis:"bg-gray-100 dark:bg-slate-700 text-gray-800 dark:text-gray-200"};return e.jsx("span",{className:`${Z} ${X[M]??"bg-gray-100 dark:bg-slate-700 text-gray-800 dark:text-gray-200"}`,children:M})};return e.jsx(Je,{children:e.jsxs("div",{className:"mx-auto w-full max-w-[100vw] px-4 sm:px-6 lg:px-8 py-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Admin Leads Management"}),e.jsx(Te,{to:"/leads",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 shadow-sm dark:shadow-xl hover:shadow-md transition-all duration-200 text-white rounded-md",children:"Standard Leads View"})]}),u&&e.jsx("div",{className:"bg-red-50 text-red-600 p-4 rounded-lg mb-6",children:u}),e.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg shadow-md dark:shadow-2xl mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>x(M=>!M),"aria-expanded":g,className:"inline-flex h-8 w-8 items-center justify-center rounded-md border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-200 hover:bg-slate-50 dark:hover:bg-slate-800 transition",title:g?"Collapse filters":"Expand filters",children:e.jsx("span",{className:`block transition-transform duration-200 ${g?"rotate-90":""}`,children:""})}),e.jsx("h2",{className:"text-lg font-medium",children:"Advanced Filters"})]}),e.jsx("button",{onClick:F,className:"text-sm text-blue-600 hover:underline",children:"Reset Filters"})]}),g&&e.jsx("div",{className:"px-6 py-6",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Search"}),e.jsx("input",{type:"text",id:"search",name:"search",placeholder:"Search name, email, phone...",value:v.search,onChange:P,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Status"}),e.jsxs("select",{id:"status",name:"status",value:v.status,onChange:P,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2",children:[e.jsx("option",{value:"",children:"All Statuses"}),E.map(M=>e.jsx("option",{value:M,children:M},M))]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"country",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Country"}),e.jsxs("select",{id:"country",name:"country",value:v.country,onChange:P,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2",children:[e.jsx("option",{value:"",children:"All Countries"}),S.countries.map(M=>e.jsx("option",{value:M,children:M},M))]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"course",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Course"}),e.jsxs("select",{id:"course",name:"course",value:v.course,onChange:P,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2",children:[e.jsx("option",{value:"",children:"All Courses"}),S.courses.map(M=>e.jsx("option",{value:M,children:M},M))]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"source",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Source"}),e.jsxs("select",{id:"source",name:"source",value:v.source,onChange:P,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2",children:[e.jsx("option",{value:"",children:"All Sources"}),S.sources.map(M=>e.jsx("option",{value:M,children:M},M))]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"dateFrom",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Date From"}),e.jsx("input",{type:"date",id:"dateFrom",name:"dateFrom",value:v.dateFrom,onChange:P,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"dateTo",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Date To"}),e.jsx("input",{type:"date",id:"dateTo",name:"dateTo",value:v.dateTo,onChange:P,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"assignedTo",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Assigned To"}),e.jsxs("select",{id:"assignedTo",name:"assignedTo",value:v.assignedTo,onChange:P,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2",children:[e.jsx("option",{value:"",children:"All Sales Persons"}),S.salesPersons.map(M=>e.jsx("option",{value:M._id,children:M.fullName},M._id))]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"leadPerson",className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Lead Person"}),e.jsxs("select",{id:"leadPerson",name:"leadPerson",value:v.leadPerson,onChange:P,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2",children:[e.jsx("option",{value:"",children:"All Lead Persons"}),S.leadPersons.map(M=>e.jsx("option",{value:M._id,children:M.fullName},M._id))]})]})]})})]}),l?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):e.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg shadow-md dark:shadow-2xl w-full",children:[e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 flex justify-between items-center",children:[e.jsxs("h3",{className:"text-lg font-medium",children:[a.length," Leads Found"]}),e.jsxs("div",{className:"text-sm text-slate-500 dark:text-gray-400",children:["Showing filtered results from a total of ",r.length," leads"]})]}),a.length===0?e.jsx("div",{className:"p-6 text-center text-slate-500 dark:text-gray-400",children:"No leads found matching your filters. Try adjusting your criteria."}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full table-auto border-collapse text-sm",children:[e.jsx("thead",{className:"bg-black text-white uppercase text-xs tracking-wider",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-center font-semibold border border-gray-600",children:"#"}),e.jsx("th",{className:"px-4 py-3 text-center font-semibold border border-gray-600",children:"Date"}),e.jsx("th",{className:"px-4 py-3 text-center font-semibold border border-gray-600",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-center font-semibold border border-gray-600",children:"Contact"}),e.jsx("th",{className:"px-4 py-3 text-center font-semibold border border-gray-600",children:"Course"}),e.jsx("th",{className:"px-4 py-3 text-center font-semibold border border-gray-600",children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-center font-semibold border border-gray-600",children:"Country"}),e.jsx("th",{className:"px-4 py-3 text-center font-semibold border border-gray-600",children:"Lead Person"}),e.jsx("th",{className:"px-4 py-3 text-center font-semibold border border-gray-600",children:"Assigned To"}),e.jsx("th",{className:"px-4 py-3 text-center font-semibold border border-gray-600",children:"Actions"})]})}),e.jsx("tbody",{children:a.map((M,Z)=>{var X,V,de,ue,le,te,pe,se;return e.jsxs("tr",{className:"hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors",children:[e.jsx("td",{className:"px-4 py-3 text-center border border-gray-300 dark:border-gray-700 text-gray-700 dark:text-gray-300",children:Z+1}),e.jsx("td",{className:"px-4 py-3 text-center border border-gray-300 dark:border-gray-700 text-gray-700 dark:text-gray-300",children:L(M.createdAt)}),e.jsxs("td",{className:"px-4 py-3 text-center border border-gray-300 dark:border-gray-700 font-medium text-gray-900 dark:text-white",children:[e.jsx("div",{children:M.name}),M.altName&&e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:M.altName})]}),e.jsxs("td",{className:"px-4 py-3 text-center border border-gray-300 dark:border-gray-700",children:[M.phone?e.jsxs("a",{href:`https://wa.me/${M.phone}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 font-semibold text-blue-600 dark:text-blue-400 hover:underline",children:[e.jsx(li,{className:"text-green-500 w-4 h-4"}),M.phone]}):e.jsx("span",{className:"block font-semibold text-gray-900 dark:text-white",children:"N/A"}),M.email?e.jsxs("a",{href:`https://mail.google.com/mail/?view=cm&fs=1&to=${M.email}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 text-xs text-blue-600 dark:text-blue-400 hover:underline mt-1",children:[e.jsx(ls,{className:"text-red-500 w-4 h-4"}),M.email]}):null]}),e.jsx("td",{className:"px-4 py-3 text-center border border-gray-300 dark:border-gray-700 text-gray-700 dark:text-gray-300",children:M.course}),e.jsx("td",{className:"px-4 py-3 text-center border border-gray-300 dark:border-gray-700",children:e.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-semibold ${U(M.status)}`,children:M.status||"Pending"})}),e.jsx("td",{className:"px-4 py-3 text-center border border-gray-300 dark:border-gray-700 text-gray-700 dark:text-gray-300",children:M.country||"N/A"}),e.jsx("td",{className:"px-4 py-3 text-center border border-gray-300 dark:border-gray-700 text-gray-700 dark:text-gray-300",children:((X=M.assignedBy)==null?void 0:X.fullName)||((V=M.assignedBy)==null?void 0:V.name)||((de=M.leadPerson)==null?void 0:de.fullName)||((ue=M.leadPerson)==null?void 0:ue.name)||((le=M.createdBy)==null?void 0:le.fullName)||((te=M.createdBy)==null?void 0:te.name)||M.assignedByName||M.createdByName||"N/A"}),e.jsx("td",{className:"px-4 py-3 text-center border border-gray-300 dark:border-gray-700 text-blue-600 dark:text-blue-400",children:((pe=M.assignedTo)==null?void 0:pe.fullName)||((se=M.assignedTo)==null?void 0:se.name)||M.assignedToName||"Unassigned"}),e.jsx("td",{className:"px-4 py-3 text-center border border-gray-300 dark:border-gray-700",children:e.jsx("button",{onClick:()=>z(M),className:"text-blue-600 hover:text-blue-900 font-medium",children:"View"})})]},M._id)})})]})})]}),h&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:e.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto shadow-lg dark:shadow-black/40",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6 border-b border-slate-200 dark:border-slate-700 pb-3",children:[e.jsx("h3",{className:"text-2xl font-semibold text-slate-900 dark:text-slate-100",children:"Lead Details"}),e.jsx("button",{onClick:q,className:"text-gray-400 dark:text-slate-400 hover:text-slate-500 text-2xl",children:e.jsx(It,{})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg bg-gray-50 dark:bg-slate-800",children:[e.jsx("span",{className:"text-sm font-medium text-slate-500 dark:text-gray-400",children:"Name:"}),e.jsx("span",{className:"font-semibold",children:h.name})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg bg-gray-50 dark:bg-slate-800",children:[e.jsx("span",{className:"text-sm font-medium text-slate-500 dark:text-gray-400",children:"Email:"}),h.email?e.jsxs("button",{onClick:()=>B(h.email),className:"text-blue-600 hover:text-blue-800 flex items-center font-semibold",children:[e.jsx(ls,{className:"mr-1"})," ",h.email]}):e.jsx("span",{className:"font-semibold",children:"N/A"})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg bg-gray-50 dark:bg-slate-800",children:[e.jsx("span",{className:"text-sm font-medium text-slate-500 dark:text-gray-400",children:"Phone:"}),h.phone?e.jsxs("button",{onClick:()=>O(h.phone,h.countryCode),className:"text-green-600 hover:text-green-800 flex items-center font-semibold",children:[e.jsx(li,{className:"mr-1"})," ",h.countryCode||"+91"," ",h.phone]}):e.jsx("span",{className:"font-semibold",children:"N/A"})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg bg-gray-50 dark:bg-slate-800",children:[e.jsx("span",{className:"text-sm font-medium text-slate-500 dark:text-gray-400",children:"Course:"}),e.jsx("span",{className:"font-semibold",children:h.course||"N/A"})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg bg-gray-50 dark:bg-slate-800",children:[e.jsx("span",{className:"text-sm font-medium text-slate-500 dark:text-gray-400",children:"Status:"}),e.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-semibold ${U(h.status)}`,children:h.status||"Pending"})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg bg-gray-50 dark:bg-slate-800",children:[e.jsx("span",{className:"text-sm font-medium text-slate-500 dark:text-gray-400",children:"Country:"}),e.jsx("span",{className:"font-semibold",children:h.country||"N/A"})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg bg-gray-50 dark:bg-slate-800",children:[e.jsx("span",{className:"text-sm font-medium text-slate-500 dark:text-gray-400",children:"Lead Person:"}),e.jsx("span",{className:"font-semibold",children:((R=h.assignedBy)==null?void 0:R.fullName)||((ee=h.assignedBy)==null?void 0:ee.name)||((J=h.leadPerson)==null?void 0:J.fullName)||((H=h.leadPerson)==null?void 0:H.name)||((K=h.createdBy)==null?void 0:K.fullName)||((I=h.createdBy)==null?void 0:I.name)||h.assignedByName||h.createdByName||"N/A"})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg bg-gray-50 dark:bg-slate-800",children:[e.jsx("span",{className:"text-sm font-medium text-slate-500 dark:text-gray-400",children:"Assigned To:"}),e.jsx("span",{className:"font-semibold text-blue-600 dark:text-blue-400",children:((G=h.assignedTo)==null?void 0:G.fullName)||((_=h.assignedTo)==null?void 0:_.name)||h.assignedToName||"Unassigned"})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg bg-gray-50 dark:bg-slate-800",children:[e.jsx("span",{className:"text-sm font-medium text-slate-500 dark:text-gray-400",children:"Created At:"}),e.jsx("span",{className:"font-semibold",children:L(h.createdAt)})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg bg-gray-50 dark:bg-slate-800",children:[e.jsx("span",{className:"text-sm font-medium text-slate-500 dark:text-gray-400",children:"Company:"}),e.jsx("span",{className:"font-semibold",children:h.company||"N/A"})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg bg-gray-50 dark:bg-slate-800",children:[e.jsx("span",{className:"text-sm font-medium text-slate-500 dark:text-gray-400",children:"Source:"}),e.jsx("span",{className:"font-semibold",children:h.source||"N/A"})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg bg-gray-50 dark:bg-slate-800",children:[e.jsx("span",{className:"text-sm font-medium text-slate-500 dark:text-gray-400",children:"LinkedIn:"}),h.sourceLink?e.jsx("a",{href:h.sourceLink.startsWith("http")?h.sourceLink:`https://${h.sourceLink}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline font-semibold",children:h.sourceLink}):e.jsx("span",{className:"font-semibold",children:"N/A"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-gray-400 mb-1",children:"Remarks"}),e.jsx("div",{className:"p-3 rounded-lg bg-gray-50 dark:bg-slate-800 text-base",children:h.remarks||"No remarks available"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-gray-400 mb-1",children:"Feedback"}),e.jsx("div",{className:"p-3 rounded-lg bg-gray-50 dark:bg-slate-800 text-base",children:h.feedback||"No feedback available"})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:q,className:"px-5 py-2 border border-slate-300 dark:border-slate-600 rounded-md text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700",children:"Close"})})]})})]})})},n8=()=>{const{user:t}=Fe(),[r,s]=y.useState("leads"),[a,i]=y.useState(!1),[l,c]=y.useState(0),[u,m]=y.useState(null),[h,p]=y.useState(null),[g,x]=y.useState(null),[v,w]=y.useState(null);if((t==null?void 0:t.role)!=="Admin")return e.jsx(Je,{children:e.jsx("div",{className:"container mx-auto p-6",children:e.jsx("div",{className:"bg-red-50 text-red-600 p-4 rounded-lg mb-6",children:"Access denied. Only administrators can access this page."})})});const S=F=>{const T=F.target.files[0];T&&T.type==="text/csv"?p(T):(xe.error("Please upload a valid CSV file"),F.target.value=null)},k=F=>{const T=F.target.files[0];T&&T.type==="text/csv"?x(T):(xe.error("Please upload a valid CSV file"),F.target.value=null)},E=F=>{const T=F.target.files[0];T&&T.type==="text/csv"?w(T):(xe.error("Please upload a valid CSV file"),F.target.value=null)},C=async F=>new Promise((T,L)=>{const z=new FileReader;z.onload=q=>{try{const B=q.target.result.split(`
`),U=B[0].split(",").map(ee=>ee.trim()),R=[];for(let ee=1;ee<B.length;ee++){if(B[ee].trim()==="")continue;const J=[];let H="",K=!1;for(let G of B[ee])G==='"'?K=!K:G===","&&!K?(J.push(H),H=""):H+=G;J.push(H);const I={};U.forEach((G,_)=>{_<J.length&&(I[G]=J[_].replace(/^"|"$/g,"").trim())}),R.push(I)}T(R)}catch(O){L(O)}},z.onerror=q=>L(q),z.readAsText(F)}),j=async()=>{var F,T;if(!h){xe.error("Please select a CSV file to import");return}i(!0),c(10),m(null);try{const L=await C(h);if(c(50),L.length===0){xe.error("No data found in the CSV file"),i(!1),c(0);return}const z=await $t.importLeads(L);c(100),m({total:L.length,imported:z.data.count,errors:L.length-z.data.count}),xe.success(`Successfully imported ${z.data.count} leads`)}catch(L){console.error("Import error:",L),xe.error(((T=(F=L.response)==null?void 0:F.data)==null?void 0:T.message)||"Failed to import leads")}finally{i(!1)}},A=async()=>{var F,T;if(!g){xe.error("Please select a CSV file to import");return}i(!0),c(10),m(null);try{const L=await C(g);if(c(50),L.length===0){xe.error("No data found in the CSV file"),i(!1),c(0);return}const z=await Vn.importSales(L);c(100),m({total:L.length,imported:z.data.count,errors:z.data.errorCount||0,errorDetails:z.data.errors}),xe.success(`Successfully imported ${z.data.count} sales`)}catch(L){console.error("Import error:",L),xe.error(((T=(F=L.response)==null?void 0:F.data)==null?void 0:T.message)||"Failed to import sales")}finally{i(!1)}},P=async()=>{var F,T;if(!v){xe.error("Please select a CSV file to import");return}i(!0),c(10),m(null);try{const L=await C(v);if(c(50),L.length===0){xe.error("No data found in the CSV file"),i(!1),c(0);return}const z=L.map(O=>({name:O.Name||O["Full Name"]||O["Your name"],email:O.Email||O["Email Address"]||O["Your email"],phone:O.Phone||O["Phone Number"]||O.Mobile,countryCode:O["Country Code"]||"+1",country:O.Country||"Unknown",course:O.Course||O.Program||O.Interest||"General Inquiry",source:"Google Forms",sourceLink:O["Form URL"]||"",remarks:O.Comments||O.Message||""})),q=await $t.importLeads(z);c(100),m({total:z.length,imported:q.data.count,errors:z.length-q.data.count}),xe.success(`Successfully imported ${q.data.count} leads from Google Forms`)}catch(L){console.error("Import error:",L),xe.error(((T=(F=L.response)==null?void 0:F.data)==null?void 0:T.message)||"Failed to import Google Forms data")}finally{i(!1)}};return e.jsx(Je,{children:e.jsxs("div",{className:"container mx-auto p-6",children:[e.jsx("div",{className:"flex justify-between items-center mb-6",children:e.jsx("h1",{className:"text-3xl font-bold",children:"Data Import"})}),e.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out rounded-lg shadow-md dark:shadow-2xl overflow-hidden mb-6 shadow-sm",children:[e.jsx("div",{className:"border-b border-slate-200 dark:border-slate-700",children:e.jsxs("nav",{className:"flex -mb-px",children:[e.jsx("button",{onClick:()=>s("leads"),className:`py-4 px-6 text-center border-b-2 font-medium text-sm ${r==="leads"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 dark:text-gray-400 dark:text-gray-400 hover:text-gray-700 dark:text-gray-300 dark:text-gray-400 hover:border-gray-300 dark:border-slate-600"}`,children:"Import Leads"}),e.jsx("button",{onClick:()=>s("sales"),className:`py-4 px-6 text-center border-b-2 font-medium text-sm ${r==="sales"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 dark:text-gray-400 dark:text-gray-400 hover:text-gray-700 dark:text-gray-300 dark:text-gray-400 hover:border-gray-300 dark:border-slate-600"}`,children:"Import Sales"}),e.jsx("button",{onClick:()=>s("google-forms"),className:`py-4 px-6 text-center border-b-2 font-medium text-sm ${r==="google-forms"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 dark:text-gray-400 dark:text-gray-400 hover:text-gray-700 dark:text-gray-300 dark:text-gray-400 hover:border-gray-300 dark:border-slate-600"}`,children:"Import Google Forms"})]})}),e.jsxs("div",{className:"p-6",children:[r==="leads"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-medium mb-4",children:"Import Leads from CSV"}),e.jsx("p",{className:"mb-4 text-gray-600 dark:text-gray-500",children:"Upload a CSV file exported from Google Sheets containing lead information. Make sure your file has headers for: Name, Email, Phone, Country, Course, and other lead properties. For dates, you can use either YYYY-MM-DD (e.g., 2025-04-15) or DD-MM-YYYY (e.g., 15-04-2025) format."}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Upload CSV File"}),e.jsx("input",{type:"file",accept:".csv",onChange:S,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500",disabled:a}),h&&e.jsxs("p",{className:"mt-1 text-sm text-slate-500 dark:text-gray-400",children:["Selected file: ",h.name]})]}),e.jsx("button",{onClick:j,disabled:a||!h,className:`px-4 py-2 rounded-md text-white ${a||!h?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"} transition`,children:a?"Importing...":"Import Leads"})]}),r==="sales"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-medium mb-4",children:"Import Sales from CSV"}),e.jsx("p",{className:"mb-4 text-gray-600 dark:text-gray-500",children:"Upload a CSV file exported from Google Sheets containing sales information. Make sure your file has headers for: Email or Phone (to identify the lead), Amount, Product, Status, and other sales properties."}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Upload CSV File"}),e.jsx("input",{type:"file",accept:".csv",onChange:k,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500",disabled:a}),g&&e.jsxs("p",{className:"mt-1 text-sm text-slate-500 dark:text-gray-400",children:["Selected file: ",g.name]})]}),e.jsx("button",{onClick:A,disabled:a||!g,className:`px-4 py-2 rounded-md text-white ${a||!g?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"} transition`,children:a?"Importing...":"Import Sales"})]}),r==="google-forms"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-medium mb-4",children:"Import Google Forms Responses"}),e.jsx("p",{className:"mb-4 text-gray-600 dark:text-gray-500",children:"Upload a CSV file exported from Google Forms containing lead information. The system will try to map common Google Forms fields to the appropriate lead properties. For dates, you can use either YYYY-MM-DD (e.g., 2025-04-15) or DD-MM-YYYY (e.g., 15-04-2025) format."}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Upload CSV File"}),e.jsx("input",{type:"file",accept:".csv",onChange:E,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500",disabled:a}),v&&e.jsxs("p",{className:"mt-1 text-sm text-slate-500 dark:text-gray-400",children:["Selected file: ",v.name]})]}),e.jsx("button",{onClick:P,disabled:a||!v,className:`px-4 py-2 rounded-md text-white ${a||!v?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"} transition`,children:a?"Importing...":"Import Google Forms Data"})]}),a&&e.jsx("div",{className:"mt-6",children:e.jsxs("div",{className:"relative pt-1",children:[e.jsxs("div",{className:"flex mb-2 items-center justify-between",children:[e.jsx("div",{children:e.jsx("span",{className:"text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-blue-600 bg-blue-200",children:"Progress"})}),e.jsx("div",{className:"text-right",children:e.jsxs("span",{className:"text-xs font-semibold inline-block text-blue-600",children:[l,"%"]})})]}),e.jsx("div",{className:"overflow-hidden h-2 mb-4 text-xs flex rounded bg-blue-200",children:e.jsx("div",{style:{width:`${l}%`},className:"shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-blue-500 transition-all duration-500"})})]})}),u&&e.jsxs("div",{className:"mt-6 p-4 bg-gray-50 dark:bg-slate-800 transition-all duration-200 ease-out rounded-lg",children:[e.jsx("h3",{className:"text-lg font-medium mb-2",children:"Import Summary"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{className:"bg-blue-50 p-3 rounded-md",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-500",children:"Total Records"}),e.jsx("p",{className:"text-xl font-bold",children:u.total})]}),e.jsxs("div",{className:"bg-green-50 p-3 rounded-md",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-500",children:"Successfully Imported"}),e.jsx("p",{className:"text-xl font-bold text-green-600",children:u.imported})]}),e.jsxs("div",{className:"bg-red-50 p-3 rounded-md",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-500",children:"Failed Records"}),e.jsx("p",{className:"text-xl font-bold text-red-600",children:u.errors})]})]}),u.errorDetails&&u.errorDetails.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"text-md font-medium mb-2",children:"Error Details"}),e.jsx("div",{className:"max-h-40 overflow-y-auto bg-white dark:bg-slate-900 transition-all duration-200 ease-out p-2 rounded border border-slate-300 dark:border-slate-600",children:e.jsxs("ul",{className:"text-sm text-slate-700 dark:text-slate-300",children:[u.errorDetails.slice(0,10).map((F,T)=>e.jsx("li",{className:"mb-1 pb-1 border-b border-slate-200 dark:border-slate-700",children:F.message},T)),u.errorDetails.length>10&&e.jsxs("li",{className:"text-slate-500 dark:text-gray-400 italic",children:["...and ",u.errorDetails.length-10," more errors"]})]})})]})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out rounded-lg shadow-md dark:shadow-2xl overflow-hidden p-6 shadow-sm",children:[e.jsx("h2",{className:"text-lg font-medium mb-4",children:"Import Instructions"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-md font-semibold mb-2",children:"Required Fields"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"font-medium text-blue-600",children:"Leads Sheet:"}),e.jsxs("ul",{className:"list-disc ml-5 text-sm text-gray-600 dark:text-gray-500",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Name"})," - Lead's full name"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Email"})," - Lead's email address"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Phone"})," - Lead's phone number"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"CountryCode"})," - Phone country code (e.g., +1, +91)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Country"})," - Lead's country"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Course"})," - Course/product of interest"]}),e.jsx("li",{children:"Optional: PseudoId, Company, Client, Status, Source, SourceLink, Remarks, Feedback"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"font-medium text-blue-600",children:"Sales Sheet:"}),e.jsxs("ul",{className:"list-disc ml-5 text-sm text-gray-600 dark:text-gray-500",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Email"})," or ",e.jsx("strong",{children:"Phone"})," - To identify the associated lead"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Amount"})," - Sale amount"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Product"})," - Product/service sold"]}),e.jsx("li",{children:"Optional: Token, Status (Pending/Closed), Notes"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-blue-600",children:"Google Forms:"}),e.jsxs("ul",{className:"list-disc ml-5 text-sm text-gray-600 dark:text-gray-500",children:[e.jsx("li",{children:"The system automatically maps common Google Forms field names"}),e.jsx("li",{children:"Ensure your form includes name, email, phone, and course interest fields"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-md font-semibold mb-2",children:"Export Instructions"}),e.jsxs("ol",{className:"list-decimal ml-5 text-sm text-gray-600 dark:text-gray-500",children:[e.jsx("li",{children:"Open your Google Sheet"}),e.jsxs("li",{children:["Go to ",e.jsx("strong",{children:"File"})," > ",e.jsx("strong",{children:"Download"})," > ",e.jsx("strong",{children:"Comma-separated values (.csv)"})]}),e.jsx("li",{children:"Save the file to your computer"}),e.jsx("li",{children:"Upload the CSV file using the form above"})]})]})]})]})})},o8=()=>{const{user:t}=Fe(),[r,s]=y.useState(!0),[a,i]=y.useState("today"),[l,c]=y.useState(new Date().toISOString().split("T")[0]),[u,m]=y.useState({startDate:new Date(Date.now()-8640*60*1e3).toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]}),[h,p]=y.useState(7),[g,x]=y.useState(null),[v,w]=y.useState(new Date().toISOString().split("T")[0]),[S,k]=y.useState({data:[],summary:{totalUsers:0,activeUsers:0,totalActiveTime:0,averageActiveTime:0}}),[E,C]=y.useState([]),[j,A]=y.useState({dailyStats:[],userStats:[],period:{startDate:"",endDate:"",days:0}}),[P,F]=y.useState(null),T=async()=>{try{const I=await ql.getAllUsersActivity(l);I.data.success&&k({data:I.data.data||[],summary:I.data.summary||{totalUsers:0,activeUsers:0,totalActiveTime:0,averageActiveTime:0}})}catch(I){console.error("Error fetching today activity:",I),Qe.error("Failed to fetch today's activity data")}},L=async()=>{try{const I=await ql.getAllUsersActivity(null,u.startDate,u.endDate);I.data.success&&C(I.data.data||[])}catch(I){console.error("Error fetching date range activity:",I),Qe.error("Failed to fetch date range activity data")}},z=async()=>{try{const I=await ql.getStatistics(h);I.data.success&&A(I.data.data)}catch(I){console.error("Error fetching statistics:",I),Qe.error("Failed to fetch activity statistics")}},q=async(I,G)=>{try{const _=await ql.getAllUsersActivity(G);if(_.data.success){const M=_.data.data.find(Z=>Z.userId===I);F(M)}}catch(_){console.error("Error fetching employee details:",_),Qe.error("Failed to fetch employee details")}},O=async()=>{s(!0);try{switch(a){case"today":await T();break;case"range":await L();break;case"statistics":await z();break;case"employee":g&&await q(g.userId,v);break;default:await T()}}finally{s(!1)}};y.useEffect(()=>{O();const I=setInterval(()=>{a==="today"&&T()},3e4);return()=>clearInterval(I)},[a,l,u,h,g,v]);const B=I=>{if(!I||I<0)return"0m";const G=Math.floor(I/3600),_=Math.floor(I%3600/60);return G>0?`${G}h ${_}m`:`${_}m`},U=I=>{if(!I||I<0)return"0h 0m 0s";const G=Math.floor(I/3600),_=Math.floor(I%3600/60),M=I%60;return`${G}h ${_}m ${M}s`},R=I=>new Date(I).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),ee=I=>new Date(I).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),J=I=>I?"bg-green-100 text-green-800 border-green-200":"bg-gray-100 dark:bg-slate-700 text-gray-800 dark:text-gray-200 border-gray-200 dark:border-slate-700",H=I=>({Admin:"bg-red-100 text-red-800 border-red-200",Manager:"bg-blue-100 text-blue-800 border-blue-200","Sales Person":"bg-green-100 text-green-800 border-green-200","Lead Person":"bg-yellow-100 text-yellow-800 border-yellow-200"})[I]||"bg-gray-100 dark:bg-slate-700 text-gray-800 dark:text-gray-200 border-gray-200 dark:border-slate-700",K=I=>{x(I),i("employee")};return!t||t.role!=="Admin"&&t.role!=="Manager"?e.jsx(Je,{children:e.jsx("div",{className:"container mx-auto p-6",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[e.jsx("h2",{className:"text-red-800 font-semibold",children:"Access Denied"}),e.jsx("p",{className:"text-red-600",children:"You don't have permission to view this page."})]})})}):e.jsx(Je,{children:e.jsxs("div",{className:"container mx-auto p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"User Activity Dashboard"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-500 mt-1",children:"Monitor employee CRM usage and productivity"})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("button",{onClick:O,disabled:r,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 disabled:opacity-50",children:[e.jsx("svg",{className:`w-4 h-4 ${r?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),e.jsx("span",{children:"Refresh"})]})})]}),e.jsx("div",{className:"border-b border-gray-200 dark:border-slate-700 mb-6",children:e.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"today",label:"Today's Activity",icon:""},{id:"range",label:"Date Range",icon:""},{id:"statistics",label:"Statistics",icon:""},{id:"employee",label:"Employee Details",icon:""}].map(I=>e.jsxs("button",{onClick:()=>i(I.id),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ${a===I.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 dark:text-gray-400 dark:text-gray-400 hover:text-gray-700 dark:text-gray-300 dark:text-gray-400 hover:border-gray-300 dark:border-slate-600"}`,children:[e.jsx("span",{children:I.icon}),e.jsx("span",{children:I.label})]},I.id))})}),a==="today"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-400",children:"Select Date:"}),e.jsx("input",{type:"date",value:l,onChange:I=>c(I.target.value),className:"border border-gray-300 dark:border-slate-600 rounded-lg px-3 py-2 text-sm"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out rounded-lg shadow p-6 border",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-500",children:"Total Users"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:S.summary.totalUsers})]})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out rounded-lg shadow p-6 border",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-500",children:"Currently Active"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:S.summary.activeUsers})]})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out rounded-lg shadow p-6 border",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-500",children:"Total Active Time"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:B(S.summary.totalActiveTime)})]})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out rounded-lg shadow p-6 border",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:e.jsx("svg",{className:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v4a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-500",children:"Average Time"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:B(S.summary.averageActiveTime)})]})]})})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out rounded-lg shadow border",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-slate-700",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"User Activity Details"}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-500",children:["Activity for ",R(l)]})]}),r?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-500 mt-2",children:"Loading activity data..."})]}):S.data.length===0?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("svg",{className:"w-12 h-12 text-gray-400 dark:text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),e.jsx("p",{className:"text-gray-600 dark:text-gray-500",children:"No activity data found for this date"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-slate-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-slate-800",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"User"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Role"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Active Time"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Sessions"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Last Activity"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out divide-y divide-gray-200 dark:divide-slate-700",children:S.data.map(I=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:bg-slate-800",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:I.userName}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-500",children:I.userEmail})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full border ${H(I.userRole)}`,children:I.userRole})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full border ${J(I.isCurrentlyActive)}`,children:I.isCurrentlyActive?" Active":" Offline"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:B(I.totalActiveTime)}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-500",children:U(I.totalActiveTime)})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:I.sessionsCount}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-500",children:I.lastActivity?ee(I.lastActivity):"N/A"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-500",children:e.jsx("button",{onClick:()=>K(I),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-xs",children:"View Details"})})]},I.userId))})]})})]})]}),a==="range"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-400",children:"From:"}),e.jsx("input",{type:"date",value:u.startDate,onChange:I=>m(G=>({...G,startDate:I.target.value})),className:"border border-gray-300 dark:border-slate-600 rounded-lg px-3 py-2 text-sm"}),e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-400",children:"To:"}),e.jsx("input",{type:"date",value:u.endDate,onChange:I=>m(G=>({...G,endDate:I.target.value})),className:"border border-gray-300 dark:border-slate-600 rounded-lg px-3 py-2 text-sm"})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out rounded-lg shadow border",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-slate-700",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Activity by Date Range"}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-500",children:[R(u.startDate)," to ",R(u.endDate)]})]}),r?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-500 mt-2",children:"Loading date range data..."})]}):E.length===0?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("svg",{className:"w-12 h-12 text-gray-400 dark:text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),e.jsx("p",{className:"text-gray-600 dark:text-gray-500",children:"No activity data found for this date range"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-slate-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-slate-800",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"User"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Role"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Active Time"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Sessions"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Last Activity"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out divide-y divide-gray-200 dark:divide-slate-700",children:E.map((I,G)=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:bg-slate-800",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:I.userName}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-500",children:I.userEmail})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full border ${H(I.userRole)}`,children:I.userRole})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:R(I.date)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:B(I.totalActiveTime)}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-500",children:U(I.totalActiveTime)})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:I.sessionsCount}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-500",children:I.lastActivity?ee(I.lastActivity):"N/A"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-500",children:e.jsx("button",{onClick:()=>{w(I.date),K(I)},className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-xs",children:"View Details"})})]},`${I.userId}-${I.date}-${G}`))})]})})]})]}),a==="statistics"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-400",children:"Period:"}),[7,14,30].map(I=>e.jsxs("button",{onClick:()=>p(I),className:`px-4 py-2 rounded-lg text-sm font-medium ${h===I?"bg-blue-600 text-white":"bg-gray-100 dark:bg-slate-700 text-gray-700 dark:text-gray-300 dark:text-gray-400 hover:bg-gray-200 dark:bg-slate-600"}`,children:[I," days"]},I))]}),e.jsxs("div",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out rounded-lg shadow border",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-slate-700",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Daily Activity Trends"}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-500",children:["Last ",h," days"]})]}),r?e.jsx("div",{className:"p-8 text-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"})}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-slate-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-slate-800",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Active Users"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Total Time"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Average Time"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out divide-y divide-gray-200 dark:divide-slate-700",children:j.dailyStats.map(I=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:bg-slate-800",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:R(I.date)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:I.totalUsers}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:B(I.totalActiveTime)}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-500",children:U(I.totalActiveTime)})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:B(I.averageActiveTime)}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-500",children:U(I.averageActiveTime)})]})})]},I.date))})]})})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out rounded-lg shadow border",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-slate-700",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Top Active Users"}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-500",children:["Last ",h," days"]})]}),r?e.jsx("div",{className:"p-8 text-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"})}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-slate-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-slate-800",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"User"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Role"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Active Days"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Total Time"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Daily Average"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out divide-y divide-gray-200 dark:divide-slate-700",children:j.userStats.map(I=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:bg-slate-800",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:I.userName}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-500",children:I.userEmail})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full border ${H(I.userRole)}`,children:I.userRole})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:I.totalDays}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:B(I.totalActiveTime)}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-500",children:U(I.totalActiveTime)})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:B(I.averageActiveTime)}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-500",children:U(I.averageActiveTime)})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-500",children:e.jsx("button",{onClick:()=>K(I),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-xs",children:"View Details"})})]},I.userId))})]})})]})]}),a==="employee"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out rounded-lg shadow p-6 border",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Employee Activity Details"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-400 mb-2",children:"Select Date:"}),e.jsx("input",{type:"date",value:v,onChange:I=>w(I.target.value),className:"border border-gray-300 dark:border-slate-600 rounded-lg px-3 py-2 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-400 mb-2",children:"Select Employee:"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2",children:S.data.map(I=>e.jsx("button",{onClick:()=>K(I),className:`px-3 py-2 rounded-lg text-sm font-medium border ${(g==null?void 0:g.userId)===I.userId?"bg-blue-600 text-white border-blue-600":"bg-gray-100 dark:bg-slate-700 text-gray-700 dark:text-gray-300 dark:text-gray-400 border-gray-300 dark:border-slate-600 hover:bg-gray-200 dark:bg-slate-600"}`,children:I.userName},I.userId))})]})]}),g&&e.jsxs("div",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out rounded-lg shadow border",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-slate-700",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:[g.userName," - Activity Details"]}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-500",children:["Activity for ",R(v)]})]}),r?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-500 mt-2",children:"Loading employee details..."})]}):P?e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[e.jsx("div",{className:"text-sm font-medium text-blue-600",children:"Total Active Time"}),e.jsx("div",{className:"text-2xl font-bold text-blue-900",children:B(P.totalActiveTime)}),e.jsx("div",{className:"text-xs text-blue-600",children:U(P.totalActiveTime)})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[e.jsx("div",{className:"text-sm font-medium text-green-600",children:"Sessions"}),e.jsx("div",{className:"text-2xl font-bold text-green-900",children:P.sessionsCount}),e.jsx("div",{className:"text-xs text-green-600",children:"Total sessions today"})]}),e.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 border border-purple-200",children:[e.jsx("div",{className:"text-sm font-medium text-purple-600",children:"Status"}),e.jsx("div",{className:"text-lg font-bold text-purple-900",children:P.isCurrentlyActive?" Active":" Offline"}),e.jsx("div",{className:"text-xs text-purple-600",children:"Current status"})]}),e.jsxs("div",{className:"bg-orange-50 rounded-lg p-4 border border-orange-200",children:[e.jsx("div",{className:"text-sm font-medium text-orange-600",children:"Last Activity"}),e.jsx("div",{className:"text-lg font-bold text-orange-900",children:P.lastActivity?ee(P.lastActivity):"N/A"}),e.jsx("div",{className:"text-xs text-orange-600",children:"Last seen"})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800 rounded-lg p-4 mb-6",children:[e.jsx("h4",{className:"text-md font-semibold text-gray-900 dark:text-white mb-3",children:"Employee Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-500",children:"Name:"}),e.jsx("span",{className:"ml-2 text-sm text-gray-900 dark:text-white",children:P.userName})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-500",children:"Email:"}),e.jsx("span",{className:"ml-2 text-sm text-gray-900 dark:text-white",children:P.userEmail})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-500",children:"Role:"}),e.jsx("span",{className:`ml-2 inline-flex px-2 py-1 text-xs font-semibold rounded-full border ${H(P.userRole)}`,children:P.userRole})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-500",children:"Date:"}),e.jsx("span",{className:"ml-2 text-sm text-gray-900 dark:text-white",children:R(P.date)})]})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800 rounded-lg p-4",children:[e.jsx("h4",{className:"text-md font-semibold text-gray-900 dark:text-white mb-3",children:"Activity Summary"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-500",children:"Total Active Time:"}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:U(P.totalActiveTime)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-500",children:"Number of Sessions:"}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:P.sessionsCount})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-500",children:"Average Session Time:"}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:P.sessionsCount>0?B(Math.floor(P.totalActiveTime/P.sessionsCount)):"0m"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-500",children:"Current Status:"}),e.jsx("span",{className:`text-sm font-medium ${P.isCurrentlyActive?"text-green-600":"text-gray-600 dark:text-gray-300"}`,children:P.isCurrentlyActive?"Currently Active":"Offline"})]})]})]})]}):e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("svg",{className:"w-12 h-12 text-gray-400 dark:text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-500",children:["No activity data found for this employee on ",R(v)]})]})]})]})]})})},et=({children:t,allowedRoles:r})=>{const{user:s,loading:a}=Fe();return a?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:e.jsx(Jt,{size:80,text:"Authenticating...",particleCount:2,speed:1.5,hueRange:[200,320]})}):s?r.includes(s.role)?t:e.jsx(Km,{to:"/",replace:!0}):e.jsx(Km,{to:"/login",replace:!0})},Fx="/assets/ForgotPassword-CiiIXMXF.jpg",Jv=y.createContext({});function i8(t){const r=y.useRef(null);return r.current===null&&(r.current=t()),r.current}const hh=typeof window<"u",l8=hh?y.useLayoutEffect:y.useEffect,fh=y.createContext(null);function ph(t,r){t.indexOf(r)===-1&&t.push(r)}function gh(t,r){const s=t.indexOf(r);s>-1&&t.splice(s,1)}const Ds=(t,r,s)=>s>r?r:s<t?t:s;let xh=()=>{};const Ms={},Zv=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function e2(t){return typeof t=="object"&&t!==null}const t2=t=>/^0[^.\s]+$/u.test(t);function yh(t){let r;return()=>(r===void 0&&(r=t()),r)}const Mr=t=>t,c8=(t,r)=>s=>r(t(s)),Ei=(...t)=>t.reduce(c8),hi=(t,r,s)=>{const a=r-t;return a===0?1:(s-t)/a};class bh{constructor(){this.subscriptions=[]}add(r){return ph(this.subscriptions,r),()=>gh(this.subscriptions,r)}notify(r,s,a){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](r,s,a);else for(let l=0;l<i;l++){const c=this.subscriptions[l];c&&c(r,s,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const os=t=>t*1e3,Ar=t=>t/1e3;function r2(t,r){return r?t*(1e3/r):0}const s2=(t,r,s)=>(((1-3*s+3*r)*t+(3*s-6*r))*t+3*r)*t,d8=1e-7,u8=12;function m8(t,r,s,a,i){let l,c,u=0;do c=r+(s-r)/2,l=s2(c,a,i)-t,l>0?s=c:r=c;while(Math.abs(l)>d8&&++u<u8);return c}function Ti(t,r,s,a){if(t===r&&s===a)return Mr;const i=l=>m8(l,0,1,t,s);return l=>l===0||l===1?l:s2(i(l),r,a)}const a2=t=>r=>r<=.5?t(2*r)/2:(2-t(2*(1-r)))/2,n2=t=>r=>1-t(1-r),o2=Ti(.33,1.53,.69,.99),vh=n2(o2),i2=a2(vh),l2=t=>(t*=2)<1?.5*vh(t):.5*(2-Math.pow(2,-10*(t-1))),wh=t=>1-Math.sin(Math.acos(t)),c2=n2(wh),d2=a2(wh),h8=Ti(.42,0,1,1),f8=Ti(0,0,.58,1),u2=Ti(.42,0,.58,1),p8=t=>Array.isArray(t)&&typeof t[0]!="number",m2=t=>Array.isArray(t)&&typeof t[0]=="number",g8={linear:Mr,easeIn:h8,easeInOut:u2,easeOut:f8,circIn:wh,circInOut:d2,circOut:c2,backIn:vh,backInOut:i2,backOut:o2,anticipate:l2},x8=t=>typeof t=="string",Bx=t=>{if(m2(t)){xh(t.length===4);const[r,s,a,i]=t;return Ti(r,s,a,i)}else if(x8(t))return g8[t];return t},Zl=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function y8(t,r){let s=new Set,a=new Set,i=!1,l=!1;const c=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function m(p){c.has(p)&&(h.schedule(p),t()),p(u)}const h={schedule:(p,g=!1,x=!1)=>{const w=x&&i?s:a;return g&&c.add(p),w.has(p)||w.add(p),p},cancel:p=>{a.delete(p),c.delete(p)},process:p=>{if(u=p,i){l=!0;return}i=!0,[s,a]=[a,s],s.forEach(m),s.clear(),i=!1,l&&(l=!1,h.process(p))}};return h}const b8=40;function h2(t,r){let s=!1,a=!0;const i={delta:0,timestamp:0,isProcessing:!1},l=()=>s=!0,c=Zl.reduce((j,A)=>(j[A]=y8(l),j),{}),{setup:u,read:m,resolveKeyframes:h,preUpdate:p,update:g,preRender:x,render:v,postRender:w}=c,S=()=>{const j=Ms.useManualTiming?i.timestamp:performance.now();s=!1,Ms.useManualTiming||(i.delta=a?1e3/60:Math.max(Math.min(j-i.timestamp,b8),1)),i.timestamp=j,i.isProcessing=!0,u.process(i),m.process(i),h.process(i),p.process(i),g.process(i),x.process(i),v.process(i),w.process(i),i.isProcessing=!1,s&&r&&(a=!1,t(S))},k=()=>{s=!0,a=!0,i.isProcessing||t(S)};return{schedule:Zl.reduce((j,A)=>{const P=c[A];return j[A]=(F,T=!1,L=!1)=>(s||k(),P.schedule(F,T,L)),j},{}),cancel:j=>{for(let A=0;A<Zl.length;A++)c[Zl[A]].cancel(j)},state:i,steps:c}}const{schedule:it,cancel:ma,state:Ut,steps:ym}=h2(typeof requestAnimationFrame<"u"?requestAnimationFrame:Mr,!0);let bc;function v8(){bc=void 0}const dr={now:()=>(bc===void 0&&dr.set(Ut.isProcessing||Ms.useManualTiming?Ut.timestamp:performance.now()),bc),set:t=>{bc=t,queueMicrotask(v8)}},f2=t=>r=>typeof r=="string"&&r.startsWith(t),jh=f2("--"),w8=f2("var(--"),Nh=t=>w8(t)?j8.test(t.split("/*")[0].trim()):!1,j8=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Zn={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},fi={...Zn,transform:t=>Ds(0,1,t)},ec={...Zn,default:1},ei=t=>Math.round(t*1e5)/1e5,kh=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function N8(t){return t==null}const k8=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Sh=(t,r)=>s=>!!(typeof s=="string"&&k8.test(s)&&s.startsWith(t)||r&&!N8(s)&&Object.prototype.hasOwnProperty.call(s,r)),p2=(t,r,s)=>a=>{if(typeof a!="string")return a;const[i,l,c,u]=a.match(kh);return{[t]:parseFloat(i),[r]:parseFloat(l),[s]:parseFloat(c),alpha:u!==void 0?parseFloat(u):1}},S8=t=>Ds(0,255,t),bm={...Zn,transform:t=>Math.round(S8(t))},Va={test:Sh("rgb","red"),parse:p2("red","green","blue"),transform:({red:t,green:r,blue:s,alpha:a=1})=>"rgba("+bm.transform(t)+", "+bm.transform(r)+", "+bm.transform(s)+", "+ei(fi.transform(a))+")"};function C8(t){let r="",s="",a="",i="";return t.length>5?(r=t.substring(1,3),s=t.substring(3,5),a=t.substring(5,7),i=t.substring(7,9)):(r=t.substring(1,2),s=t.substring(2,3),a=t.substring(3,4),i=t.substring(4,5),r+=r,s+=s,a+=a,i+=i),{red:parseInt(r,16),green:parseInt(s,16),blue:parseInt(a,16),alpha:i?parseInt(i,16)/255:1}}const b0={test:Sh("#"),parse:C8,transform:Va.transform},Ai=t=>({test:r=>typeof r=="string"&&r.endsWith(t)&&r.split(" ").length===1,parse:parseFloat,transform:r=>`${r}${t}`}),aa=Ai("deg"),is=Ai("%"),Re=Ai("px"),E8=Ai("vh"),T8=Ai("vw"),Ux={...is,parse:t=>is.parse(t)/100,transform:t=>is.transform(t*100)},Mn={test:Sh("hsl","hue"),parse:p2("hue","saturation","lightness"),transform:({hue:t,saturation:r,lightness:s,alpha:a=1})=>"hsla("+Math.round(t)+", "+is.transform(ei(r))+", "+is.transform(ei(s))+", "+ei(fi.transform(a))+")"},St={test:t=>Va.test(t)||b0.test(t)||Mn.test(t),parse:t=>Va.test(t)?Va.parse(t):Mn.test(t)?Mn.parse(t):b0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Va.transform(t):Mn.transform(t),getAnimatableNone:t=>{const r=St.parse(t);return r.alpha=0,St.transform(r)}},A8=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function P8(t){var r,s;return isNaN(t)&&typeof t=="string"&&(((r=t.match(kh))==null?void 0:r.length)||0)+(((s=t.match(A8))==null?void 0:s.length)||0)>0}const g2="number",x2="color",D8="var",M8="var(",$x="${}",R8=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function pi(t){const r=t.toString(),s=[],a={color:[],number:[],var:[]},i=[];let l=0;const u=r.replace(R8,m=>(St.test(m)?(a.color.push(l),i.push(x2),s.push(St.parse(m))):m.startsWith(M8)?(a.var.push(l),i.push(D8),s.push(m)):(a.number.push(l),i.push(g2),s.push(parseFloat(m))),++l,$x)).split($x);return{values:s,split:u,indexes:a,types:i}}function y2(t){return pi(t).values}function b2(t){const{split:r,types:s}=pi(t),a=r.length;return i=>{let l="";for(let c=0;c<a;c++)if(l+=r[c],i[c]!==void 0){const u=s[c];u===g2?l+=ei(i[c]):u===x2?l+=St.transform(i[c]):l+=i[c]}return l}}const L8=t=>typeof t=="number"?0:St.test(t)?St.getAnimatableNone(t):t;function I8(t){const r=y2(t);return b2(t)(r.map(L8))}const ha={test:P8,parse:y2,createTransformer:b2,getAnimatableNone:I8};function vm(t,r,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?t+(r-t)*6*s:s<1/2?r:s<2/3?t+(r-t)*(2/3-s)*6:t}function _8({hue:t,saturation:r,lightness:s,alpha:a}){t/=360,r/=100,s/=100;let i=0,l=0,c=0;if(!r)i=l=c=s;else{const u=s<.5?s*(1+r):s+r-s*r,m=2*s-u;i=vm(m,u,t+1/3),l=vm(m,u,t),c=vm(m,u,t-1/3)}return{red:Math.round(i*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:a}}function Lc(t,r){return s=>s>0?r:t}const ft=(t,r,s)=>t+(r-t)*s,wm=(t,r,s)=>{const a=t*t,i=s*(r*r-a)+a;return i<0?0:Math.sqrt(i)},O8=[b0,Va,Mn],F8=t=>O8.find(r=>r.test(t));function Vx(t){const r=F8(t);if(!r)return!1;let s=r.parse(t);return r===Mn&&(s=_8(s)),s}const zx=(t,r)=>{const s=Vx(t),a=Vx(r);if(!s||!a)return Lc(t,r);const i={...s};return l=>(i.red=wm(s.red,a.red,l),i.green=wm(s.green,a.green,l),i.blue=wm(s.blue,a.blue,l),i.alpha=ft(s.alpha,a.alpha,l),Va.transform(i))},v0=new Set(["none","hidden"]);function B8(t,r){return v0.has(t)?s=>s<=0?t:r:s=>s>=1?r:t}function U8(t,r){return s=>ft(t,r,s)}function Ch(t){return typeof t=="number"?U8:typeof t=="string"?Nh(t)?Lc:St.test(t)?zx:z8:Array.isArray(t)?v2:typeof t=="object"?St.test(t)?zx:$8:Lc}function v2(t,r){const s=[...t],a=s.length,i=t.map((l,c)=>Ch(l)(l,r[c]));return l=>{for(let c=0;c<a;c++)s[c]=i[c](l);return s}}function $8(t,r){const s={...t,...r},a={};for(const i in s)t[i]!==void 0&&r[i]!==void 0&&(a[i]=Ch(t[i])(t[i],r[i]));return i=>{for(const l in a)s[l]=a[l](i);return s}}function V8(t,r){const s=[],a={color:0,var:0,number:0};for(let i=0;i<r.values.length;i++){const l=r.types[i],c=t.indexes[l][a[l]],u=t.values[c]??0;s[i]=u,a[l]++}return s}const z8=(t,r)=>{const s=ha.createTransformer(r),a=pi(t),i=pi(r);return a.indexes.var.length===i.indexes.var.length&&a.indexes.color.length===i.indexes.color.length&&a.indexes.number.length>=i.indexes.number.length?v0.has(t)&&!i.values.length||v0.has(r)&&!a.values.length?B8(t,r):Ei(v2(V8(a,i),i.values),s):Lc(t,r)};function w2(t,r,s){return typeof t=="number"&&typeof r=="number"&&typeof s=="number"?ft(t,r,s):Ch(t)(t,r)}const H8=t=>{const r=({timestamp:s})=>t(s);return{start:(s=!0)=>it.update(r,s),stop:()=>ma(r),now:()=>Ut.isProcessing?Ut.timestamp:dr.now()}},j2=(t,r,s=10)=>{let a="";const i=Math.max(Math.round(r/s),2);for(let l=0;l<i;l++)a+=Math.round(t(l/(i-1))*1e4)/1e4+", ";return`linear(${a.substring(0,a.length-2)})`},Ic=2e4;function Eh(t){let r=0;const s=50;let a=t.next(r);for(;!a.done&&r<Ic;)r+=s,a=t.next(r);return r>=Ic?1/0:r}function W8(t,r=100,s){const a=s({...t,keyframes:[0,r]}),i=Math.min(Eh(a),Ic);return{type:"keyframes",ease:l=>a.next(i*l).value/r,duration:Ar(i)}}const q8=5;function N2(t,r,s){const a=Math.max(r-q8,0);return r2(s-t(a),r-a)}const gt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},jm=.001;function Y8({duration:t=gt.duration,bounce:r=gt.bounce,velocity:s=gt.velocity,mass:a=gt.mass}){let i,l,c=1-r;c=Ds(gt.minDamping,gt.maxDamping,c),t=Ds(gt.minDuration,gt.maxDuration,Ar(t)),c<1?(i=h=>{const p=h*c,g=p*t,x=p-s,v=w0(h,c),w=Math.exp(-g);return jm-x/v*w},l=h=>{const g=h*c*t,x=g*s+s,v=Math.pow(c,2)*Math.pow(h,2)*t,w=Math.exp(-g),S=w0(Math.pow(h,2),c);return(-i(h)+jm>0?-1:1)*((x-v)*w)/S}):(i=h=>{const p=Math.exp(-h*t),g=(h-s)*t+1;return-jm+p*g},l=h=>{const p=Math.exp(-h*t),g=(s-h)*(t*t);return p*g});const u=5/t,m=G8(i,l,u);if(t=os(t),isNaN(m))return{stiffness:gt.stiffness,damping:gt.damping,duration:t};{const h=Math.pow(m,2)*a;return{stiffness:h,damping:c*2*Math.sqrt(a*h),duration:t}}}const K8=12;function G8(t,r,s){let a=s;for(let i=1;i<K8;i++)a=a-t(a)/r(a);return a}function w0(t,r){return t*Math.sqrt(1-r*r)}const X8=["duration","bounce"],Q8=["stiffness","damping","mass"];function Hx(t,r){return r.some(s=>t[s]!==void 0)}function J8(t){let r={velocity:gt.velocity,stiffness:gt.stiffness,damping:gt.damping,mass:gt.mass,isResolvedFromDuration:!1,...t};if(!Hx(t,Q8)&&Hx(t,X8))if(t.visualDuration){const s=t.visualDuration,a=2*Math.PI/(s*1.2),i=a*a,l=2*Ds(.05,1,1-(t.bounce||0))*Math.sqrt(i);r={...r,mass:gt.mass,stiffness:i,damping:l}}else{const s=Y8(t);r={...r,...s,mass:gt.mass},r.isResolvedFromDuration=!0}return r}function _c(t=gt.visualDuration,r=gt.bounce){const s=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:r}:t;let{restSpeed:a,restDelta:i}=s;const l=s.keyframes[0],c=s.keyframes[s.keyframes.length-1],u={done:!1,value:l},{stiffness:m,damping:h,mass:p,duration:g,velocity:x,isResolvedFromDuration:v}=J8({...s,velocity:-Ar(s.velocity||0)}),w=x||0,S=h/(2*Math.sqrt(m*p)),k=c-l,E=Ar(Math.sqrt(m/p)),C=Math.abs(k)<5;a||(a=C?gt.restSpeed.granular:gt.restSpeed.default),i||(i=C?gt.restDelta.granular:gt.restDelta.default);let j;if(S<1){const P=w0(E,S);j=F=>{const T=Math.exp(-S*E*F);return c-T*((w+S*E*k)/P*Math.sin(P*F)+k*Math.cos(P*F))}}else if(S===1)j=P=>c-Math.exp(-E*P)*(k+(w+E*k)*P);else{const P=E*Math.sqrt(S*S-1);j=F=>{const T=Math.exp(-S*E*F),L=Math.min(P*F,300);return c-T*((w+S*E*k)*Math.sinh(L)+P*k*Math.cosh(L))/P}}const A={calculatedDuration:v&&g||null,next:P=>{const F=j(P);if(v)u.done=P>=g;else{let T=P===0?w:0;S<1&&(T=P===0?os(w):N2(j,P,F));const L=Math.abs(T)<=a,z=Math.abs(c-F)<=i;u.done=L&&z}return u.value=u.done?c:F,u},toString:()=>{const P=Math.min(Eh(A),Ic),F=j2(T=>A.next(P*T).value,P,30);return P+"ms "+F},toTransition:()=>{}};return A}_c.applyToOptions=t=>{const r=W8(t,100,_c);return t.ease=r.ease,t.duration=os(r.duration),t.type="keyframes",t};function j0({keyframes:t,velocity:r=0,power:s=.8,timeConstant:a=325,bounceDamping:i=10,bounceStiffness:l=500,modifyTarget:c,min:u,max:m,restDelta:h=.5,restSpeed:p}){const g=t[0],x={done:!1,value:g},v=L=>u!==void 0&&L<u||m!==void 0&&L>m,w=L=>u===void 0?m:m===void 0||Math.abs(u-L)<Math.abs(m-L)?u:m;let S=s*r;const k=g+S,E=c===void 0?k:c(k);E!==k&&(S=E-g);const C=L=>-S*Math.exp(-L/a),j=L=>E+C(L),A=L=>{const z=C(L),q=j(L);x.done=Math.abs(z)<=h,x.value=x.done?E:q};let P,F;const T=L=>{v(x.value)&&(P=L,F=_c({keyframes:[x.value,w(x.value)],velocity:N2(j,L,x.value),damping:i,stiffness:l,restDelta:h,restSpeed:p}))};return T(0),{calculatedDuration:null,next:L=>{let z=!1;return!F&&P===void 0&&(z=!0,A(L),T(L)),P!==void 0&&L>=P?F.next(L-P):(!z&&A(L),x)}}}function Z8(t,r,s){const a=[],i=s||Ms.mix||w2,l=t.length-1;for(let c=0;c<l;c++){let u=i(t[c],t[c+1]);if(r){const m=Array.isArray(r)?r[c]||Mr:r;u=Ei(m,u)}a.push(u)}return a}function eC(t,r,{clamp:s=!0,ease:a,mixer:i}={}){const l=t.length;if(xh(l===r.length),l===1)return()=>r[0];if(l===2&&r[0]===r[1])return()=>r[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),r=[...r].reverse());const u=Z8(r,a,i),m=u.length,h=p=>{if(c&&p<t[0])return r[0];let g=0;if(m>1)for(;g<t.length-2&&!(p<t[g+1]);g++);const x=hi(t[g],t[g+1],p);return u[g](x)};return s?p=>h(Ds(t[0],t[l-1],p)):h}function tC(t,r){const s=t[t.length-1];for(let a=1;a<=r;a++){const i=hi(0,r,a);t.push(ft(s,1,i))}}function rC(t){const r=[0];return tC(r,t.length-1),r}function sC(t,r){return t.map(s=>s*r)}function aC(t,r){return t.map(()=>r||u2).splice(0,t.length-1)}function ti({duration:t=300,keyframes:r,times:s,ease:a="easeInOut"}){const i=p8(a)?a.map(Bx):Bx(a),l={done:!1,value:r[0]},c=sC(s&&s.length===r.length?s:rC(r),t),u=eC(c,r,{ease:Array.isArray(i)?i:aC(r,i)});return{calculatedDuration:t,next:m=>(l.value=u(m),l.done=m>=t,l)}}const nC=t=>t!==null;function Th(t,{repeat:r,repeatType:s="loop"},a,i=1){const l=t.filter(nC),u=i<0||r&&s!=="loop"&&r%2===1?0:l.length-1;return!u||a===void 0?l[u]:a}const oC={decay:j0,inertia:j0,tween:ti,keyframes:ti,spring:_c};function k2(t){typeof t.type=="string"&&(t.type=oC[t.type])}class Ah{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(r=>{this.resolve=r})}notifyFinished(){this.resolve()}then(r,s){return this.finished.then(r,s)}}const iC=t=>t/100;class Ph extends Ah{constructor(r){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var a,i;const{motionValue:s}=this.options;s&&s.updatedAt!==dr.now()&&this.tick(dr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(a=this.options).onStop)==null||i.call(a))},this.options=r,this.initAnimation(),this.play(),r.autoplay===!1&&this.pause()}initAnimation(){const{options:r}=this;k2(r);const{type:s=ti,repeat:a=0,repeatDelay:i=0,repeatType:l,velocity:c=0}=r;let{keyframes:u}=r;const m=s||ti;m!==ti&&typeof u[0]!="number"&&(this.mixKeyframes=Ei(iC,w2(u[0],u[1])),u=[0,100]);const h=m({...r,keyframes:u});l==="mirror"&&(this.mirroredGenerator=m({...r,keyframes:[...u].reverse(),velocity:-c})),h.calculatedDuration===null&&(h.calculatedDuration=Eh(h));const{calculatedDuration:p}=h;this.calculatedDuration=p,this.resolvedDuration=p+i,this.totalDuration=this.resolvedDuration*(a+1)-i,this.generator=h}updateTime(r){const s=Math.round(r-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(r,s=!1){const{generator:a,totalDuration:i,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:u,calculatedDuration:m}=this;if(this.startTime===null)return a.next(0);const{delay:h=0,keyframes:p,repeat:g,repeatType:x,repeatDelay:v,type:w,onUpdate:S,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,r):this.speed<0&&(this.startTime=Math.min(r-i/this.speed,this.startTime)),s?this.currentTime=r:this.updateTime(r);const E=this.currentTime-h*(this.playbackSpeed>=0?1:-1),C=this.playbackSpeed>=0?E<0:E>i;this.currentTime=Math.max(E,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let j=this.currentTime,A=a;if(g){const L=Math.min(this.currentTime,i)/u;let z=Math.floor(L),q=L%1;!q&&L>=1&&(q=1),q===1&&z--,z=Math.min(z,g+1),!!(z%2)&&(x==="reverse"?(q=1-q,v&&(q-=v/u)):x==="mirror"&&(A=c)),j=Ds(0,1,q)*u}const P=C?{done:!1,value:p[0]}:A.next(j);l&&(P.value=l(P.value));let{done:F}=P;!C&&m!==null&&(F=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&F);return T&&w!==j0&&(P.value=Th(p,this.options,k,this.speed)),S&&S(P.value),T&&this.finish(),P}then(r,s){return this.finished.then(r,s)}get duration(){return Ar(this.calculatedDuration)}get iterationDuration(){const{delay:r=0}=this.options||{};return this.duration+Ar(r)}get time(){return Ar(this.currentTime)}set time(r){var s;r=os(r),this.currentTime=r,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=r:this.driver&&(this.startTime=this.driver.now()-r/this.playbackSpeed),(s=this.driver)==null||s.start(!1)}get speed(){return this.playbackSpeed}set speed(r){this.updateTime(dr.now());const s=this.playbackSpeed!==r;this.playbackSpeed=r,s&&(this.time=Ar(this.currentTime))}play(){var i,l;if(this.isStopped)return;const{driver:r=H8,startTime:s}=this.options;this.driver||(this.driver=r(c=>this.tick(c))),(l=(i=this.options).onPlay)==null||l.call(i);const a=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=a):this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime||(this.startTime=s??a),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(dr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var r,s;this.notifyFinished(),this.teardown(),this.state="finished",(s=(r=this.options).onComplete)==null||s.call(r)}cancel(){var r,s;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(s=(r=this.options).onCancel)==null||s.call(r)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(r){return this.startTime=0,this.tick(r,!0)}attachTimeline(r){var s;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(s=this.driver)==null||s.stop(),r.observe(this)}}function lC(t){for(let r=1;r<t.length;r++)t[r]??(t[r]=t[r-1])}const za=t=>t*180/Math.PI,N0=t=>{const r=za(Math.atan2(t[1],t[0]));return k0(r)},cC={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:N0,rotateZ:N0,skewX:t=>za(Math.atan(t[1])),skewY:t=>za(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},k0=t=>(t=t%360,t<0&&(t+=360),t),Wx=N0,qx=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Yx=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),dC={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:qx,scaleY:Yx,scale:t=>(qx(t)+Yx(t))/2,rotateX:t=>k0(za(Math.atan2(t[6],t[5]))),rotateY:t=>k0(za(Math.atan2(-t[2],t[0]))),rotateZ:Wx,rotate:Wx,skewX:t=>za(Math.atan(t[4])),skewY:t=>za(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function S0(t){return t.includes("scale")?1:0}function C0(t,r){if(!t||t==="none")return S0(r);const s=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let a,i;if(s)a=dC,i=s;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);a=cC,i=u}if(!i)return S0(r);const l=a[r],c=i[1].split(",").map(mC);return typeof l=="function"?l(c):c[l]}const uC=(t,r)=>{const{transform:s="none"}=getComputedStyle(t);return C0(s,r)};function mC(t){return parseFloat(t.trim())}const eo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],to=new Set(eo),Kx=t=>t===Zn||t===Re,hC=new Set(["x","y","z"]),fC=eo.filter(t=>!hC.has(t));function pC(t){const r=[];return fC.forEach(s=>{const a=t.getValue(s);a!==void 0&&(r.push([s,a.get()]),a.set(s.startsWith("scale")?1:0))}),r}const Ya={width:({x:t},{paddingLeft:r="0",paddingRight:s="0"})=>t.max-t.min-parseFloat(r)-parseFloat(s),height:({y:t},{paddingTop:r="0",paddingBottom:s="0"})=>t.max-t.min-parseFloat(r)-parseFloat(s),top:(t,{top:r})=>parseFloat(r),left:(t,{left:r})=>parseFloat(r),bottom:({y:t},{top:r})=>parseFloat(r)+(t.max-t.min),right:({x:t},{left:r})=>parseFloat(r)+(t.max-t.min),x:(t,{transform:r})=>C0(r,"x"),y:(t,{transform:r})=>C0(r,"y")};Ya.translateX=Ya.x;Ya.translateY=Ya.y;const Ka=new Set;let E0=!1,T0=!1,A0=!1;function S2(){if(T0){const t=Array.from(Ka).filter(a=>a.needsMeasurement),r=new Set(t.map(a=>a.element)),s=new Map;r.forEach(a=>{const i=pC(a);i.length&&(s.set(a,i),a.render())}),t.forEach(a=>a.measureInitialState()),r.forEach(a=>{a.render();const i=s.get(a);i&&i.forEach(([l,c])=>{var u;(u=a.getValue(l))==null||u.set(c)})}),t.forEach(a=>a.measureEndState()),t.forEach(a=>{a.suspendedScrollY!==void 0&&window.scrollTo(0,a.suspendedScrollY)})}T0=!1,E0=!1,Ka.forEach(t=>t.complete(A0)),Ka.clear()}function C2(){Ka.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(T0=!0)})}function gC(){A0=!0,C2(),S2(),A0=!1}class Dh{constructor(r,s,a,i,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...r],this.onComplete=s,this.name=a,this.motionValue=i,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Ka.add(this),E0||(E0=!0,it.read(C2),it.resolveKeyframes(S2))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:r,name:s,element:a,motionValue:i}=this;if(r[0]===null){const l=i==null?void 0:i.get(),c=r[r.length-1];if(l!==void 0)r[0]=l;else if(a&&s){const u=a.readValue(s,c);u!=null&&(r[0]=u)}r[0]===void 0&&(r[0]=c),i&&l===void 0&&i.set(r[0])}lC(r)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(r=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,r),Ka.delete(this)}cancel(){this.state==="scheduled"&&(Ka.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const xC=t=>t.startsWith("--");function yC(t,r,s){xC(r)?t.style.setProperty(r,s):t.style[r]=s}const bC=yh(()=>window.ScrollTimeline!==void 0),vC={};function wC(t,r){const s=yh(t);return()=>vC[r]??s()}const E2=wC(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Xo=([t,r,s,a])=>`cubic-bezier(${t}, ${r}, ${s}, ${a})`,Gx={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Xo([0,.65,.55,1]),circOut:Xo([.55,0,1,.45]),backIn:Xo([.31,.01,.66,-.59]),backOut:Xo([.33,1.53,.69,.99])};function T2(t,r){if(t)return typeof t=="function"?E2()?j2(t,r):"ease-out":m2(t)?Xo(t):Array.isArray(t)?t.map(s=>T2(s,r)||Gx.easeOut):Gx[t]}function jC(t,r,s,{delay:a=0,duration:i=300,repeat:l=0,repeatType:c="loop",ease:u="easeOut",times:m}={},h=void 0){const p={[r]:s};m&&(p.offset=m);const g=T2(u,i);Array.isArray(g)&&(p.easing=g);const x={delay:a,duration:i,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return h&&(x.pseudoElement=h),t.animate(p,x)}function A2(t){return typeof t=="function"&&"applyToOptions"in t}function NC({type:t,...r}){return A2(t)&&E2()?t.applyToOptions(r):(r.duration??(r.duration=300),r.ease??(r.ease="easeOut"),r)}class kC extends Ah{constructor(r){if(super(),this.finishedTime=null,this.isStopped=!1,!r)return;const{element:s,name:a,keyframes:i,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:u,onComplete:m}=r;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=r,xh(typeof r.type!="string");const h=NC(r);this.animation=jC(s,a,i,h,l),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const p=Th(i,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(p):yC(s,a,p),this.animation.cancel()}m==null||m(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var r,s;(s=(r=this.animation).finish)==null||s.call(r)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:r}=this;r==="idle"||r==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var r,s;this.isPseudoElement||(s=(r=this.animation).commitStyles)==null||s.call(r)}get duration(){var s,a;const r=((a=(s=this.animation.effect)==null?void 0:s.getComputedTiming)==null?void 0:a.call(s).duration)||0;return Ar(Number(r))}get iterationDuration(){const{delay:r=0}=this.options||{};return this.duration+Ar(r)}get time(){return Ar(Number(this.animation.currentTime)||0)}set time(r){this.finishedTime=null,this.animation.currentTime=os(r)}get speed(){return this.animation.playbackRate}set speed(r){r<0&&(this.finishedTime=null),this.animation.playbackRate=r}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(r){this.animation.startTime=r}attachTimeline({timeline:r,observe:s}){var a;return this.allowFlatten&&((a=this.animation.effect)==null||a.updateTiming({easing:"linear"})),this.animation.onfinish=null,r&&bC()?(this.animation.timeline=r,Mr):s(this)}}const P2={anticipate:l2,backInOut:i2,circInOut:d2};function SC(t){return t in P2}function CC(t){typeof t.ease=="string"&&SC(t.ease)&&(t.ease=P2[t.ease])}const Xx=10;class EC extends kC{constructor(r){CC(r),k2(r),super(r),r.startTime&&(this.startTime=r.startTime),this.options=r}updateMotionValue(r){const{motionValue:s,onUpdate:a,onComplete:i,element:l,...c}=this.options;if(!s)return;if(r!==void 0){s.set(r);return}const u=new Ph({...c,autoplay:!1}),m=os(this.finishedTime??this.time);s.setWithVelocity(u.sample(m-Xx).value,u.sample(m).value,Xx),u.stop()}}const Qx=(t,r)=>r==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ha.test(t)||t==="0")&&!t.startsWith("url("));function TC(t){const r=t[0];if(t.length===1)return!0;for(let s=0;s<t.length;s++)if(t[s]!==r)return!0}function AC(t,r,s,a){const i=t[0];if(i===null)return!1;if(r==="display"||r==="visibility")return!0;const l=t[t.length-1],c=Qx(i,r),u=Qx(l,r);return!c||!u?!1:TC(t)||(s==="spring"||A2(s))&&a}function P0(t){t.duration=0,t.type="keyframes"}const PC=new Set(["opacity","clipPath","filter","transform"]),DC=yh(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function MC(t){var p;const{motionValue:r,name:s,repeatDelay:a,repeatType:i,damping:l,type:c}=t;if(!(((p=r==null?void 0:r.owner)==null?void 0:p.current)instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:h}=r.owner.getProps();return DC()&&s&&PC.has(s)&&(s!=="transform"||!h)&&!m&&!a&&i!=="mirror"&&l!==0&&c!=="inertia"}const RC=40;class LC extends Ah{constructor({autoplay:r=!0,delay:s=0,type:a="keyframes",repeat:i=0,repeatDelay:l=0,repeatType:c="loop",keyframes:u,name:m,motionValue:h,element:p,...g}){var w;super(),this.stop=()=>{var S,k;this._animation&&(this._animation.stop(),(S=this.stopTimeline)==null||S.call(this)),(k=this.keyframeResolver)==null||k.cancel()},this.createdAt=dr.now();const x={autoplay:r,delay:s,type:a,repeat:i,repeatDelay:l,repeatType:c,name:m,motionValue:h,element:p,...g},v=(p==null?void 0:p.KeyframeResolver)||Dh;this.keyframeResolver=new v(u,(S,k,E)=>this.onKeyframesResolved(S,k,x,!E),m,h,p),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(r,s,a,i){this.keyframeResolver=void 0;const{name:l,type:c,velocity:u,delay:m,isHandoff:h,onUpdate:p}=a;this.resolvedAt=dr.now(),AC(r,l,c,u)||((Ms.instantAnimations||!m)&&(p==null||p(Th(r,a,s))),r[0]=r[r.length-1],P0(a),a.repeat=0);const x={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>RC?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...a,keyframes:r},v=!h&&MC(x)?new EC({...x,element:x.motionValue.owner.current}):new Ph(x);v.finished.then(()=>this.notifyFinished()).catch(Mr),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(r,s){return this.finished.finally(r).then(()=>{})}get animation(){var r;return this._animation||((r=this.keyframeResolver)==null||r.resume(),gC()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(r){this.animation.time=r}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(r){this.animation.speed=r}get startTime(){return this.animation.startTime}attachTimeline(r){return this._animation?this.stopTimeline=this.animation.attachTimeline(r):this.pendingTimeline=r,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var r;this._animation&&this.animation.cancel(),(r=this.keyframeResolver)==null||r.cancel()}}const IC=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function _C(t){const r=IC.exec(t);if(!r)return[,];const[,s,a,i]=r;return[`--${s??a}`,i]}function D2(t,r,s=1){const[a,i]=_C(t);if(!a)return;const l=window.getComputedStyle(r).getPropertyValue(a);if(l){const c=l.trim();return Zv(c)?parseFloat(c):c}return Nh(i)?D2(i,r,s+1):i}function Mh(t,r){return(t==null?void 0:t[r])??(t==null?void 0:t.default)??t}const M2=new Set(["width","height","top","left","right","bottom",...eo]),OC={test:t=>t==="auto",parse:t=>t},R2=t=>r=>r.test(t),L2=[Zn,Re,is,aa,T8,E8,OC],Jx=t=>L2.find(R2(t));function FC(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||t2(t):!0}const BC=new Set(["brightness","contrast","saturate","opacity"]);function UC(t){const[r,s]=t.slice(0,-1).split("(");if(r==="drop-shadow")return t;const[a]=s.match(kh)||[];if(!a)return t;const i=s.replace(a,"");let l=BC.has(r)?1:0;return a!==s&&(l*=100),r+"("+l+i+")"}const $C=/\b([a-z-]*)\(.*?\)/gu,D0={...ha,getAnimatableNone:t=>{const r=t.match($C);return r?r.map(UC).join(" "):t}},Zx={...Zn,transform:Math.round},VC={rotate:aa,rotateX:aa,rotateY:aa,rotateZ:aa,scale:ec,scaleX:ec,scaleY:ec,scaleZ:ec,skew:aa,skewX:aa,skewY:aa,distance:Re,translateX:Re,translateY:Re,translateZ:Re,x:Re,y:Re,z:Re,perspective:Re,transformPerspective:Re,opacity:fi,originX:Ux,originY:Ux,originZ:Re},Rh={borderWidth:Re,borderTopWidth:Re,borderRightWidth:Re,borderBottomWidth:Re,borderLeftWidth:Re,borderRadius:Re,radius:Re,borderTopLeftRadius:Re,borderTopRightRadius:Re,borderBottomRightRadius:Re,borderBottomLeftRadius:Re,width:Re,maxWidth:Re,height:Re,maxHeight:Re,top:Re,right:Re,bottom:Re,left:Re,padding:Re,paddingTop:Re,paddingRight:Re,paddingBottom:Re,paddingLeft:Re,margin:Re,marginTop:Re,marginRight:Re,marginBottom:Re,marginLeft:Re,backgroundPositionX:Re,backgroundPositionY:Re,...VC,zIndex:Zx,fillOpacity:fi,strokeOpacity:fi,numOctaves:Zx},zC={...Rh,color:St,backgroundColor:St,outlineColor:St,fill:St,stroke:St,borderColor:St,borderTopColor:St,borderRightColor:St,borderBottomColor:St,borderLeftColor:St,filter:D0,WebkitFilter:D0},I2=t=>zC[t];function _2(t,r){let s=I2(t);return s!==D0&&(s=ha),s.getAnimatableNone?s.getAnimatableNone(r):void 0}const HC=new Set(["auto","none","0"]);function WC(t,r,s){let a=0,i;for(;a<t.length&&!i;){const l=t[a];typeof l=="string"&&!HC.has(l)&&pi(l).values.length&&(i=t[a]),a++}if(i&&s)for(const l of r)t[l]=_2(s,i)}class qC extends Dh{constructor(r,s,a,i,l){super(r,s,a,i,l,!0)}readKeyframes(){const{unresolvedKeyframes:r,element:s,name:a}=this;if(!s||!s.current)return;super.readKeyframes();for(let m=0;m<r.length;m++){let h=r[m];if(typeof h=="string"&&(h=h.trim(),Nh(h))){const p=D2(h,s.current);p!==void 0&&(r[m]=p),m===r.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!M2.has(a)||r.length!==2)return;const[i,l]=r,c=Jx(i),u=Jx(l);if(c!==u)if(Kx(c)&&Kx(u))for(let m=0;m<r.length;m++){const h=r[m];typeof h=="string"&&(r[m]=parseFloat(h))}else Ya[a]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:r,name:s}=this,a=[];for(let i=0;i<r.length;i++)(r[i]===null||FC(r[i]))&&a.push(i);a.length&&WC(r,a,s)}measureInitialState(){const{element:r,unresolvedKeyframes:s,name:a}=this;if(!r||!r.current)return;a==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ya[a](r.measureViewportBox(),window.getComputedStyle(r.current)),s[0]=this.measuredOrigin;const i=s[s.length-1];i!==void 0&&r.getValue(a,i).jump(i,!1)}measureEndState(){var u;const{element:r,name:s,unresolvedKeyframes:a}=this;if(!r||!r.current)return;const i=r.getValue(s);i&&i.jump(this.measuredOrigin,!1);const l=a.length-1,c=a[l];a[l]=Ya[s](r.measureViewportBox(),window.getComputedStyle(r.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([m,h])=>{r.getValue(m).set(h)}),this.resolveNoneKeyframes()}}function YC(t,r,s){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let a=document;const i=(s==null?void 0:s[t])??a.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const O2=(t,r)=>r&&typeof t=="number"?r.transform(t):t;function KC(t){return e2(t)&&"offsetHeight"in t}const ey=30,GC=t=>!isNaN(parseFloat(t));class XC{constructor(r,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=a=>{var l;const i=dr.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(r),this.owner=s.owner}setCurrent(r){this.current=r,this.updatedAt=dr.now(),this.canTrackVelocity===null&&r!==void 0&&(this.canTrackVelocity=GC(this.current))}setPrevFrameValue(r=this.current){this.prevFrameValue=r,this.prevUpdatedAt=this.updatedAt}onChange(r){return this.on("change",r)}on(r,s){this.events[r]||(this.events[r]=new bh);const a=this.events[r].add(s);return r==="change"?()=>{a(),it.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const r in this.events)this.events[r].clear()}attach(r,s){this.passiveEffect=r,this.stopPassiveEffect=s}set(r){this.passiveEffect?this.passiveEffect(r,this.updateAndNotify):this.updateAndNotify(r)}setWithVelocity(r,s,a){this.set(s),this.prev=void 0,this.prevFrameValue=r,this.prevUpdatedAt=this.updatedAt-a}jump(r,s=!0){this.updateAndNotify(r),this.prev=r,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var r;(r=this.events.change)==null||r.notify(this.current)}addDependent(r){this.dependents||(this.dependents=new Set),this.dependents.add(r)}removeDependent(r){this.dependents&&this.dependents.delete(r)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const r=dr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||r-this.updatedAt>ey)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,ey);return r2(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(r){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=r(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var r,s;(r=this.dependents)==null||r.clear(),(s=this.events.destroy)==null||s.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function zn(t,r){return new XC(t,r)}const{schedule:Lh}=h2(queueMicrotask,!1),zr={x:!1,y:!1};function F2(){return zr.x||zr.y}function QC(t){return t==="x"||t==="y"?zr[t]?null:(zr[t]=!0,()=>{zr[t]=!1}):zr.x||zr.y?null:(zr.x=zr.y=!0,()=>{zr.x=zr.y=!1})}function B2(t,r){const s=YC(t),a=new AbortController,i={passive:!0,...r,signal:a.signal};return[s,i,()=>a.abort()]}function ty(t){return!(t.pointerType==="touch"||F2())}function JC(t,r,s={}){const[a,i,l]=B2(t,s),c=u=>{if(!ty(u))return;const{target:m}=u,h=r(m,u);if(typeof h!="function"||!m)return;const p=g=>{ty(g)&&(h(g),m.removeEventListener("pointerleave",p))};m.addEventListener("pointerleave",p,i)};return a.forEach(u=>{u.addEventListener("pointerenter",c,i)}),l}const U2=(t,r)=>r?t===r?!0:U2(t,r.parentElement):!1,Ih=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,ZC=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function e7(t){return ZC.has(t.tagName)||t.tabIndex!==-1}const vc=new WeakSet;function ry(t){return r=>{r.key==="Enter"&&t(r)}}function Nm(t,r){t.dispatchEvent(new PointerEvent("pointer"+r,{isPrimary:!0,bubbles:!0}))}const t7=(t,r)=>{const s=t.currentTarget;if(!s)return;const a=ry(()=>{if(vc.has(s))return;Nm(s,"down");const i=ry(()=>{Nm(s,"up")}),l=()=>Nm(s,"cancel");s.addEventListener("keyup",i,r),s.addEventListener("blur",l,r)});s.addEventListener("keydown",a,r),s.addEventListener("blur",()=>s.removeEventListener("keydown",a),r)};function sy(t){return Ih(t)&&!F2()}function r7(t,r,s={}){const[a,i,l]=B2(t,s),c=u=>{const m=u.currentTarget;if(!sy(u))return;vc.add(m);const h=r(m,u),p=(v,w)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",x),vc.has(m)&&vc.delete(m),sy(v)&&typeof h=="function"&&h(v,{success:w})},g=v=>{p(v,m===window||m===document||s.useGlobalTarget||U2(m,v.target))},x=v=>{p(v,!1)};window.addEventListener("pointerup",g,i),window.addEventListener("pointercancel",x,i)};return a.forEach(u=>{(s.useGlobalTarget?window:u).addEventListener("pointerdown",c,i),KC(u)&&(u.addEventListener("focus",h=>t7(h,i)),!e7(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),l}function $2(t){return e2(t)&&"ownerSVGElement"in t}function s7(t){return $2(t)&&t.tagName==="svg"}const Gt=t=>!!(t&&t.getVelocity),a7=[...L2,St,ha],n7=t=>a7.find(R2(t)),V2=y.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function o7(t=!0){const r=y.useContext(fh);if(r===null)return[!0,null];const{isPresent:s,onExitComplete:a,register:i}=r,l=y.useId();y.useEffect(()=>{if(t)return i(l)},[t]);const c=y.useCallback(()=>t&&a&&a(l),[l,a,t]);return!s&&a?[!1,c]:[!0]}const z2=y.createContext({strict:!1}),ay={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Hn={};for(const t in ay)Hn[t]={isEnabled:r=>ay[t].some(s=>!!r[s])};function i7(t){for(const r in t)Hn[r]={...Hn[r],...t[r]}}const l7=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Oc(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||l7.has(t)}let H2=t=>!Oc(t);function c7(t){typeof t=="function"&&(H2=r=>r.startsWith("on")?!Oc(r):t(r))}try{c7(require("@emotion/is-prop-valid").default)}catch{}function d7(t,r,s){const a={};for(const i in t)i==="values"&&typeof t.values=="object"||(H2(i)||s===!0&&Oc(i)||!r&&!Oc(i)||t.draggable&&i.startsWith("onDrag"))&&(a[i]=t[i]);return a}const rd=y.createContext({});function sd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function gi(t){return typeof t=="string"||Array.isArray(t)}const _h=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Oh=["initial",..._h];function ad(t){return sd(t.animate)||Oh.some(r=>gi(t[r]))}function W2(t){return!!(ad(t)||t.variants)}function u7(t,r){if(ad(t)){const{initial:s,animate:a}=t;return{initial:s===!1||gi(s)?s:void 0,animate:gi(a)?a:void 0}}return t.inherit!==!1?r:{}}function m7(t){const{initial:r,animate:s}=u7(t,y.useContext(rd));return y.useMemo(()=>({initial:r,animate:s}),[ny(r),ny(s)])}function ny(t){return Array.isArray(t)?t.join(" "):t}const xi={};function h7(t){for(const r in t)xi[r]=t[r],jh(r)&&(xi[r].isCSSVariable=!0)}function q2(t,{layout:r,layoutId:s}){return to.has(t)||t.startsWith("origin")||(r||s!==void 0)&&(!!xi[t]||t==="opacity")}const f7={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},p7=eo.length;function g7(t,r,s){let a="",i=!0;for(let l=0;l<p7;l++){const c=eo[l],u=t[c];if(u===void 0)continue;let m=!0;if(typeof u=="number"?m=u===(c.startsWith("scale")?1:0):m=parseFloat(u)===0,!m||s){const h=O2(u,Rh[c]);if(!m){i=!1;const p=f7[c]||c;a+=`${p}(${h}) `}s&&(r[c]=h)}}return a=a.trim(),s?a=s(r,i?"":a):i&&(a="none"),a}function Fh(t,r,s){const{style:a,vars:i,transformOrigin:l}=t;let c=!1,u=!1;for(const m in r){const h=r[m];if(to.has(m)){c=!0;continue}else if(jh(m)){i[m]=h;continue}else{const p=O2(h,Rh[m]);m.startsWith("origin")?(u=!0,l[m]=p):a[m]=p}}if(r.transform||(c||s?a.transform=g7(r,t.transform,s):a.transform&&(a.transform="none")),u){const{originX:m="50%",originY:h="50%",originZ:p=0}=l;a.transformOrigin=`${m} ${h} ${p}`}}const Bh=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Y2(t,r,s){for(const a in r)!Gt(r[a])&&!q2(a,s)&&(t[a]=r[a])}function x7({transformTemplate:t},r){return y.useMemo(()=>{const s=Bh();return Fh(s,r,t),Object.assign({},s.vars,s.style)},[r])}function y7(t,r){const s=t.style||{},a={};return Y2(a,s,t),Object.assign(a,x7(t,r)),a}function b7(t,r){const s={},a=y7(t,r);return t.drag&&t.dragListener!==!1&&(s.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(s.tabIndex=0),s.style=a,s}const v7={offset:"stroke-dashoffset",array:"stroke-dasharray"},w7={offset:"strokeDashoffset",array:"strokeDasharray"};function j7(t,r,s=1,a=0,i=!0){t.pathLength=1;const l=i?v7:w7;t[l.offset]=Re.transform(-a);const c=Re.transform(r),u=Re.transform(s);t[l.array]=`${c} ${u}`}function K2(t,{attrX:r,attrY:s,attrScale:a,pathLength:i,pathSpacing:l=1,pathOffset:c=0,...u},m,h,p){if(Fh(t,u,h),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:x}=t;g.transform&&(x.transform=g.transform,delete g.transform),(x.transform||g.transformOrigin)&&(x.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),x.transform&&(x.transformBox=(p==null?void 0:p.transformBox)??"fill-box",delete g.transformBox),r!==void 0&&(g.x=r),s!==void 0&&(g.y=s),a!==void 0&&(g.scale=a),i!==void 0&&j7(g,i,l,c,!1)}const G2=()=>({...Bh(),attrs:{}}),X2=t=>typeof t=="string"&&t.toLowerCase()==="svg";function N7(t,r,s,a){const i=y.useMemo(()=>{const l=G2();return K2(l,r,X2(a),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[r]);if(t.style){const l={};Y2(l,t.style,t),i.style={...l,...i.style}}return i}const k7=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Uh(t){return typeof t!="string"||t.includes("-")?!1:!!(k7.indexOf(t)>-1||/[A-Z]/u.test(t))}function S7(t,r,s,{latestValues:a},i,l=!1){const u=(Uh(t)?N7:b7)(r,a,i,t),m=d7(r,typeof t=="string",l),h=t!==y.Fragment?{...m,...u,ref:s}:{},{children:p}=r,g=y.useMemo(()=>Gt(p)?p.get():p,[p]);return y.createElement(t,{...h,children:g})}function oy(t){const r=[{},{}];return t==null||t.values.forEach((s,a)=>{r[0][a]=s.get(),r[1][a]=s.getVelocity()}),r}function $h(t,r,s,a){if(typeof r=="function"){const[i,l]=oy(a);r=r(s!==void 0?s:t.custom,i,l)}if(typeof r=="string"&&(r=t.variants&&t.variants[r]),typeof r=="function"){const[i,l]=oy(a);r=r(s!==void 0?s:t.custom,i,l)}return r}function wc(t){return Gt(t)?t.get():t}function C7({scrapeMotionValuesFromProps:t,createRenderState:r},s,a,i){return{latestValues:E7(s,a,i,t),renderState:r()}}function E7(t,r,s,a){const i={},l=a(t,{});for(const x in l)i[x]=wc(l[x]);let{initial:c,animate:u}=t;const m=ad(t),h=W2(t);r&&h&&!m&&t.inherit!==!1&&(c===void 0&&(c=r.initial),u===void 0&&(u=r.animate));let p=s?s.initial===!1:!1;p=p||c===!1;const g=p?u:c;if(g&&typeof g!="boolean"&&!sd(g)){const x=Array.isArray(g)?g:[g];for(let v=0;v<x.length;v++){const w=$h(t,x[v]);if(w){const{transitionEnd:S,transition:k,...E}=w;for(const C in E){let j=E[C];if(Array.isArray(j)){const A=p?j.length-1:0;j=j[A]}j!==null&&(i[C]=j)}for(const C in S)i[C]=S[C]}}}return i}const Q2=t=>(r,s)=>{const a=y.useContext(rd),i=y.useContext(fh),l=()=>C7(t,r,a,i);return s?l():i8(l)};function Vh(t,r,s){var l;const{style:a}=t,i={};for(const c in a)(Gt(a[c])||r.style&&Gt(r.style[c])||q2(c,t)||((l=s==null?void 0:s.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(i[c]=a[c]);return i}const T7=Q2({scrapeMotionValuesFromProps:Vh,createRenderState:Bh});function J2(t,r,s){const a=Vh(t,r,s);for(const i in t)if(Gt(t[i])||Gt(r[i])){const l=eo.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;a[l]=t[i]}return a}const A7=Q2({scrapeMotionValuesFromProps:J2,createRenderState:G2}),P7=Symbol.for("motionComponentSymbol");function Rn(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function D7(t,r,s){return y.useCallback(a=>{a&&t.onMount&&t.onMount(a),r&&(a?r.mount(a):r.unmount()),s&&(typeof s=="function"?s(a):Rn(s)&&(s.current=a))},[r])}const zh=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),M7="framerAppearId",Z2="data-"+zh(M7),e1=y.createContext({});function R7(t,r,s,a,i){var S,k;const{visualElement:l}=y.useContext(rd),c=y.useContext(z2),u=y.useContext(fh),m=y.useContext(V2).reducedMotion,h=y.useRef(null);a=a||c.renderer,!h.current&&a&&(h.current=a(t,{visualState:r,parent:l,props:s,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:m}));const p=h.current,g=y.useContext(e1);p&&!p.projection&&i&&(p.type==="html"||p.type==="svg")&&L7(h.current,s,i,g);const x=y.useRef(!1);y.useInsertionEffect(()=>{p&&x.current&&p.update(s,u)});const v=s[Z2],w=y.useRef(!!v&&!((S=window.MotionHandoffIsComplete)!=null&&S.call(window,v))&&((k=window.MotionHasOptimisedAnimation)==null?void 0:k.call(window,v)));return l8(()=>{p&&(x.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),w.current&&p.animationState&&p.animationState.animateChanges())}),y.useEffect(()=>{p&&(!w.current&&p.animationState&&p.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var E;(E=window.MotionHandoffMarkAsComplete)==null||E.call(window,v)}),w.current=!1),p.enteringChildren=void 0)}),p}function L7(t,r,s,a){const{layoutId:i,layout:l,drag:c,dragConstraints:u,layoutScroll:m,layoutRoot:h,layoutCrossfade:p}=r;t.projection=new s(t.latestValues,r["data-framer-portal-id"]?void 0:t1(t.parent)),t.projection.setOptions({layoutId:i,layout:l,alwaysMeasureLayout:!!c||u&&Rn(u),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:a,crossfade:p,layoutScroll:m,layoutRoot:h})}function t1(t){if(t)return t.options.allowProjection!==!1?t.projection:t1(t.parent)}function km(t,{forwardMotionProps:r=!1}={},s,a){s&&i7(s);const i=Uh(t)?A7:T7;function l(u,m){let h;const p={...y.useContext(V2),...u,layoutId:I7(u)},{isStatic:g}=p,x=m7(u),v=i(u,g);if(!g&&hh){_7();const w=O7(p);h=w.MeasureLayout,x.visualElement=R7(t,v,p,a,w.ProjectionNode)}return e.jsxs(rd.Provider,{value:x,children:[h&&x.visualElement?e.jsx(h,{visualElement:x.visualElement,...p}):null,S7(t,u,D7(v,x.visualElement,m),v,g,r)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=y.forwardRef(l);return c[P7]=t,c}function I7({layoutId:t}){const r=y.useContext(Jv).id;return r&&t!==void 0?r+"-"+t:t}function _7(t,r){y.useContext(z2).strict}function O7(t){const{drag:r,layout:s}=Hn;if(!r&&!s)return{};const a={...r,...s};return{MeasureLayout:r!=null&&r.isEnabled(t)||s!=null&&s.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function F7(t,r){if(typeof Proxy>"u")return km;const s=new Map,a=(l,c)=>km(l,c,t,r),i=(l,c)=>a(l,c);return new Proxy(i,{get:(l,c)=>c==="create"?a:(s.has(c)||s.set(c,km(c,void 0,t,r)),s.get(c))})}function r1({top:t,left:r,right:s,bottom:a}){return{x:{min:r,max:s},y:{min:t,max:a}}}function B7({x:t,y:r}){return{top:r.min,right:t.max,bottom:r.max,left:t.min}}function U7(t,r){if(!r)return t;const s=r({x:t.left,y:t.top}),a=r({x:t.right,y:t.bottom});return{top:s.y,left:s.x,bottom:a.y,right:a.x}}function Sm(t){return t===void 0||t===1}function M0({scale:t,scaleX:r,scaleY:s}){return!Sm(t)||!Sm(r)||!Sm(s)}function _a(t){return M0(t)||s1(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function s1(t){return iy(t.x)||iy(t.y)}function iy(t){return t&&t!=="0%"}function Fc(t,r,s){const a=t-s,i=r*a;return s+i}function ly(t,r,s,a,i){return i!==void 0&&(t=Fc(t,i,a)),Fc(t,s,a)+r}function R0(t,r=0,s=1,a,i){t.min=ly(t.min,r,s,a,i),t.max=ly(t.max,r,s,a,i)}function a1(t,{x:r,y:s}){R0(t.x,r.translate,r.scale,r.originPoint),R0(t.y,s.translate,s.scale,s.originPoint)}const cy=.999999999999,dy=1.0000000000001;function $7(t,r,s,a=!1){const i=s.length;if(!i)return;r.x=r.y=1;let l,c;for(let u=0;u<i;u++){l=s[u],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(a&&l.options.layoutScroll&&l.scroll&&l!==l.root&&In(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(r.x*=c.x.scale,r.y*=c.y.scale,a1(t,c)),a&&_a(l.latestValues)&&In(t,l.latestValues))}r.x<dy&&r.x>cy&&(r.x=1),r.y<dy&&r.y>cy&&(r.y=1)}function Ln(t,r){t.min=t.min+r,t.max=t.max+r}function uy(t,r,s,a,i=.5){const l=ft(t.min,t.max,i);R0(t,r,s,l,a)}function In(t,r){uy(t.x,r.x,r.scaleX,r.scale,r.originX),uy(t.y,r.y,r.scaleY,r.scale,r.originY)}function n1(t,r){return r1(U7(t.getBoundingClientRect(),r))}function V7(t,r,s){const a=n1(t,s),{scroll:i}=r;return i&&(Ln(a.x,i.offset.x),Ln(a.y,i.offset.y)),a}const my=()=>({translate:0,scale:1,origin:0,originPoint:0}),_n=()=>({x:my(),y:my()}),hy=()=>({min:0,max:0}),bt=()=>({x:hy(),y:hy()}),L0={current:null},o1={current:!1};function z7(){if(o1.current=!0,!!hh)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),r=()=>L0.current=t.matches;t.addEventListener("change",r),r()}else L0.current=!1}const H7=new WeakMap;function W7(t,r,s){for(const a in r){const i=r[a],l=s[a];if(Gt(i))t.addValue(a,i);else if(Gt(l))t.addValue(a,zn(i,{owner:t}));else if(l!==i)if(t.hasValue(a)){const c=t.getValue(a);c.liveStyle===!0?c.jump(i):c.hasAnimated||c.set(i)}else{const c=t.getStaticValue(a);t.addValue(a,zn(c!==void 0?c:i,{owner:t}))}}for(const a in s)r[a]===void 0&&t.removeValue(a);return r}const fy=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class q7{scrapeMotionValuesFromProps(r,s,a){return{}}constructor({parent:r,props:s,presenceContext:a,reducedMotionConfig:i,blockInitialAnimation:l,visualState:c},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Dh,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=dr.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,it.render(this.render,!1,!0))};const{latestValues:m,renderState:h}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=s.initial?{...m}:{},this.renderState=h,this.parent=r,this.props=s,this.presenceContext=a,this.depth=r?r.depth+1:0,this.reducedMotionConfig=i,this.options=u,this.blockInitialAnimation=!!l,this.isControllingVariants=ad(s),this.isVariantNode=W2(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(r&&r.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(s,{},this);for(const x in g){const v=g[x];m[x]!==void 0&&Gt(v)&&v.set(m[x])}}mount(r){var s;this.current=r,H7.set(r,this),this.projection&&!this.projection.instance&&this.projection.mount(r),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((a,i)=>this.bindToMotionValue(i,a)),o1.current||z7(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:L0.current,(s=this.parent)==null||s.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var r;this.projection&&this.projection.unmount(),ma(this.notifyUpdate),ma(this.render),this.valueSubscriptions.forEach(s=>s()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(r=this.parent)==null||r.removeChild(this);for(const s in this.events)this.events[s].clear();for(const s in this.features){const a=this.features[s];a&&(a.unmount(),a.isMounted=!1)}this.current=null}addChild(r){this.children.add(r),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(r)}removeChild(r){this.children.delete(r),this.enteringChildren&&this.enteringChildren.delete(r)}bindToMotionValue(r,s){this.valueSubscriptions.has(r)&&this.valueSubscriptions.get(r)();const a=to.has(r);a&&this.onBindTransform&&this.onBindTransform();const i=s.on("change",c=>{this.latestValues[r]=c,this.props.onUpdate&&it.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,r,s)),this.valueSubscriptions.set(r,()=>{i(),l&&l(),s.owner&&s.stop()})}sortNodePosition(r){return!this.current||!this.sortInstanceNodePosition||this.type!==r.type?0:this.sortInstanceNodePosition(this.current,r.current)}updateFeatures(){let r="animation";for(r in Hn){const s=Hn[r];if(!s)continue;const{isEnabled:a,Feature:i}=s;if(!this.features[r]&&i&&a(this.props)&&(this.features[r]=new i(this)),this.features[r]){const l=this.features[r];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):bt()}getStaticValue(r){return this.latestValues[r]}setStaticValue(r,s){this.latestValues[r]=s}update(r,s){(r.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=r,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let a=0;a<fy.length;a++){const i=fy[a];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const l="on"+i,c=r[l];c&&(this.propEventSubscriptions[i]=this.on(i,c))}this.prevMotionValues=W7(this,this.scrapeMotionValuesFromProps(r,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(r){return this.props.variants?this.props.variants[r]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(r){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(r),()=>s.variantChildren.delete(r)}addValue(r,s){const a=this.values.get(r);s!==a&&(a&&this.removeValue(r),this.bindToMotionValue(r,s),this.values.set(r,s),this.latestValues[r]=s.get())}removeValue(r){this.values.delete(r);const s=this.valueSubscriptions.get(r);s&&(s(),this.valueSubscriptions.delete(r)),delete this.latestValues[r],this.removeValueFromRenderState(r,this.renderState)}hasValue(r){return this.values.has(r)}getValue(r,s){if(this.props.values&&this.props.values[r])return this.props.values[r];let a=this.values.get(r);return a===void 0&&s!==void 0&&(a=zn(s===null?void 0:s,{owner:this}),this.addValue(r,a)),a}readValue(r,s){let a=this.latestValues[r]!==void 0||!this.current?this.latestValues[r]:this.getBaseTargetFromProps(this.props,r)??this.readValueFromInstance(this.current,r,this.options);return a!=null&&(typeof a=="string"&&(Zv(a)||t2(a))?a=parseFloat(a):!n7(a)&&ha.test(s)&&(a=_2(r,s)),this.setBaseTarget(r,Gt(a)?a.get():a)),Gt(a)?a.get():a}setBaseTarget(r,s){this.baseTarget[r]=s}getBaseTarget(r){var l;const{initial:s}=this.props;let a;if(typeof s=="string"||typeof s=="object"){const c=$h(this.props,s,(l=this.presenceContext)==null?void 0:l.custom);c&&(a=c[r])}if(s&&a!==void 0)return a;const i=this.getBaseTargetFromProps(this.props,r);return i!==void 0&&!Gt(i)?i:this.initialValues[r]!==void 0&&a===void 0?void 0:this.baseTarget[r]}on(r,s){return this.events[r]||(this.events[r]=new bh),this.events[r].add(s)}notify(r,...s){this.events[r]&&this.events[r].notify(...s)}scheduleRenderMicrotask(){Lh.render(this.render)}}class i1 extends q7{constructor(){super(...arguments),this.KeyframeResolver=qC}sortInstanceNodePosition(r,s){return r.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(r,s){return r.style?r.style[s]:void 0}removeValueFromRenderState(r,{vars:s,style:a}){delete s[r],delete a[r]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:r}=this.props;Gt(r)&&(this.childSubscription=r.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function l1(t,{style:r,vars:s},a,i){const l=t.style;let c;for(c in r)l[c]=r[c];i==null||i.applyProjectionStyles(l,a);for(c in s)l.setProperty(c,s[c])}function Y7(t){return window.getComputedStyle(t)}class K7 extends i1{constructor(){super(...arguments),this.type="html",this.renderInstance=l1}readValueFromInstance(r,s){var a;if(to.has(s))return(a=this.projection)!=null&&a.isProjecting?S0(s):uC(r,s);{const i=Y7(r),l=(jh(s)?i.getPropertyValue(s):i[s])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(r,{transformPagePoint:s}){return n1(r,s)}build(r,s,a){Fh(r,s,a.transformTemplate)}scrapeMotionValuesFromProps(r,s,a){return Vh(r,s,a)}}const c1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function G7(t,r,s,a){l1(t,r,void 0,a);for(const i in r.attrs)t.setAttribute(c1.has(i)?i:zh(i),r.attrs[i])}class X7 extends i1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=bt}getBaseTargetFromProps(r,s){return r[s]}readValueFromInstance(r,s){if(to.has(s)){const a=I2(s);return a&&a.default||0}return s=c1.has(s)?s:zh(s),r.getAttribute(s)}scrapeMotionValuesFromProps(r,s,a){return J2(r,s,a)}build(r,s,a){K2(r,s,this.isSVGTag,a.transformTemplate,a.style)}renderInstance(r,s,a,i){G7(r,s,a,i)}mount(r){this.isSVGTag=X2(r.tagName),super.mount(r)}}const Q7=(t,r)=>Uh(t)?new X7(r):new K7(r,{allowProjection:t!==y.Fragment});function Bn(t,r,s){const a=t.getProps();return $h(a,r,s!==void 0?s:a.custom,t)}const I0=t=>Array.isArray(t);function J7(t,r,s){t.hasValue(r)?t.getValue(r).set(s):t.addValue(r,zn(s))}function Z7(t){return I0(t)?t[t.length-1]||0:t}function eE(t,r){const s=Bn(t,r);let{transitionEnd:a={},transition:i={},...l}=s||{};l={...l,...a};for(const c in l){const u=Z7(l[c]);J7(t,c,u)}}function tE(t){return!!(Gt(t)&&t.add)}function _0(t,r){const s=t.getValue("willChange");if(tE(s))return s.add(r);if(!s&&Ms.WillChange){const a=new Ms.WillChange("auto");t.addValue("willChange",a),a.add(r)}}function d1(t){return t.props[Z2]}const rE=t=>t!==null;function sE(t,{repeat:r,repeatType:s="loop"},a){const i=t.filter(rE),l=r&&s!=="loop"&&r%2===1?0:i.length-1;return i[l]}const aE={type:"spring",stiffness:500,damping:25,restSpeed:10},nE=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),oE={type:"keyframes",duration:.8},iE={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},lE=(t,{keyframes:r})=>r.length>2?oE:to.has(t)?t.startsWith("scale")?nE(r[1]):aE:iE;function cE({when:t,delay:r,delayChildren:s,staggerChildren:a,staggerDirection:i,repeat:l,repeatType:c,repeatDelay:u,from:m,elapsed:h,...p}){return!!Object.keys(p).length}const Hh=(t,r,s,a={},i,l)=>c=>{const u=Mh(a,t)||{},m=u.delay||a.delay||0;let{elapsed:h=0}=a;h=h-os(m);const p={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:r.getVelocity(),...u,delay:-h,onUpdate:x=>{r.set(x),u.onUpdate&&u.onUpdate(x)},onComplete:()=>{c(),u.onComplete&&u.onComplete()},name:t,motionValue:r,element:l?void 0:i};cE(u)||Object.assign(p,lE(t,p)),p.duration&&(p.duration=os(p.duration)),p.repeatDelay&&(p.repeatDelay=os(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let g=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(P0(p),p.delay===0&&(g=!0)),(Ms.instantAnimations||Ms.skipAnimations)&&(g=!0,P0(p),p.delay=0),p.allowFlatten=!u.type&&!u.ease,g&&!l&&r.get()!==void 0){const x=sE(p.keyframes,u);if(x!==void 0){it.update(()=>{p.onUpdate(x),p.onComplete()});return}}return u.isSync?new Ph(p):new LC(p)};function dE({protectedKeys:t,needsAnimating:r},s){const a=t.hasOwnProperty(s)&&r[s]!==!0;return r[s]=!1,a}function u1(t,r,{delay:s=0,transitionOverride:a,type:i}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...u}=r;a&&(l=a);const m=[],h=i&&t.animationState&&t.animationState.getState()[i];for(const p in u){const g=t.getValue(p,t.latestValues[p]??null),x=u[p];if(x===void 0||h&&dE(h,p))continue;const v={delay:s,...Mh(l||{},p)},w=g.get();if(w!==void 0&&!g.isAnimating&&!Array.isArray(x)&&x===w&&!v.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const E=d1(t);if(E){const C=window.MotionHandoffAnimation(E,p,it);C!==null&&(v.startTime=C,S=!0)}}_0(t,p),g.start(Hh(p,g,x,t.shouldReduceMotion&&M2.has(p)?{type:!1}:v,t,S));const k=g.animation;k&&m.push(k)}return c&&Promise.all(m).then(()=>{it.update(()=>{c&&eE(t,c)})}),m}function m1(t,r,s,a=0,i=1){const l=Array.from(t).sort((h,p)=>h.sortNodePosition(p)).indexOf(r),c=t.size,u=(c-1)*a;return typeof s=="function"?s(l,c):i===1?l*a:u-l*a}function O0(t,r,s={}){var m;const a=Bn(t,r,s.type==="exit"?(m=t.presenceContext)==null?void 0:m.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=a||{};s.transitionOverride&&(i=s.transitionOverride);const l=a?()=>Promise.all(u1(t,a,s)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:x}=i;return uE(t,r,h,p,g,x,s)}:()=>Promise.resolve(),{when:u}=i;if(u){const[h,p]=u==="beforeChildren"?[l,c]:[c,l];return h().then(()=>p())}else return Promise.all([l(),c(s.delay)])}function uE(t,r,s=0,a=0,i=0,l=1,c){const u=[];for(const m of t.variantChildren)m.notify("AnimationStart",r),u.push(O0(m,r,{...c,delay:s+(typeof a=="function"?0:a)+m1(t.variantChildren,m,a,i,l)}).then(()=>m.notify("AnimationComplete",r)));return Promise.all(u)}function mE(t,r,s={}){t.notify("AnimationStart",r);let a;if(Array.isArray(r)){const i=r.map(l=>O0(t,l,s));a=Promise.all(i)}else if(typeof r=="string")a=O0(t,r,s);else{const i=typeof r=="function"?Bn(t,r,s.custom):r;a=Promise.all(u1(t,i,s))}return a.then(()=>{t.notify("AnimationComplete",r)})}function h1(t,r){if(!Array.isArray(r))return!1;const s=r.length;if(s!==t.length)return!1;for(let a=0;a<s;a++)if(r[a]!==t[a])return!1;return!0}const hE=Oh.length;function f1(t){if(!t)return;if(!t.isControllingVariants){const s=t.parent?f1(t.parent)||{}:{};return t.props.initial!==void 0&&(s.initial=t.props.initial),s}const r={};for(let s=0;s<hE;s++){const a=Oh[s],i=t.props[a];(gi(i)||i===!1)&&(r[a]=i)}return r}const fE=[..._h].reverse(),pE=_h.length;function gE(t){return r=>Promise.all(r.map(({animation:s,options:a})=>mE(t,s,a)))}function xE(t){let r=gE(t),s=py(),a=!0;const i=m=>(h,p)=>{var x;const g=Bn(t,p,m==="exit"?(x=t.presenceContext)==null?void 0:x.custom:void 0);if(g){const{transition:v,transitionEnd:w,...S}=g;h={...h,...S,...w}}return h};function l(m){r=m(t)}function c(m){const{props:h}=t,p=f1(t.parent)||{},g=[],x=new Set;let v={},w=1/0;for(let k=0;k<pE;k++){const E=fE[k],C=s[E],j=h[E]!==void 0?h[E]:p[E],A=gi(j),P=E===m?C.isActive:null;P===!1&&(w=k);let F=j===p[E]&&j!==h[E]&&A;if(F&&a&&t.manuallyAnimateOnMount&&(F=!1),C.protectedKeys={...v},!C.isActive&&P===null||!j&&!C.prevProp||sd(j)||typeof j=="boolean")continue;const T=yE(C.prevProp,j);let L=T||E===m&&C.isActive&&!F&&A||k>w&&A,z=!1;const q=Array.isArray(j)?j:[j];let O=q.reduce(i(E),{});P===!1&&(O={});const{prevResolvedValues:B={}}=C,U={...B,...O},R=H=>{L=!0,x.has(H)&&(z=!0,x.delete(H)),C.needsAnimating[H]=!0;const K=t.getValue(H);K&&(K.liveStyle=!1)};for(const H in U){const K=O[H],I=B[H];if(v.hasOwnProperty(H))continue;let G=!1;I0(K)&&I0(I)?G=!h1(K,I):G=K!==I,G?K!=null?R(H):x.add(H):K!==void 0&&x.has(H)?R(H):C.protectedKeys[H]=!0}C.prevProp=j,C.prevResolvedValues=O,C.isActive&&(v={...v,...O}),a&&t.blockInitialAnimation&&(L=!1);const ee=F&&T;L&&(!ee||z)&&g.push(...q.map(H=>{const K={type:E};if(typeof H=="string"&&a&&!ee&&t.manuallyAnimateOnMount&&t.parent){const{parent:I}=t,G=Bn(I,H);if(I.enteringChildren&&G){const{delayChildren:_}=G.transition||{};K.delay=m1(I.enteringChildren,t,_)}}return{animation:H,options:K}}))}if(x.size){const k={};if(typeof h.initial!="boolean"){const E=Bn(t,Array.isArray(h.initial)?h.initial[0]:h.initial);E&&E.transition&&(k.transition=E.transition)}x.forEach(E=>{const C=t.getBaseTarget(E),j=t.getValue(E);j&&(j.liveStyle=!0),k[E]=C??null}),g.push({animation:k})}let S=!!g.length;return a&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(S=!1),a=!1,S?r(g):Promise.resolve()}function u(m,h){var g;if(s[m].isActive===h)return Promise.resolve();(g=t.variantChildren)==null||g.forEach(x=>{var v;return(v=x.animationState)==null?void 0:v.setActive(m,h)}),s[m].isActive=h;const p=c(m);for(const x in s)s[x].protectedKeys={};return p}return{animateChanges:c,setActive:u,setAnimateFunction:l,getState:()=>s,reset:()=>{s=py()}}}function yE(t,r){return typeof r=="string"?r!==t:Array.isArray(r)?!h1(r,t):!1}function Ia(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function py(){return{animate:Ia(!0),whileInView:Ia(),whileHover:Ia(),whileTap:Ia(),whileDrag:Ia(),whileFocus:Ia(),exit:Ia()}}class ba{constructor(r){this.isMounted=!1,this.node=r}update(){}}class bE extends ba{constructor(r){super(r),r.animationState||(r.animationState=xE(r))}updateAnimationControlsSubscription(){const{animate:r}=this.node.getProps();sd(r)&&(this.unmountControls=r.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:r}=this.node.getProps(),{animate:s}=this.node.prevProps||{};r!==s&&this.updateAnimationControlsSubscription()}unmount(){var r;this.node.animationState.reset(),(r=this.unmountControls)==null||r.call(this)}}let vE=0;class wE extends ba{constructor(){super(...arguments),this.id=vE++}update(){if(!this.node.presenceContext)return;const{isPresent:r,onExitComplete:s}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||r===a)return;const i=this.node.animationState.setActive("exit",!r);s&&!r&&i.then(()=>{s(this.id)})}mount(){const{register:r,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),r&&(this.unmount=r(this.id))}unmount(){}}const jE={animation:{Feature:bE},exit:{Feature:wE}};function yi(t,r,s,a={passive:!0}){return t.addEventListener(r,s,a),()=>t.removeEventListener(r,s)}function Pi(t){return{point:{x:t.pageX,y:t.pageY}}}const NE=t=>r=>Ih(r)&&t(r,Pi(r));function ri(t,r,s,a){return yi(t,r,NE(s),a)}const p1=1e-4,kE=1-p1,SE=1+p1,g1=.01,CE=0-g1,EE=0+g1;function er(t){return t.max-t.min}function TE(t,r,s){return Math.abs(t-r)<=s}function gy(t,r,s,a=.5){t.origin=a,t.originPoint=ft(r.min,r.max,t.origin),t.scale=er(s)/er(r),t.translate=ft(s.min,s.max,t.origin)-t.originPoint,(t.scale>=kE&&t.scale<=SE||isNaN(t.scale))&&(t.scale=1),(t.translate>=CE&&t.translate<=EE||isNaN(t.translate))&&(t.translate=0)}function si(t,r,s,a){gy(t.x,r.x,s.x,a?a.originX:void 0),gy(t.y,r.y,s.y,a?a.originY:void 0)}function xy(t,r,s){t.min=s.min+r.min,t.max=t.min+er(r)}function AE(t,r,s){xy(t.x,r.x,s.x),xy(t.y,r.y,s.y)}function yy(t,r,s){t.min=r.min-s.min,t.max=t.min+er(r)}function ai(t,r,s){yy(t.x,r.x,s.x),yy(t.y,r.y,s.y)}function Cr(t){return[t("x"),t("y")]}const x1=({current:t})=>t?t.ownerDocument.defaultView:null,by=(t,r)=>Math.abs(t-r);function PE(t,r){const s=by(t.x,r.x),a=by(t.y,r.y);return Math.sqrt(s**2+a**2)}class y1{constructor(r,s,{transformPagePoint:a,contextWindow:i=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Em(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,w=PE(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!w)return;const{point:S}=x,{timestamp:k}=Ut;this.history.push({...S,timestamp:k});const{onStart:E,onMove:C}=this.handlers;v||(E&&E(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,x)},this.handlePointerMove=(x,v)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=Cm(v,this.transformPagePoint),it.update(this.updatePoint,!0)},this.handlePointerUp=(x,v)=>{this.end();const{onEnd:w,onSessionEnd:S,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=Em(x.type==="pointercancel"?this.lastMoveEventInfo:Cm(v,this.transformPagePoint),this.history);this.startEvent&&w&&w(x,E),S&&S(x,E)},!Ih(r))return;this.dragSnapToOrigin=l,this.handlers=s,this.transformPagePoint=a,this.distanceThreshold=c,this.contextWindow=i||window;const u=Pi(r),m=Cm(u,this.transformPagePoint),{point:h}=m,{timestamp:p}=Ut;this.history=[{...h,timestamp:p}];const{onSessionStart:g}=s;g&&g(r,Em(m,this.history)),this.removeListeners=Ei(ri(this.contextWindow,"pointermove",this.handlePointerMove),ri(this.contextWindow,"pointerup",this.handlePointerUp),ri(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(r){this.handlers=r}end(){this.removeListeners&&this.removeListeners(),ma(this.updatePoint)}}function Cm(t,r){return r?{point:r(t.point)}:t}function vy(t,r){return{x:t.x-r.x,y:t.y-r.y}}function Em({point:t},r){return{point:t,delta:vy(t,b1(r)),offset:vy(t,DE(r)),velocity:ME(r,.1)}}function DE(t){return t[0]}function b1(t){return t[t.length-1]}function ME(t,r){if(t.length<2)return{x:0,y:0};let s=t.length-1,a=null;const i=b1(t);for(;s>=0&&(a=t[s],!(i.timestamp-a.timestamp>os(r)));)s--;if(!a)return{x:0,y:0};const l=Ar(i.timestamp-a.timestamp);if(l===0)return{x:0,y:0};const c={x:(i.x-a.x)/l,y:(i.y-a.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function RE(t,{min:r,max:s},a){return r!==void 0&&t<r?t=a?ft(r,t,a.min):Math.max(t,r):s!==void 0&&t>s&&(t=a?ft(s,t,a.max):Math.min(t,s)),t}function wy(t,r,s){return{min:r!==void 0?t.min+r:void 0,max:s!==void 0?t.max+s-(t.max-t.min):void 0}}function LE(t,{top:r,left:s,bottom:a,right:i}){return{x:wy(t.x,s,i),y:wy(t.y,r,a)}}function jy(t,r){let s=r.min-t.min,a=r.max-t.max;return r.max-r.min<t.max-t.min&&([s,a]=[a,s]),{min:s,max:a}}function IE(t,r){return{x:jy(t.x,r.x),y:jy(t.y,r.y)}}function _E(t,r){let s=.5;const a=er(t),i=er(r);return i>a?s=hi(r.min,r.max-a,t.min):a>i&&(s=hi(t.min,t.max-i,r.min)),Ds(0,1,s)}function OE(t,r){const s={};return r.min!==void 0&&(s.min=r.min-t.min),r.max!==void 0&&(s.max=r.max-t.min),s}const F0=.35;function FE(t=F0){return t===!1?t=0:t===!0&&(t=F0),{x:Ny(t,"left","right"),y:Ny(t,"top","bottom")}}function Ny(t,r,s){return{min:ky(t,r),max:ky(t,s)}}function ky(t,r){return typeof t=="number"?t:t[r]||0}const BE=new WeakMap;class UE{constructor(r){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=bt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=r}start(r,{snapToCursor:s=!1,distanceThreshold:a}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const l=g=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Pi(g).point)},c=(g,x)=>{const{drag:v,dragPropagation:w,onDragStart:S}=this.getProps();if(v&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=QC(v),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Cr(E=>{let C=this.getAxisMotionValue(E).get()||0;if(is.test(C)){const{projection:j}=this.visualElement;if(j&&j.layout){const A=j.layout.layoutBox[E];A&&(C=er(A)*(parseFloat(C)/100))}}this.originPoint[E]=C}),S&&it.postRender(()=>S(g,x)),_0(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},u=(g,x)=>{this.latestPointerEvent=g,this.latestPanInfo=x;const{dragPropagation:v,dragDirectionLock:w,onDirectionLock:S,onDrag:k}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:E}=x;if(w&&this.currentDirection===null){this.currentDirection=$E(E),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",x.point,E),this.updateAxis("y",x.point,E),this.visualElement.render(),k&&k(g,x)},m=(g,x)=>{this.latestPointerEvent=g,this.latestPanInfo=x,this.stop(g,x),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>Cr(g=>{var x;return this.getAnimationState(g)==="paused"&&((x=this.getAxisMotionValue(g).animation)==null?void 0:x.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new y1(r,{onSessionStart:l,onStart:c,onMove:u,onSessionEnd:m,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:a,contextWindow:x1(this.visualElement)})}stop(r,s){const a=r||this.latestPointerEvent,i=s||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!i||!a)return;const{velocity:c}=i;this.startAnimation(c);const{onDragEnd:u}=this.getProps();u&&it.postRender(()=>u(a,i))}cancel(){this.isDragging=!1;const{projection:r,animationState:s}=this.visualElement;r&&(r.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(r,s,a){const{drag:i}=this.getProps();if(!a||!tc(r,i,this.currentDirection))return;const l=this.getAxisMotionValue(r);let c=this.originPoint[r]+a[r];this.constraints&&this.constraints[r]&&(c=RE(c,this.constraints[r],this.elastic[r])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:r,dragElastic:s}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,i=this.constraints;r&&Rn(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&a?this.constraints=LE(a.layoutBox,r):this.constraints=!1,this.elastic=FE(s),i!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Cr(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=OE(a.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:r,onMeasureDragConstraints:s}=this.getProps();if(!r||!Rn(r))return!1;const a=r.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const l=V7(a,i.root,this.visualElement.getTransformPagePoint());let c=IE(i.layout.layoutBox,l);if(s){const u=s(B7(c));this.hasMutatedConstraints=!!u,u&&(c=r1(u))}return c}startAnimation(r){const{drag:s,dragMomentum:a,dragElastic:i,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:u}=this.getProps(),m=this.constraints||{},h=Cr(p=>{if(!tc(p,s,this.currentDirection))return;let g=m&&m[p]||{};c&&(g={min:0,max:0});const x=i?200:1e6,v=i?40:1e7,w={type:"inertia",velocity:a?r[p]:0,bounceStiffness:x,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...l,...g};return this.startAxisValueAnimation(p,w)});return Promise.all(h).then(u)}startAxisValueAnimation(r,s){const a=this.getAxisMotionValue(r);return _0(this.visualElement,r),a.start(Hh(r,a,0,s,this.visualElement,!1))}stopAnimation(){Cr(r=>this.getAxisMotionValue(r).stop())}pauseAnimation(){Cr(r=>{var s;return(s=this.getAxisMotionValue(r).animation)==null?void 0:s.pause()})}getAnimationState(r){var s;return(s=this.getAxisMotionValue(r).animation)==null?void 0:s.state}getAxisMotionValue(r){const s=`_drag${r.toUpperCase()}`,a=this.visualElement.getProps(),i=a[s];return i||this.visualElement.getValue(r,(a.initial?a.initial[r]:void 0)||0)}snapToCursor(r){Cr(s=>{const{drag:a}=this.getProps();if(!tc(s,a,this.currentDirection))return;const{projection:i}=this.visualElement,l=this.getAxisMotionValue(s);if(i&&i.layout){const{min:c,max:u}=i.layout.layoutBox[s];l.set(r[s]-ft(c,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:r,dragConstraints:s}=this.getProps(),{projection:a}=this.visualElement;if(!Rn(s)||!a||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Cr(c=>{const u=this.getAxisMotionValue(c);if(u&&this.constraints!==!1){const m=u.get();i[c]=_E({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),Cr(c=>{if(!tc(c,r,null))return;const u=this.getAxisMotionValue(c),{min:m,max:h}=this.constraints[c];u.set(ft(m,h,i[c]))})}addListeners(){if(!this.visualElement.current)return;BE.set(this.visualElement,this);const r=this.visualElement.current,s=ri(r,"pointerdown",m=>{const{drag:h,dragListener:p=!0}=this.getProps();h&&p&&this.start(m)}),a=()=>{const{dragConstraints:m}=this.getProps();Rn(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,l=i.addEventListener("measure",a);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),it.read(a);const c=yi(window,"resize",()=>this.scalePositionWithinConstraints()),u=i.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:h})=>{this.isDragging&&h&&(Cr(p=>{const g=this.getAxisMotionValue(p);g&&(this.originPoint[p]+=m[p].translate,g.set(g.get()+m[p].translate))}),this.visualElement.render())}));return()=>{c(),s(),l(),u&&u()}}getProps(){const r=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:a=!1,dragPropagation:i=!1,dragConstraints:l=!1,dragElastic:c=F0,dragMomentum:u=!0}=r;return{...r,drag:s,dragDirectionLock:a,dragPropagation:i,dragConstraints:l,dragElastic:c,dragMomentum:u}}}function tc(t,r,s){return(r===!0||r===t)&&(s===null||s===t)}function $E(t,r=10){let s=null;return Math.abs(t.y)>r?s="y":Math.abs(t.x)>r&&(s="x"),s}class VE extends ba{constructor(r){super(r),this.removeGroupControls=Mr,this.removeListeners=Mr,this.controls=new UE(r)}mount(){const{dragControls:r}=this.node.getProps();r&&(this.removeGroupControls=r.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Mr}unmount(){this.removeGroupControls(),this.removeListeners()}}const Sy=t=>(r,s)=>{t&&it.postRender(()=>t(r,s))};class zE extends ba{constructor(){super(...arguments),this.removePointerDownListener=Mr}onPointerDown(r){this.session=new y1(r,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:x1(this.node)})}createPanHandlers(){const{onPanSessionStart:r,onPanStart:s,onPan:a,onPanEnd:i}=this.node.getProps();return{onSessionStart:Sy(r),onStart:Sy(s),onMove:a,onEnd:(l,c)=>{delete this.session,i&&it.postRender(()=>i(l,c))}}}mount(){this.removePointerDownListener=ri(this.node.current,"pointerdown",r=>this.onPointerDown(r))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const jc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Cy(t,r){return r.max===r.min?0:t/(r.max-r.min)*100}const qo={correct:(t,r)=>{if(!r.target)return t;if(typeof t=="string")if(Re.test(t))t=parseFloat(t);else return t;const s=Cy(t,r.target.x),a=Cy(t,r.target.y);return`${s}% ${a}%`}},HE={correct:(t,{treeScale:r,projectionDelta:s})=>{const a=t,i=ha.parse(t);if(i.length>5)return a;const l=ha.createTransformer(t),c=typeof i[0]!="number"?1:0,u=s.x.scale*r.x,m=s.y.scale*r.y;i[0+c]/=u,i[1+c]/=m;const h=ft(u,m,.5);return typeof i[2+c]=="number"&&(i[2+c]/=h),typeof i[3+c]=="number"&&(i[3+c]/=h),l(i)}};let Tm=!1;class WE extends y.Component{componentDidMount(){const{visualElement:r,layoutGroup:s,switchLayoutGroup:a,layoutId:i}=this.props,{projection:l}=r;h7(qE),l&&(s.group&&s.group.add(l),a&&a.register&&i&&a.register(l),Tm&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),jc.hasEverUpdated=!0}getSnapshotBeforeUpdate(r){const{layoutDependency:s,visualElement:a,drag:i,isPresent:l}=this.props,{projection:c}=a;return c&&(c.isPresent=l,Tm=!0,i||r.layoutDependency!==s||s===void 0||r.isPresent!==l?c.willUpdate():this.safeToRemove(),r.isPresent!==l&&(l?c.promote():c.relegate()||it.postRender(()=>{const u=c.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:r}=this.props.visualElement;r&&(r.root.didUpdate(),Lh.postRender(()=>{!r.currentAnimation&&r.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:r,layoutGroup:s,switchLayoutGroup:a}=this.props,{projection:i}=r;Tm=!0,i&&(i.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(i),a&&a.deregister&&a.deregister(i))}safeToRemove(){const{safeToRemove:r}=this.props;r&&r()}render(){return null}}function v1(t){const[r,s]=o7(),a=y.useContext(Jv);return e.jsx(WE,{...t,layoutGroup:a,switchLayoutGroup:y.useContext(e1),isPresent:r,safeToRemove:s})}const qE={borderRadius:{...qo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:qo,borderTopRightRadius:qo,borderBottomLeftRadius:qo,borderBottomRightRadius:qo,boxShadow:HE};function YE(t,r,s){const a=Gt(t)?t:zn(t);return a.start(Hh("",a,r,s)),a.animation}const KE=(t,r)=>t.depth-r.depth;class GE{constructor(){this.children=[],this.isDirty=!1}add(r){ph(this.children,r),this.isDirty=!0}remove(r){gh(this.children,r),this.isDirty=!0}forEach(r){this.isDirty&&this.children.sort(KE),this.isDirty=!1,this.children.forEach(r)}}function XE(t,r){const s=dr.now(),a=({timestamp:i})=>{const l=i-s;l>=r&&(ma(a),t(l-r))};return it.setup(a,!0),()=>ma(a)}const w1=["TopLeft","TopRight","BottomLeft","BottomRight"],QE=w1.length,Ey=t=>typeof t=="string"?parseFloat(t):t,Ty=t=>typeof t=="number"||Re.test(t);function JE(t,r,s,a,i,l){i?(t.opacity=ft(0,s.opacity??1,ZE(a)),t.opacityExit=ft(r.opacity??1,0,eT(a))):l&&(t.opacity=ft(r.opacity??1,s.opacity??1,a));for(let c=0;c<QE;c++){const u=`border${w1[c]}Radius`;let m=Ay(r,u),h=Ay(s,u);if(m===void 0&&h===void 0)continue;m||(m=0),h||(h=0),m===0||h===0||Ty(m)===Ty(h)?(t[u]=Math.max(ft(Ey(m),Ey(h),a),0),(is.test(h)||is.test(m))&&(t[u]+="%")):t[u]=h}(r.rotate||s.rotate)&&(t.rotate=ft(r.rotate||0,s.rotate||0,a))}function Ay(t,r){return t[r]!==void 0?t[r]:t.borderRadius}const ZE=j1(0,.5,c2),eT=j1(.5,.95,Mr);function j1(t,r,s){return a=>a<t?0:a>r?1:s(hi(t,r,a))}function Py(t,r){t.min=r.min,t.max=r.max}function Sr(t,r){Py(t.x,r.x),Py(t.y,r.y)}function Dy(t,r){t.translate=r.translate,t.scale=r.scale,t.originPoint=r.originPoint,t.origin=r.origin}function My(t,r,s,a,i){return t-=r,t=Fc(t,1/s,a),i!==void 0&&(t=Fc(t,1/i,a)),t}function tT(t,r=0,s=1,a=.5,i,l=t,c=t){if(is.test(r)&&(r=parseFloat(r),r=ft(c.min,c.max,r/100)-c.min),typeof r!="number")return;let u=ft(l.min,l.max,a);t===l&&(u-=r),t.min=My(t.min,r,s,u,i),t.max=My(t.max,r,s,u,i)}function Ry(t,r,[s,a,i],l,c){tT(t,r[s],r[a],r[i],r.scale,l,c)}const rT=["x","scaleX","originX"],sT=["y","scaleY","originY"];function Ly(t,r,s,a){Ry(t.x,r,rT,s?s.x:void 0,a?a.x:void 0),Ry(t.y,r,sT,s?s.y:void 0,a?a.y:void 0)}function Iy(t){return t.translate===0&&t.scale===1}function N1(t){return Iy(t.x)&&Iy(t.y)}function _y(t,r){return t.min===r.min&&t.max===r.max}function aT(t,r){return _y(t.x,r.x)&&_y(t.y,r.y)}function Oy(t,r){return Math.round(t.min)===Math.round(r.min)&&Math.round(t.max)===Math.round(r.max)}function k1(t,r){return Oy(t.x,r.x)&&Oy(t.y,r.y)}function Fy(t){return er(t.x)/er(t.y)}function By(t,r){return t.translate===r.translate&&t.scale===r.scale&&t.originPoint===r.originPoint}class nT{constructor(){this.members=[]}add(r){ph(this.members,r),r.scheduleRender()}remove(r){if(gh(this.members,r),r===this.prevLead&&(this.prevLead=void 0),r===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(r){const s=this.members.findIndex(i=>r===i);if(s===0)return!1;let a;for(let i=s;i>=0;i--){const l=this.members[i];if(l.isPresent!==!1){a=l;break}}return a?(this.promote(a),!0):!1}promote(r,s){const a=this.lead;if(r!==a&&(this.prevLead=a,this.lead=r,r.show(),a)){a.instance&&a.scheduleRender(),r.scheduleRender(),r.resumeFrom=a,s&&(r.resumeFrom.preserveOpacity=!0),a.snapshot&&(r.snapshot=a.snapshot,r.snapshot.latestValues=a.animationValues||a.latestValues),r.root&&r.root.isUpdating&&(r.isLayoutDirty=!0);const{crossfade:i}=r.options;i===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(r=>{const{options:s,resumingFrom:a}=r;s.onExitComplete&&s.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(r=>{r.instance&&r.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function oT(t,r,s){let a="";const i=t.x.translate/r.x,l=t.y.translate/r.y,c=(s==null?void 0:s.z)||0;if((i||l||c)&&(a=`translate3d(${i}px, ${l}px, ${c}px) `),(r.x!==1||r.y!==1)&&(a+=`scale(${1/r.x}, ${1/r.y}) `),s){const{transformPerspective:h,rotate:p,rotateX:g,rotateY:x,skewX:v,skewY:w}=s;h&&(a=`perspective(${h}px) ${a}`),p&&(a+=`rotate(${p}deg) `),g&&(a+=`rotateX(${g}deg) `),x&&(a+=`rotateY(${x}deg) `),v&&(a+=`skewX(${v}deg) `),w&&(a+=`skewY(${w}deg) `)}const u=t.x.scale*r.x,m=t.y.scale*r.y;return(u!==1||m!==1)&&(a+=`scale(${u}, ${m})`),a||"none"}const Am=["","X","Y","Z"],iT=1e3;let lT=0;function Pm(t,r,s,a){const{latestValues:i}=r;i[t]&&(s[t]=i[t],r.setStaticValue(t,0),a&&(a[t]=0))}function S1(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:r}=t.options;if(!r)return;const s=d1(r);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:i,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(s,"transform",it,!(i||l))}const{parent:a}=t;a&&!a.hasCheckedOptimisedAppear&&S1(a)}function C1({attachResizeListener:t,defaultParent:r,measureScroll:s,checkIsScrollRoot:a,resetTransform:i}){return class{constructor(c={},u=r==null?void 0:r()){this.id=lT++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(uT),this.nodes.forEach(pT),this.nodes.forEach(gT),this.nodes.forEach(mT)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new GE)}addEventListener(c,u){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new bh),this.eventHandlers.get(c).add(u)}notifyListeners(c,...u){const m=this.eventHandlers.get(c);m&&m.notify(...u)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=$2(c)&&!s7(c),this.instance=c;const{layoutId:u,layout:m,visualElement:h}=this.options;if(h&&!h.current&&h.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||u)&&(this.isLayoutDirty=!0),t){let p,g=0;const x=()=>this.root.updateBlockedByResize=!1;it.read(()=>{g=window.innerWidth}),t(c,()=>{const v=window.innerWidth;v!==g&&(g=v,this.root.updateBlockedByResize=!0,p&&p(),p=XE(x,250),jc.hasAnimatedSinceResize&&(jc.hasAnimatedSinceResize=!1,this.nodes.forEach(Vy)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&h&&(u||m)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g,hasRelativeLayoutChanged:x,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||h.getDefaultTransition()||wT,{onLayoutAnimationStart:S,onLayoutAnimationComplete:k}=h.getProps(),E=!this.targetLayout||!k1(this.targetLayout,v),C=!g&&x;if(this.options.layoutRoot||this.resumeFrom||C||g&&(E||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const j={...Mh(w,"layout"),onPlay:S,onComplete:k};(h.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j),this.setAnimationOrigin(p,C)}else g||Vy(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ma(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(xT),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&S1(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const g=this.path[p];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:u,layout:m}=this.options;if(u===void 0&&!m)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Uy);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach($y);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(fT),this.nodes.forEach(cT),this.nodes.forEach(dT)):this.nodes.forEach($y),this.clearAllSnapshots();const u=dr.now();Ut.delta=Ds(0,1e3/60,u-Ut.timestamp),Ut.timestamp=u,Ut.isProcessing=!0,ym.update.process(Ut),ym.preRender.process(Ut),ym.render.process(Ut),Ut.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Lh.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(hT),this.sharedNodes.forEach(yT)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,it.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){it.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!er(this.snapshot.measuredBox.x)&&!er(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=bt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(u=!1),u&&this.instance){const m=a(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!i)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!N1(this.projectionDelta),m=this.getTransformTemplate(),h=m?m(this.latestValues,""):void 0,p=h!==this.prevTransformTemplateValue;c&&this.instance&&(u||_a(this.latestValues)||p)&&(i(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const u=this.measurePageBox();let m=this.removeElementScroll(u);return c&&(m=this.removeTransform(m)),jT(m),{animationId:this.root.animationId,measuredBox:u,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:c}=this.options;if(!c)return bt();const u=c.measureViewportBox();if(!(((h=this.scroll)==null?void 0:h.wasRoot)||this.path.some(NT))){const{scroll:p}=this.root;p&&(Ln(u.x,p.offset.x),Ln(u.y,p.offset.y))}return u}removeElementScroll(c){var m;const u=bt();if(Sr(u,c),(m=this.scroll)!=null&&m.wasRoot)return u;for(let h=0;h<this.path.length;h++){const p=this.path[h],{scroll:g,options:x}=p;p!==this.root&&g&&x.layoutScroll&&(g.wasRoot&&Sr(u,c),Ln(u.x,g.offset.x),Ln(u.y,g.offset.y))}return u}applyTransform(c,u=!1){const m=bt();Sr(m,c);for(let h=0;h<this.path.length;h++){const p=this.path[h];!u&&p.options.layoutScroll&&p.scroll&&p!==p.root&&In(m,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),_a(p.latestValues)&&In(m,p.latestValues)}return _a(this.latestValues)&&In(m,this.latestValues),m}removeTransform(c){const u=bt();Sr(u,c);for(let m=0;m<this.path.length;m++){const h=this.path[m];if(!h.instance||!_a(h.latestValues))continue;M0(h.latestValues)&&h.updateSnapshot();const p=bt(),g=h.measurePageBox();Sr(p,g),Ly(u,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,p)}return _a(this.latestValues)&&Ly(u,this.latestValues),u}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ut.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var x;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==u;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:g}=this.options;if(!(!this.layout||!(p||g))){if(this.resolvedRelativeTargetAt=Ut.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=bt(),this.relativeTargetOrigin=bt(),ai(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),Sr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=bt(),this.targetWithTransforms=bt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),AE(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Sr(this.target,this.layout.layoutBox),a1(this.target,this.targetDelta)):Sr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=bt(),this.relativeTargetOrigin=bt(),ai(this.relativeTargetOrigin,this.target,v.target),Sr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||M0(this.parent.latestValues)||s1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var w;const c=this.getLead(),u=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(m=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Ut.timestamp&&(m=!1),m)return;const{layout:h,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||p))return;Sr(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,x=this.treeScale.y;$7(this.layoutCorrected,this.treeScale,this.path,u),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=bt());const{target:v}=c;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Dy(this.prevProjectionDelta.x,this.projectionDelta.x),Dy(this.prevProjectionDelta.y,this.projectionDelta.y)),si(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==x||!By(this.projectionDelta.x,this.prevProjectionDelta.x)||!By(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),c){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=_n(),this.projectionDelta=_n(),this.projectionDeltaWithTransform=_n()}setAnimationOrigin(c,u=!1){const m=this.snapshot,h=m?m.latestValues:{},p={...this.latestValues},g=_n();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const x=bt(),v=m?m.source:void 0,w=this.layout?this.layout.source:void 0,S=v!==w,k=this.getStack(),E=!k||k.members.length<=1,C=!!(S&&!E&&this.options.crossfade===!0&&!this.path.some(vT));this.animationProgress=0;let j;this.mixTargetDelta=A=>{const P=A/1e3;zy(g.x,c.x,P),zy(g.y,c.y,P),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ai(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),bT(this.relativeTarget,this.relativeTargetOrigin,x,P),j&&aT(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=bt()),Sr(j,this.relativeTarget)),S&&(this.animationValues=p,JE(p,h,this.latestValues,P,C,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var u,m,h;this.notifyListeners("animationStart"),(u=this.currentAnimation)==null||u.stop(),(h=(m=this.resumingFrom)==null?void 0:m.currentAnimation)==null||h.stop(),this.pendingAnimation&&(ma(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=it.update(()=>{jc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=zn(0)),this.currentAnimation=YE(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:p=>{this.mixTargetDelta(p),c.onUpdate&&c.onUpdate(p)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(iT),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:u,target:m,layout:h,latestValues:p}=c;if(!(!u||!m||!h)){if(this!==c&&this.layout&&h&&E1(this.options.animationType,this.layout.layoutBox,h.layoutBox)){m=this.target||bt();const g=er(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+g;const x=er(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+x}Sr(u,m),In(u,p),si(this.projectionDeltaWithTransform,this.layoutCorrected,u,p)}}registerSharedNode(c,u){this.sharedNodes.has(c)||this.sharedNodes.set(c,new nT),this.sharedNodes.get(c).add(u);const h=u.options.initialPromotionConfig;u.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(u):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var u;const{layoutId:c}=this.options;return c?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:c}=this.options;return c?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:u,preserveFollowOpacity:m}={}){const h=this.getStack();h&&h.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let u=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(u=!0),!u)return;const h={};m.z&&Pm("z",c,h,this.animationValues);for(let p=0;p<Am.length;p++)Pm(`rotate${Am[p]}`,c,h,this.animationValues),Pm(`skew${Am[p]}`,c,h,this.animationValues);c.render();for(const p in h)c.setStaticValue(p,h[p]),this.animationValues&&(this.animationValues[p]=h[p]);c.scheduleRender()}applyProjectionStyles(c,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=wc(u==null?void 0:u.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=wc(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!_a(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const p=h.animationValues||h.latestValues;this.applyTransformsToTarget();let g=oT(this.projectionDeltaWithTransform,this.treeScale,p);m&&(g=m(p,g)),c.transform=g;const{x,y:v}=this.projectionDelta;c.transformOrigin=`${x.origin*100}% ${v.origin*100}% 0`,h.animationValues?c.opacity=h===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const w in xi){if(p[w]===void 0)continue;const{correct:S,applyTo:k,isCSSVariable:E}=xi[w],C=g==="none"?p[w]:S(p[w],h);if(k){const j=k.length;for(let A=0;A<j;A++)c[k[A]]=C}else E?this.options.visualElement.renderState.vars[w]=C:c[w]=C}this.options.layoutId&&(c.pointerEvents=h===this?wc(u==null?void 0:u.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var u;return(u=c.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach(Uy),this.root.sharedNodes.clear()}}}function cT(t){t.updateLayout()}function dT(t){var s;const r=((s=t.resumeFrom)==null?void 0:s.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:i}=t.layout,{animationType:l}=t.options,c=r.source!==t.layout.source;l==="size"?Cr(g=>{const x=c?r.measuredBox[g]:r.layoutBox[g],v=er(x);x.min=a[g].min,x.max=x.min+v}):E1(l,r.layoutBox,a)&&Cr(g=>{const x=c?r.measuredBox[g]:r.layoutBox[g],v=er(a[g]);x.max=x.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+v)});const u=_n();si(u,a,r.layoutBox);const m=_n();c?si(m,t.applyTransform(i,!0),r.measuredBox):si(m,a,r.layoutBox);const h=!N1(u);let p=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:x,layout:v}=g;if(x&&v){const w=bt();ai(w,r.layoutBox,x.layoutBox);const S=bt();ai(S,a,v.layoutBox),k1(w,S)||(p=!0),g.options.layoutRoot&&(t.relativeTarget=S,t.relativeTargetOrigin=w,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:a,snapshot:r,delta:m,layoutDelta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:a}=t.options;a&&a()}t.options.transition=void 0}function uT(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function mT(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function hT(t){t.clearSnapshot()}function Uy(t){t.clearMeasurements()}function $y(t){t.isLayoutDirty=!1}function fT(t){const{visualElement:r}=t.options;r&&r.getProps().onBeforeLayoutMeasure&&r.notify("BeforeLayoutMeasure"),t.resetTransform()}function Vy(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function pT(t){t.resolveTargetDelta()}function gT(t){t.calcProjection()}function xT(t){t.resetSkewAndRotation()}function yT(t){t.removeLeadSnapshot()}function zy(t,r,s){t.translate=ft(r.translate,0,s),t.scale=ft(r.scale,1,s),t.origin=r.origin,t.originPoint=r.originPoint}function Hy(t,r,s,a){t.min=ft(r.min,s.min,a),t.max=ft(r.max,s.max,a)}function bT(t,r,s,a){Hy(t.x,r.x,s.x,a),Hy(t.y,r.y,s.y,a)}function vT(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const wT={duration:.45,ease:[.4,0,.1,1]},Wy=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),qy=Wy("applewebkit/")&&!Wy("chrome/")?Math.round:Mr;function Yy(t){t.min=qy(t.min),t.max=qy(t.max)}function jT(t){Yy(t.x),Yy(t.y)}function E1(t,r,s){return t==="position"||t==="preserve-aspect"&&!TE(Fy(r),Fy(s),.2)}function NT(t){var r;return t!==t.root&&((r=t.scroll)==null?void 0:r.wasRoot)}const kT=C1({attachResizeListener:(t,r)=>yi(t,"resize",r),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Dm={current:void 0},T1=C1({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Dm.current){const t=new kT({});t.mount(window),t.setOptions({layoutScroll:!0}),Dm.current=t}return Dm.current},resetTransform:(t,r)=>{t.style.transform=r!==void 0?r:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),ST={pan:{Feature:zE},drag:{Feature:VE,ProjectionNode:T1,MeasureLayout:v1}};function Ky(t,r,s){const{props:a}=t;t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",s==="Start");const i="onHover"+s,l=a[i];l&&it.postRender(()=>l(r,Pi(r)))}class CT extends ba{mount(){const{current:r}=this.node;r&&(this.unmount=JC(r,(s,a)=>(Ky(this.node,a,"Start"),i=>Ky(this.node,i,"End"))))}unmount(){}}class ET extends ba{constructor(){super(...arguments),this.isActive=!1}onFocus(){let r=!1;try{r=this.node.current.matches(":focus-visible")}catch{r=!0}!r||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ei(yi(this.node.current,"focus",()=>this.onFocus()),yi(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Gy(t,r,s){const{props:a}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&a.whileTap&&t.animationState.setActive("whileTap",s==="Start");const i="onTap"+(s==="End"?"":s),l=a[i];l&&it.postRender(()=>l(r,Pi(r)))}class TT extends ba{mount(){const{current:r}=this.node;r&&(this.unmount=r7(r,(s,a)=>(Gy(this.node,a,"Start"),(i,{success:l})=>Gy(this.node,i,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const B0=new WeakMap,Mm=new WeakMap,AT=t=>{const r=B0.get(t.target);r&&r(t)},PT=t=>{t.forEach(AT)};function DT({root:t,...r}){const s=t||document;Mm.has(s)||Mm.set(s,{});const a=Mm.get(s),i=JSON.stringify(r);return a[i]||(a[i]=new IntersectionObserver(PT,{root:t,...r})),a[i]}function MT(t,r,s){const a=DT(r);return B0.set(t,s),a.observe(t),()=>{B0.delete(t),a.unobserve(t)}}const RT={some:0,all:1};class LT extends ba{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:r={}}=this.node.getProps(),{root:s,margin:a,amount:i="some",once:l}=r,c={root:s?s.current:void 0,rootMargin:a,threshold:typeof i=="number"?i:RT[i]},u=m=>{const{isIntersecting:h}=m;if(this.isInView===h||(this.isInView=h,l&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:p,onViewportLeave:g}=this.node.getProps(),x=h?p:g;x&&x(m)};return MT(this.node.current,c,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:r,prevProps:s}=this.node;["amount","margin","root"].some(IT(r,s))&&this.startObserver()}unmount(){}}function IT({viewport:t={}},{viewport:r={}}={}){return s=>t[s]!==r[s]}const _T={inView:{Feature:LT},tap:{Feature:TT},focus:{Feature:ET},hover:{Feature:CT}},OT={layout:{ProjectionNode:T1,MeasureLayout:v1}},FT={...jE,..._T,...ST,...OT},nt=F7(FT,Q7);function BT(t){return ve({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z"}}]})(t)}function UT(t){return ve({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zm151 118.3C226 97.7 269.5 80 320 80c65.2 0 118.8 29.6 159.9 67.7C518.4 183.5 545 226 558.6 256c-12.6 28-36.6 66.8-70.9 100.9l-53.8-42.2c9.1-17.6 14.2-37.5 14.2-58.7c0-70.7-57.3-128-128-128c-32.2 0-61.7 11.9-84.2 31.5l-46.1-36.1zM394.9 284.2l-81.5-63.9c4.2-8.5 6.6-18.2 6.6-28.3c0-5.5-.7-10.9-2-16c.7 0 1.3 0 2 0c44.2 0 80 35.8 80 80c0 9.9-1.8 19.4-5.1 28.2zm9.4 130.3C378.8 425.4 350.7 432 320 432c-65.2 0-118.8-29.6-159.9-67.7C121.6 328.5 95 286 81.4 256c8.3-18.4 21.5-41.5 39.4-64.8L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5l-41.9-33zM192 256c0 70.7 57.3 128 128 128c13.3 0 26.1-2 38.2-5.8L302 334c-23.5-5.4-43.1-21.2-53.7-42.3l-56.1-44.2c-.2 2.8-.3 5.6-.3 8.5z"}}]})(t)}const $T=()=>{const t=us(),[r,s]=y.useState(!1),[a,i]=y.useState(!0),[l,c]=y.useState(!1),[u,m]=y.useState(!1),[h,p]=y.useState({email:"",otp:"",newPassword:"",confirmPassword:""}),[g,x]=y.useState(!1),v=je.useRef([]),w=(B,U)=>{[...v.current.map(R=>(R==null?void 0:R.value)||"")],B.target.value,B.target.value.length>0&&U<v.current.length-1&&v.current[U+1].focus()},S=(B,U)=>{B.key==="Backspace"&&B.target.value===""&&U>0&&v.current[U-1].focus()},k=B=>{B.preventDefault();const R=B.clipboardData.getData("text").split("");v.current.forEach((ee,J)=>{J<R.length&&ee&&(ee.value=R[J])}),v.current[R.length-1]&&v.current[R.length-1].focus()},[E,C]=y.useState(!1),[j,A]=y.useState(!1),P=B=>{p({...h,[B.target.name]:B.target.value})},F=async B=>{var U,R,ee,J;B.preventDefault();try{if(m(!0),!h.email.trim()){s("Email is required"),me.error("Email is required"),m(!1);return}const K=(await Et.forgotPassword(h.email)).data;K.success?(s(!1),C(!0),i(!1),m(!1),c("OTP sent successfully"),me.success("OTP sent successfully to your email!")):(console.log("result",K),me.error(K.message||"Failed to send OTP"),s(K.message||"Failed to send OTP"),m(!1))}catch(H){m(!1),console.error(H),H.message==="Network Error"?(me.error("Network error. Please check your internet connection or contact support."),s("Network error. Please check your internet connection or contact support.")):(me.error(((R=(U=H.response)==null?void 0:U.data)==null?void 0:R.message)||"Failed to send OTP. Please try again later."),s(((J=(ee=H.response)==null?void 0:ee.data)==null?void 0:J.message)||"Failed to send OTP. Please try again later."))}},T=async B=>{var ee,J,H,K;B.preventDefault();const R=v.current.map(I=>(I==null?void 0:I.value)||"").join("");if(R.length!==6){me.error("Please enter the complete 6-digit OTP"),s("Please enter the complete 6-digit OTP");return}try{m(!0),console.log("payload.email",h.email),console.log("otp",R);const G=(await Et.verifyOTP({otp:R,email:h.email})).data;G.success?(s(!1),A(!0),C(!1),m(!1),localStorage.setItem("resetOtp",G.resetOtp),c("OTP verified successfully. Enter your new password"),me.success("OTP verified successfully!")):(c(!1),me.error(G.message||"Invalid OTP"),s(G.message||"Invalid OTP"),m(!1))}catch(I){m(!1),console.error(I),I.message==="Network Error"?(me.error("Network error. Please check your internet connection or contact support."),s("Network error. Please check your internet connection or contact support.")):(me.error(((J=(ee=I.response)==null?void 0:ee.data)==null?void 0:J.message)||"Failed to verify OTP. Please try again later."),s(((K=(H=I.response)==null?void 0:H.data)==null?void 0:K.message)||"Failed to verify OTP. Please try again later."))}},L=async B=>{var U,R,ee,J;if(B.preventDefault(),!h.newPassword.trim()){me.error("New password is required"),s("New password is required");return}if(h.newPassword!==h.confirmPassword){me.error("Passwords do not match"),s("Passwords do not match");return}if(h.newPassword.length<6){me.error("Password must be at least 6 characters"),s("Password must be at least 6 characters");return}try{m(!0);const K=(await Et.resetPassword({email:h.email,resetOtp:localStorage.getItem("resetOtp"),newPassword:h.newPassword})).data;K.success?(s(!1),m(!1),c("Password reset successfully!"),me.success("Password reset successfully! You can now login with your new password."),localStorage.removeItem("resetOtp"),setTimeout(()=>{t("/login")},2e3)):(c(!1),me.error(K.message||"Failed to reset password"),s(K.message||"Failed to reset password"),m(!1))}catch(H){m(!1),console.error(H),H.message==="Network Error"?(me.error("Network error. Please check your internet connection or contact support."),s("Network error. Please check your internet connection or contact support.")):(me.error(((R=(U=H.response)==null?void 0:U.data)==null?void 0:R.message)||"Failed to reset password. Please try again later."),s(((J=(ee=H.response)==null?void 0:ee.data)==null?void 0:J.message)||"Failed to reset password. Please try again later."))}},z={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.5}},exit:{opacity:0,transition:{duration:.5}}},q={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6,when:"beforeChildren",staggerChildren:.1}},exit:{opacity:0,y:-20,transition:{duration:.3}}},O={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.5}}};return e.jsxs("div",{className:"w-full min-h-screen bg-cover bg-center relative",style:{backgroundImage:`url(${Fx})`},children:[e.jsx(XS,{position:"top-right",autoClose:3e3}),e.jsx("div",{className:"absolute inset-0 bg-black opacity-50"}),e.jsx(nt.div,{className:"absolute inset-0 flex justify-center items-center p-4",initial:"hidden",animate:"visible",exit:"exit",variants:z,children:e.jsxs("div",{className:"grid grid-cols-1 md:flex max-w-5xl w-full",children:[e.jsxs(nt.div,{className:"bg-[#152B54] w-full md:w-[40%] p-6 hidden md:flex flex-col justify-center items-center",initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{duration:.8},children:[e.jsx("div",{className:"relative",children:e.jsx("img",{src:Fx,alt:"Traincape Technology",className:"w-[130px] h-[130px] mb-8"})}),e.jsxs(nt.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5,duration:1},className:"text-white text-center",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Password Recovery"}),e.jsx("p",{className:"mb-6",children:"Recover your account access quickly and securely"}),e.jsx("div",{className:"w-16 h-1 bg-white dark:bg-slate-900 transition-all duration-200 ease-out mx-auto"})]})]}),e.jsxs(nt.div,{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out bg-opacity-95 p-8 md:p-12 shadow-xl w-full md:w-[60%] rounded-lg",variants:q,initial:"hidden",animate:"visible",exit:"exit",children:[e.jsx(nt.h1,{className:"text-3xl font-semibold text-center text-[#152B54] mb-6",variants:O,children:"Forgot Password"}),r&&e.jsx(nt.div,{className:"mb-4 p-3 bg-red-100 text-red-800 rounded-md",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},children:r}),l&&e.jsx(nt.div,{className:"mb-4 p-3 bg-green-100 text-green-800 rounded-md",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},children:l}),e.jsxs("form",{children:[a&&e.jsxs(nt.div,{variants:q,children:[e.jsxs(nt.div,{className:"mb-6",variants:O,children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-400 mb-2",children:"Email Address"}),e.jsx("input",{type:"email",id:"email",name:"email",required:!0,value:h.email,onChange:P,placeholder:"Enter your email address",className:"w-full px-4 py-3 mt-1 border border-gray-300 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#152B54] transition-all duration-200"})]}),e.jsx(nt.button,{type:"button",onClick:F,disabled:u,variants:O,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3 bg-[#152B54] text-white rounded-lg hover:bg-sky-950 transition duration-200 flex justify-center items-center",children:u?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin mr-2 h-5 w-5 border-t-2 border-b-2 border-white rounded-full"}),e.jsx("span",{children:"Sending..."})]}):"Send Reset OTP"}),e.jsx(nt.div,{className:"mt-4 text-center",variants:O,children:e.jsx("button",{type:"button",onClick:()=>t("/login"),className:"text-[#152B54] hover:underline",children:"Back to Login"})})]}),E&&e.jsxs(nt.div,{className:"mt-4",variants:q,initial:"hidden",animate:"visible",exit:"exit",children:[e.jsx(nt.h2,{className:"text-xl font-semibold text-center text-[#152B54] mb-4",variants:O,children:"Enter Verification Code"}),e.jsx(nt.p,{className:"text-center text-gray-600 dark:text-gray-400 mb-6",variants:O,children:"We've sent a 6-digit code to your email"}),e.jsx(nt.div,{onPaste:k,className:"flex justify-between mb-6",variants:O,children:Array(6).fill(0).map((B,U)=>e.jsx(nt.input,{type:"text",maxLength:"1",required:!0,onChange:R=>w(R,U),onKeyDown:R=>S(R,U),ref:R=>v.current[U]=R,whileFocus:{scale:1.1},className:"w-12 h-12 text-3xl text-center border-2 border-gray-300 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#152B54] focus:border-[#152B54] transition-all duration-200"},U))}),e.jsx(nt.button,{type:"button",onClick:T,disabled:u,variants:O,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3 mt-2 bg-[#152B54] text-white rounded-lg hover:bg-sky-950 transition duration-200 flex justify-center items-center",children:u?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin mr-2 h-5 w-5 border-t-2 border-b-2 border-white rounded-full"}),e.jsx("span",{children:"Verifying..."})]}):"Verify OTP"}),e.jsx(nt.div,{className:"mt-4 text-center",variants:O,children:e.jsx("button",{type:"button",onClick:F,className:"text-[#152B54] hover:underline",children:"Didn't receive code? Resend"})})]}),j&&e.jsxs(nt.div,{className:"mt-4",variants:q,initial:"hidden",animate:"visible",exit:"exit",children:[e.jsx(nt.h2,{className:"text-xl font-semibold text-center text-[#152B54] mb-4",variants:O,children:"Create New Password"}),e.jsx(nt.p,{className:"text-center text-gray-600 dark:text-gray-400 mb-6",variants:O,children:"Your new password must be at least 6 characters"}),e.jsxs(nt.div,{className:"mb-5 relative",variants:O,children:[e.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-400 mb-2",children:"New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:g?"text":"password",id:"newPassword",name:"newPassword",value:h.newPassword,onChange:P,required:!0,placeholder:"Enter new password",className:"w-full px-4 py-3 border border-gray-300 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#152B54] transition-all duration-200"}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 dark:text-gray-300 hover:text-gray-700",onClick:()=>x(!g),children:g?e.jsx(UT,{size:18}):e.jsx(BT,{size:18})})]})]}),e.jsxs(nt.div,{className:"mb-6",variants:O,children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-400 mb-2",children:"Confirm Password"}),e.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:h.confirmPassword,onChange:P,required:!0,placeholder:"Confirm new password",className:"w-full px-4 py-3 border border-gray-300 dark:border-slate-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#152B54] transition-all duration-200"})]}),e.jsx(nt.button,{type:"button",onClick:L,disabled:u,variants:O,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3 bg-[#152B54] text-white rounded-lg hover:bg-sky-950 transition duration-200 flex justify-center items-center",children:u?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin mr-2 h-5 w-5 border-t-2 border-b-2 border-white rounded-full"}),e.jsx("span",{children:"Resetting Password..."})]}):"Reset Password"})]})]})]})]})})]})},VT=()=>{const[t,r]=y.useState([]),[s,a]=y.useState(!0),[i,l]=y.useState(null),[c,u]=y.useState([]),[m,h]=y.useState(!1),[p,g]=y.useState(null),[x,v]=y.useState({DATE:new Date().toISOString().split("T")[0],NAME:"",COUNTRY:"",COURSE:"",CODE:"",NUMBER:"","E-MAIL":"","PSUDO ID":"","SALE PERSON":"","LEAD PERSON":"",SOURSE:"","CLIENT REMARK":"",FEEDBACK:"","TOTAL COST":0,"TOTAL COST CURRENCY":"USD","TOKEN AMOUNT":0,"TOKEN AMOUNT CURRENCY":"USD"}),{user:w,loadUser:S}=Fe();console.log("User object in LeadSalesUpdatePage initial load:",w),console.log("User ID formats:",w?{id:w.id,_id:w._id,userId:w.userId}:"No user data"),y.useEffect(()=>{w?(console.log("User data available:",w),console.log("User ID variations:",{id:w.id,_id:w._id,userId:w.userId})):(console.log("No user data found, attempting to reload user data"),S())},[]),y.useEffect(()=>{console.log("User information on load:",w),w&&(k(),E())},[w]),y.useEffect(()=>{if(w){const T=w.id||w._id||w.userId;console.log("Setting lead person ID to:",T),T&&v(L=>({...L,"LEAD PERSON":T}))}},[w]);const k=async()=>{try{a(!0),l(null);const T=await Vn.getLeadSheet();r(T.data.data)}catch(T){console.error("Error loading sales data:",T),l("Failed to load sales data. Please try again."),Qe.error("Failed to load sales data")}finally{a(!1)}},E=async()=>{try{const T=await Et.getUsers("Sales Person");u(T.data.data||[])}catch(T){console.error("Error loading users:",T),Qe.error("Failed to load sales persons")}},C=T=>{const{name:L,value:z}=T.target;v(q=>({...q,[L]:z}))},j=async T=>{var L,z,q,O;T.preventDefault(),a(!0),l(null);try{if(!w)throw console.error("No user object available"),new Error("User information not available. Please log in again.");console.log("Full user object:",w);const B=w.id||w._id||w.userId;if(!B)throw console.error("No user ID found in any format:",w),new Error("User ID not available. Please log in again.");console.log("Using user ID:",B);const U={date:x.DATE,customerName:x.NAME,country:x.COUNTRY,course:x.COURSE,countryCode:x.CODE,contactNumber:x.NUMBER,email:x["E-MAIL"],pseudoId:x["PSUDO ID"],salesPerson:x["SALE PERSON"],totalCost:parseFloat(x["TOTAL COST"]),totalCostCurrency:x["TOTAL COST CURRENCY"],tokenAmount:parseFloat(x["TOKEN AMOUNT"]),tokenAmountCurrency:x["TOKEN AMOUNT CURRENCY"],leadPerson:B,source:x.SOURSE,clientRemark:x["CLIENT REMARK"],feedback:x.FEEDBACK,isLeadPersonSale:!0};console.log("Sending sale data:",U);let R;if(p){R=await dm.update(p,U);try{await as.logSaleUpdate(p,U)}catch(ee){console.error("Error logging sale update:",ee)}Qe.success("Sale updated successfully")}else{R=await dm.create(U);try{await as.logSaleCreate(R.data.data)}catch(ee){console.error("Error logging sale creation:",ee)}Qe.success("Sale created successfully")}R.data.success&&(v({DATE:new Date().toISOString().split("T")[0],NAME:"",COUNTRY:"",COURSE:"",CODE:"",NUMBER:"","E-MAIL":"","PSUDO ID":"","SALE PERSON":"","LEAD PERSON":B,SOURSE:"","CLIENT REMARK":"",FEEDBACK:"","TOTAL COST":0,"TOTAL COST CURRENCY":"USD","TOKEN AMOUNT":0,"TOKEN AMOUNT CURRENCY":"USD"}),h(!1),g(null),k())}catch(B){console.error("Error with sale:",B),l(((z=(L=B.response)==null?void 0:L.data)==null?void 0:z.message)||"Failed to process sale. Please try again."),Qe.error(((O=(q=B.response)==null?void 0:q.data)==null?void 0:O.message)||"Failed to process sale")}finally{a(!1)}},A=async T=>{if(window.confirm("Are you sure you want to delete this sale?"))try{a(!0),await dm.delete(T),Qe.success("Sale deleted successfully"),k()}catch(L){console.error("Error deleting sale:",L),Qe.error("Failed to delete sale")}finally{a(!1)}},P=T=>{var L,z;g(T._id),v({DATE:new Date(T.date).toISOString().split("T")[0],NAME:T.customerName||"",COUNTRY:T.country||"",COURSE:T.course||"",CODE:T.countryCode||"",NUMBER:T.contactNumber||"","E-MAIL":T.email||"","PSUDO ID":T.pseudoId||"","SALE PERSON":((L=T.salesPerson)==null?void 0:L._id)||T.salesPerson||"","LEAD PERSON":((z=T.leadPerson)==null?void 0:z._id)||T.leadPerson||"",SOURSE:T.source||"","CLIENT REMARK":T.clientRemark||"",FEEDBACK:T.feedback||"","TOTAL COST":T.totalCost||0,"TOTAL COST CURRENCY":T.totalCostCurrency||"USD","TOKEN AMOUNT":T.tokenAmount||0,"TOKEN AMOUNT CURRENCY":T.tokenAmountCurrency||"USD"}),h(!0),window.scrollTo({top:0,behavior:"smooth"})},F=()=>{g(null),v({DATE:new Date().toISOString().split("T")[0],NAME:"",COUNTRY:"",COURSE:"",CODE:"",NUMBER:"","E-MAIL":"","PSUDO ID":"","SALE PERSON":"","LEAD PERSON":(w==null?void 0:w.id)||(w==null?void 0:w._id)||(w==null?void 0:w.userId)||"",SOURSE:"","CLIENT REMARK":"",FEEDBACK:"","TOTAL COST":0,"TOTAL COST CURRENCY":"USD","TOKEN AMOUNT":0,"TOKEN AMOUNT CURRENCY":"USD"}),h(!1)};return e.jsx(Je,{children:e.jsxs("div",{className:"container mx-auto p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Lead Sales Management"}),e.jsx("button",{onClick:()=>{g(null),h(!m)},className:"flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 shadow-sm dark:shadow-xl hover:shadow-md transition-all duration-200 text-white rounded-md",children:m?"Cancel":e.jsxs(e.Fragment,{children:[e.jsx(Gc,{className:"mr-2"})," Add New Sale"]})})]}),i&&e.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",children:i}),m&&e.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out shadow-md dark:shadow-2xl rounded-lg p-6 mb-6 shadow-sm",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:p?"Edit Sale":"Add New Sale"}),e.jsxs("form",{onSubmit:j,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Date"}),e.jsx("input",{type:"date",name:"DATE",value:x.DATE,onChange:C,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Customer Name"}),e.jsx("input",{type:"text",name:"NAME",value:x.NAME,onChange:C,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Country"}),e.jsx("input",{type:"text",name:"COUNTRY",value:x.COUNTRY,onChange:C,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Course"}),e.jsx("input",{type:"text",name:"COURSE",value:x.COURSE,onChange:C,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Country Code"}),e.jsx("input",{type:"text",name:"CODE",value:x.CODE,onChange:C,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Phone Number"}),e.jsx("input",{type:"text",name:"NUMBER",value:x.NUMBER,onChange:C,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Email"}),e.jsx("input",{type:"email",name:"E-MAIL",value:x["E-MAIL"],onChange:C,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Pseudo ID"}),e.jsx("input",{type:"text",name:"PSUDO ID",value:x["PSUDO ID"],onChange:C,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Sales Person"}),e.jsxs("select",{name:"SALE PERSON",value:x["SALE PERSON"],onChange:C,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md",children:[e.jsx("option",{value:"",children:"Select Sales Person"}),c.map(T=>e.jsx("option",{value:T._id,children:T.fullName},T._id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Source"}),e.jsx("input",{type:"text",name:"SOURSE",value:x.SOURSE,onChange:C,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Total Cost"}),e.jsxs("div",{className:"flex",children:[e.jsx("input",{type:"number",name:"TOTAL COST",value:x["TOTAL COST"],onChange:C,className:"w-2/3 p-2 border border-slate-300 dark:border-slate-600 rounded-l-md",required:!0}),e.jsxs("select",{name:"TOTAL COST CURRENCY",value:x["TOTAL COST CURRENCY"],onChange:C,className:"w-1/3 p-2 border border-slate-300 dark:border-slate-600 rounded-r-md",children:[e.jsx("option",{value:"USD",children:"USD"}),e.jsx("option",{value:"EUR",children:"EUR"}),e.jsx("option",{value:"GBP",children:"GBP"}),e.jsx("option",{value:"INR",children:"INR"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Token Amount"}),e.jsxs("div",{className:"flex",children:[e.jsx("input",{type:"number",name:"TOKEN AMOUNT",value:x["TOKEN AMOUNT"],onChange:C,className:"w-2/3 p-2 border border-slate-300 dark:border-slate-600 rounded-l-md",required:!0}),e.jsxs("select",{name:"TOKEN AMOUNT CURRENCY",value:x["TOKEN AMOUNT CURRENCY"],onChange:C,className:"w-1/3 p-2 border border-slate-300 dark:border-slate-600 rounded-r-md",children:[e.jsx("option",{value:"USD",children:"USD"}),e.jsx("option",{value:"EUR",children:"EUR"}),e.jsx("option",{value:"GBP",children:"GBP"}),e.jsx("option",{value:"INR",children:"INR"})]})]})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Client Remark"}),e.jsx("textarea",{name:"CLIENT REMARK",value:x["CLIENT REMARK"],onChange:C,rows:"2",className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Feedback"}),e.jsx("textarea",{name:"FEEDBACK",value:x.FEEDBACK,onChange:C,rows:"2",className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md"})]}),e.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:F,className:"px-4 py-2 bg-gray-300 text-gray-800 dark:text-gray-200 rounded-md hover:bg-gray-400",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:s,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 shadow-sm dark:shadow-xl hover:shadow-md transition-all duration-200 text-white rounded-md disabled:bg-blue-300",children:s?"Processing...":p?"Update Sale":"Add Sale"})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out shadow-md dark:shadow-2xl rounded-lg overflow-hidden shadow-sm",children:[e.jsx("h2",{className:"text-xl font-semibold p-4 bg-gray-50 dark:bg-slate-800 transition-all duration-200 ease-out",children:"Sales List"}),s&&!m?e.jsx("div",{className:"flex justify-center items-center p-8",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):t.length===0?e.jsx("div",{className:"p-6 text-center text-slate-500 dark:text-gray-400",children:"No sales found. Add your first sale above."}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-slate-800 transition-all duration-200 ease-out",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Customer"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Course"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Sales Person"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Total"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Token"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out divide-y divide-slate-200 dark:divide-slate-700",children:t.map(T=>{var L;return e.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800 dark:bg-slate-800 transition-all duration-200 ease-out",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:new Date(T.date).toLocaleDateString()}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:[e.jsx("div",{children:T.customerName}),e.jsx("div",{className:"text-xs text-slate-500 dark:text-gray-400",children:T.country})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:T.course}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:((L=T.salesPerson)==null?void 0:L.fullName)||"N/A"}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:[T.totalCost," ",T.totalCostCurrency]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:[T.tokenAmount," ",T.tokenAmountCurrency]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${T.saleType==="Lead Person Sale"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:T.saleType||(T.isLeadPersonSale?"Lead Person Sale":"Sales Person Sale")})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-gray-400",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>P(T),className:"text-indigo-600 hover:text-indigo-900",children:e.jsx(hs,{className:"h-5 w-5"})}),(!T.saleType||T.saleType==="Lead Person Sale"||T.isLeadPersonSale)&&e.jsx("button",{onClick:()=>A(T._id),className:"text-red-600 hover:text-red-900",children:e.jsx(Qn,{className:"h-5 w-5"})})]})})]},T._id)})})]})})]})]})})},zT="/assets/Dashboard-W6ym5qsz.png",HT=()=>{const{user:t}=Fe(),[r,s]=y.useState("getting-started"),a={"getting-started":{title:"Getting Started with TrainCape CRM",icon:"",content:[{heading:"Welcome to TrainCape CRM",description:"This tutorial will help you understand the basics of the CRM system and how to get started.",steps:["Log in using your provided credentials","Navigate the dashboard to understand available features","Update your profile information","Explore the main navigation menu for your role-specific features"],image:zT,tip:"Your role determines which features you can access. The system has four roles: Admin, Manager, Lead Person, and Sales Person."},{heading:"Understanding Your Dashboard",description:"Your dashboard provides quick access to important information based on your role.",steps:["View recent activities and updates","Access quick shortcuts to common tasks","Check pending tasks and notifications","Use the quick stats cards to monitor performance"],tip:"Customize your experience by updating your profile settings."},{heading:"Setting Up Your Profile",description:"Personalize your account and add a profile picture.",steps:["Navigate to your profile by clicking your name in the top navigation","Upload a profile picture by clicking the camera icon","Use the crop tool to adjust and position your image","Click Apply Crop to confirm your selection","Save your profile changes"],tip:"The new image cropping tool allows you to perfectly position your profile picture before uploading."}]},"lead-management":{title:"Lead Management",icon:"",content:[{heading:"Creating New Leads",description:"Learn how to add new potential customers to the system.",steps:["Navigate to the Leads section from the main menu","Click the 'Add New Lead' button in the top right corner","Fill in all required fields (marked with *)","For optional fields like email, include information when available","Click 'Save Lead' to create the new entry"],tip:"Always include as much information as possible, but email is now optional to accommodate clients who prefer phone contact."},{heading:"Managing Existing Leads",description:"How to update, filter, and organize your lead database.",steps:["Use the search bar to quickly find leads by name, email, or phone","Click on any lead to view detailed information","Use the edit button to update lead information","Add feedback notes to track communication history"],tip:"Regular updates to lead information ensures everyone has the most current data."},{heading:"Month-wise Lead Filtering",description:"The new filtering system allows you to view leads by specific months and years for better organization.",steps:["Navigate to the Leads page to see the filtering controls","Use the Month dropdown to select any month (January through December)","Use the Year dropdown to select the desired year","Click 'Show Current Month' to quickly view leads from the current month","Click 'March 2025 (Imported Leads)' to view previously imported lead data","The system shows a count of leads for each selected time period","Lead assignments are preserved when filtering - assigned leads stay with their sales persons"],tip:"When importing new leads each month, they will be automatically organized by their creation date. This makes it easy to track monthly lead generation and assign new leads to sales persons without affecting previous assignments."},{heading:"Assigning Leads to Sales Persons",description:"Proper lead assignment ensures timely follow-up.",steps:["From the lead details page, click 'Edit'","Use the 'SALE PERSON' dropdown to select the appropriate sales person","Save the changes to notify the sales person of the new assignment"],tip:"Consider workload balance when assigning leads to ensure timely follow-up."},{heading:"Importing Leads from CSV",description:"Bulk import leads from CSV files with automatic Lead Person and Sales Person assignment.",steps:["Navigate to the Admin Import page (Admin/Manager access required)","Select the 'Import Leads' tab","Prepare your CSV file with columns: Name, Email, Phone, Country, Course, Date","Optional columns: Lead Person, Sales Person (for automatic assignment)","For dates, use either YYYY-MM-DD (e.g., 2025-04-15) or DD-MM-YYYY (e.g., 15-04-2025) format","Upload your CSV file and click 'Import Leads'","Review the import summary for successful and failed records"],tip:"Include 'Lead Person' and 'Sales Person' columns in your CSV to automatically assign leads during import. The system will match names and assign leads to the correct people, regardless of who performs the import."}]},"sales-tracking":{title:"Sales Tracking & Management",icon:"",content:[{heading:"Converting Leads to Sales",description:"Learn the process of turning qualified leads into sales records.",steps:["Navigate to your assigned leads list","Update the lead status to 'Qualified' when appropriate","Click 'Convert to Sale' to begin the sales process","Fill in the required sales information including course details and pricing","Select the appropriate currency for the transaction"],tip:"The system now supports multiple currencies for both Total Cost and Token Amount fields."},{heading:"Creating Reference Sales",description:"Reference sales allow you to track customers who came through referrals rather than the standard lead process.",steps:["From the Sales page, toggle the 'Reference Sale' switch","Select a Lead Person who referred this customer (optional)","Fill in all customer information as this will not be pulled from an existing lead","Complete all required sales information","Submit the form to create the reference sale"],tip:"Reference sales customers will be available in all customer selection dropdowns throughout the system, including exam scheduling."},{heading:"Lead Person Sales Management",description:"Lead persons can now track their own sales separately from the main sales pipeline.",steps:["As a Lead Person, navigate to the Lead Sales Update page","Click 'Add New Sale' to create a new lead person sale","Fill in all required customer and sales information","Select a Sales Person to associate with this sale","Submit the sale to save it to the lead person sales database"],tip:"Lead Person sales are stored in a separate database and are only visible to Lead Persons, Managers, and Admins - not to regular Sales Persons."},{heading:"Managing Your Sales",description:"Sales Persons can now fully edit and update their own sales records.",steps:["Navigate to the Sales Tracking page to see all your assigned sales","Click the edit icon on any sale you created","Update any field as needed - you now have full editing privileges for your own sales","Save your changes to update the record"],tip:"While you can edit all aspects of your own sales, you'll still need an Admin or Manager to delete records if necessary."},{heading:"Using the Sales Sheet",description:"The Lead Sales Sheet provides a comprehensive view of all sales data.",steps:["Access the Lead Sales Sheet from the navigation menu","Use filters to narrow down sales by date range, sales person, or other criteria","Click on column headers to sort the data","Export data to Excel for reporting purposes","Use inline editing for quick updates"],tip:"The sales sheet now includes email information and improved contact details for better customer tracking."},{heading:"Managing Payments & Tracking",description:"Track payments and outstanding balances effectively.",steps:["Record token (initial) payments when received","Update payment status as transactions are completed","Monitor pending payments through the Sales Tracking page","Set follow-up tasks for payment collection"],tip:"Keep the payment currency consistent with the original sale for accurate accounting."}]},"task-management":{title:"Task & Exam Management",icon:"",content:[{heading:"Scheduling Exams",description:"Use the Task Management system to schedule and track exams for your customers.",steps:["Navigate to the Task Management page","Click 'Schedule New Exam' button","Enter the exam title and description","Select a customer from the dropdown (includes both leads and reference customers)","Set the exam date and time","Save to create the scheduled exam"],tip:"The customer dropdown now includes both regular leads and reference sales customers, giving you a complete list of all possible candidates."},{heading:"Managing Scheduled Exams",description:"Track and update exam status as they progress.",steps:["View all scheduled exams on the Task Management page","Use color-coding to quickly identify exam status (pending, completed, overdue)","Click 'Mark Complete' when an exam has been conducted","Edit or reschedule exams as needed using the edit icon","Delete exams that are no longer needed"],tip:"Keep the exam list up to date to ensure nothing falls through the cracks."},{heading:"Exam Follow-up Process",description:"Proper follow-up after exams increases conversion rates.",steps:["After marking an exam as completed, update the related lead or sale with results","Schedule any necessary follow-up tasks","Document exam outcomes in the lead feedback or sales notes","Update the lead status based on exam performance"],tip:"Regular communication after exams builds trust and increases the likelihood of enrollment."},{heading:"Exam Reminder Notifications & Sound Alerts",description:"The system includes automatic exam reminder notifications with sound alerts to ensure you never miss an exam.",steps:["When you schedule an exam, the system automatically sets up reminder notifications","10 minutes before the exam time, you'll receive multiple notifications:"," Browser notification (if permissions are granted)"," Toast notification with exam details"," Sound alert with triple beep pattern"," Modal popup with exam information and direct link","Click the ' Test Sound' button on the Task Management page to test the notification sound","Make sure to interact with the page (click anywhere) first to enable sound in your browser"],tip:"Browser sound policies require user interaction before playing audio. The first time you visit the page, click anywhere to enable sound notifications. The sound will play three beeps: 800Hz, 1000Hz, then 800Hz again for maximum attention."}]},"admin-features":{title:"Admin & Management Tools",icon:"",content:[{heading:"User Management",description:"Admin users can manage system access and roles.",steps:["Navigate to Admin > Manage Users","Create new user accounts with appropriate role assignments","Edit existing user information or reset passwords","Deactivate accounts when necessary"],tip:"Review user activity logs periodically to ensure proper system usage."},{heading:"Data Import & Export",description:"Efficiently move data in and out of the CRM.",steps:["Go to Admin > Import Data","Use the template provided for data formatting","Upload your CSV file with lead or sales information","Review and confirm the data mapping","Process the import and check for any errors"],tip:"Always make a backup export before performing large imports or system changes."},{heading:"Permission Management",description:"Configure role-based permissions for different user types.",steps:["Access the Admin Dashboard","Review current permission settings for each role","Adjust permissions as needed for your organization's workflows","Test permission changes with test accounts before rolling out"],tip:"The system now allows Sales Persons to fully edit their own sales while maintaining appropriate restrictions on other users' data."},{heading:"System Configuration",description:"Customize the CRM to fit your organization's needs.",steps:["Access the Admin Dashboard","Configure notification preferences","Set up automated processes for lead assignment","Customize sales stages and lead statuses"],tip:"Document any configuration changes for future reference."}]},"best-practices":{title:"CRM Best Practices",icon:"",content:[{heading:"Data Quality Management",description:"Maintaining high-quality data is essential for CRM success.",steps:["Regularly update lead and customer information","Remove duplicate records when identified","Use consistent naming conventions","Verify contact information periodically"],tip:"Schedule regular data cleaning sessions to maintain database quality."},{heading:"Managing Reference Customers",description:"Reference customers require special attention for ongoing relationship management.",steps:["Properly tag all reference customers when creating sales","Document the source of the reference in notes","Thank referrers for their recommendations","Provide special attention to reference customers to encourage additional referrals","Track conversion rates from references versus other lead sources"],tip:"Reference customers often have higher conversion rates and retention, so track them separately in your analytics."},{heading:"Effective Follow-up Strategies",description:"Consistent follow-up improves conversion rates.",steps:["Document all customer interactions in the CRM","Set follow-up tasks with clear deadlines","Use templates for common follow-up communications","Analyze response patterns to optimize timing"],tip:"The 'CLIENT REMARK' and 'FEEDBACK' fields are ideal for tracking communication history."},{heading:"Reporting & Analytics",description:"Leverage data insights for better decision-making.",steps:["Use the built-in reporting tools to track performance","Export data for detailed analysis when needed","Track conversion rates from lead to sale","Monitor sales team performance metrics","Compare performance between regular leads and reference customers"],tip:"Regular reporting helps identify trends and opportunities for improvement."}]},"activity-tracking":{title:"Employee Activity Tracking",icon:"",content:[{heading:"Understanding Activity Tracking",description:"The CRM now automatically tracks how much time you spend using the system each day. This helps management understand productivity and usage patterns.",steps:["The system starts tracking automatically when you log in","Timer runs in the background while you use the CRM","Time tracking pauses when you switch to other tabs or applications","Timer resumes automatically when you return to the CRM","Daily totals reset at midnight for accurate daily tracking"],tip:"This system is designed to be completely automatic - you don't need to do anything special to make it work!"},{heading:"What You'll See",description:"The activity timer is visible in your navigation bar and shows real-time information.",steps:["Look for the timer widget in the top navigation bar","You'll see your total time for today (e.g., '2h 30m')","Status indicator shows 'Active' when timer is running or 'Paused' when stopped","Manual pause/resume buttons are available if needed","Time display updates in real-time as you work"],tip:"The timer widget is always visible so you can monitor your daily CRM usage at a glance."},{heading:"How to Use the System",description:"Follow these simple steps for accurate time tracking.",steps:["Step 1: Login as usual - Timer starts automatically","Step 2: Work normally in the CRM - Timer runs in background","Step 3: When you leave CRM (switch tabs) - Timer pauses automatically","Step 4: Return to CRM - Timer resumes automatically","Step 5: Logout when done - Timer stops and saves your daily total"],tip:"The system is designed to be hands-off. Just work normally and let it track your CRM usage automatically."},{heading:"What Gets Tracked",description:"Understanding what counts as active time versus paused time.",steps:["ACTIVE TIME: Working with leads, sales, reports, or any CRM features","ACTIVE TIME: Reading customer information, making updates, or data entry","PAUSED TIME: Switching to other websites, applications, or taking breaks","PAUSED TIME: Phone calls outside the CRM or lunch breaks","PAUSED TIME: Computer going to sleep or being locked"],tip:"Only actual CRM usage time is counted. The system automatically excludes time when you're not actively using the CRM."},{heading:"Manual Controls (Optional)",description:"While the system is automatic, you can manually control the timer if needed.",steps:["Click the 'Pause' button in the timer widget to manually stop tracking","Click 'Resume' to restart the timer when you're ready to continue","Use manual pause for extended breaks or meetings","The system remembers your total time even if you refresh the page","Manual controls are helpful for precise time management"],tip:"Manual controls are optional - the automatic system handles most situations perfectly."},{heading:"Privacy and What Admins See",description:"Understanding what information is tracked and what remains private.",steps:["ADMINS CAN SEE: Daily usage time for each employee (e.g., '6h 45m')","ADMINS CAN SEE: Weekly and monthly activity reports and statistics","ADMINS CANNOT SEE: What specific pages you visit within the CRM","ADMINS CANNOT SEE: Your conversations, emails, or personal information","ADMINS CANNOT SEE: Screen recordings, screenshots, or activity outside CRM"],tip:"The system only tracks time spent in the CRM - your privacy is fully protected for all other activities."},{heading:"Troubleshooting Common Issues",description:"Solutions for common activity tracking problems.",steps:["Timer not starting? Refresh the page (F5) or log out and back in","Timer stuck on 'Paused'? Click the 'Resume' button manually","Time seems incorrect? Check if you switched tabs frequently (this pauses the timer)","Browser issues? Clear your browser cache and cookies","Still having problems? Contact your admin or manager for assistance"],tip:"Most issues are resolved by refreshing the page or using the manual resume button."},{heading:"Best Practices for Accurate Tracking",description:"Tips to ensure your activity time is tracked accurately.",steps:["DO: Keep the CRM tab active when working on CRM tasks","DO: Use manual pause for long breaks or meetings","DO: Log out properly when finished for the day","DON'T: Leave CRM open when not actually working","DON'T: Try to manipulate the system - it's designed to be fair and accurate"],tip:"The system is designed to track actual work time fairly. Just use the CRM normally and let the system do its job."},{heading:"Admin Activity Dashboard",description:"For Admins and Managers: How to access and use the Activity Dashboard.",steps:["Navigate to your Admin Dashboard","Look for the 'Employee Activity Monitoring' card","Click ' Open Activity Dashboard' to access the full dashboard","View today's activity, date ranges, statistics, and employee details","Use the dashboard to monitor team productivity and identify training needs"],tip:"The Activity Dashboard provides comprehensive insights into team CRM usage patterns and productivity metrics."}]}},i=()=>{const l=a[r];return e.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out rounded-lg shadow-md dark:shadow-2xl p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx("span",{className:"text-3xl mr-3",children:l.icon}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200",children:l.title})]}),e.jsx("div",{className:"space-y-8",children:l.content.map((c,u)=>e.jsxs("div",{className:"border-b border-slate-200 dark:border-slate-700 pb-6 last:border-0",children:[e.jsx("h3",{className:"text-xl font-semibold text-blue-700 mb-3",children:c.heading}),e.jsx("p",{className:"text-slate-700 dark:text-slate-300 mb-4",children:c.description}),c.steps&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-200 mb-2",children:"Steps:"}),e.jsx("ol",{className:"list-decimal list-inside space-y-1 text-slate-700 dark:text-slate-300",children:c.steps.map((m,h)=>e.jsx("li",{className:"ml-2",children:m},h))})]}),c.image&&e.jsxs("div",{className:"my-4 border border-slate-200 dark:border-slate-700 rounded-md p-2 bg-gray-50 dark:bg-slate-800 transition-all duration-200 ease-out text-center",children:[e.jsx("img",{src:c.image,alt:c.heading,className:"max-w-full h-auto rounded-md shadow-sm mx-auto",style:{maxHeight:"400px"}}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-gray-400 mt-2",children:"Screenshot reference"})]}),c.tip&&e.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 mt-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-blue-500",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),e.jsx("p",{className:"ml-3 text-sm text-blue-700",children:c.tip})]})})]},u))})]})};return e.jsx(Je,{children:e.jsx("div",{className:"bg-gray-50 dark:bg-slate-800 transition-all duration-200 ease-out min-h-screen py-8",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"mb-8 text-center",children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-100 mb-2",children:"CRM Tutorials"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-500 max-w-2xl mx-auto",children:"Learn how to use TrainCape CRM effectively with these step-by-step tutorials. Select a category below to get started."})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[e.jsxs("div",{className:"md:w-1/4",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out rounded-lg shadow-md dark:shadow-2xl p-4 shadow-sm",children:[e.jsx("h3",{className:"font-bold text-lg mb-4 text-gray-800 dark:text-gray-200",children:"Tutorial Topics"}),e.jsx("nav",{children:e.jsx("ul",{className:"space-y-2",children:Object.keys(a).map(l=>e.jsx("li",{children:e.jsxs("button",{onClick:()=>s(l),className:`w-full text-left px-3 py-2 rounded-md transition-colors ${r===l?"bg-blue-50 text-blue-700 font-medium":"text-gray-700 dark:text-gray-300 dark:text-gray-400 hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:[e.jsx("span",{className:"mr-2",children:a[l].icon}),a[l].title]})},l))})}),e.jsxs("div",{className:"mt-6 border-t border-slate-200 dark:border-slate-700 pt-4",children:[e.jsx("h4",{className:"font-medium text-gray-800 dark:text-gray-200 mb-2",children:"Your Role"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-500",children:t?e.jsxs(e.Fragment,{children:["You are logged in as: ",e.jsx("span",{className:"font-medium",children:t.role}),e.jsx("br",{}),"Tutorials are tailored to features available to your role."]}):e.jsx(e.Fragment,{children:"You are not logged in. Some advanced features may require authentication."})})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-500 to-indigo-600 text-white p-5 rounded-lg shadow-md dark:shadow-black/25 mt-4",children:[e.jsx("h3",{className:"font-bold text-lg mb-2",children:"Need Help?"}),e.jsx("p",{className:"text-sm mb-3",children:"Can't find what you're looking for? Contact our support team for assistance."}),e.jsx(Te,{to:"/support",className:"inline-block bg-white dark:bg-slate-900 transition-all duration-200 ease-out",children:"Contact Support"})]})]}),e.jsxs("div",{className:"md:w-3/4",children:[i(),e.jsxs("div",{className:"mt-6 flex justify-between",children:[e.jsxs("button",{onClick:()=>{const l=Object.keys(a),c=l.indexOf(r);c>0&&s(l[c-1])},disabled:Object.keys(a).indexOf(r)===0,className:`px-4 py-2 flex items-center rounded-md ${Object.keys(a).indexOf(r)===0?"bg-gray-100 dark:bg-slate-700 text-gray-400 dark:text-gray-500 dark:text-gray-400 cursor-not-allowed":"bg-blue-50 text-blue-700 hover:bg-blue-100"}`,children:[e.jsx("svg",{className:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Previous Topic"]}),e.jsxs("button",{onClick:()=>{const l=Object.keys(a),c=l.indexOf(r);c<l.length-1&&s(l[c+1])},disabled:Object.keys(a).indexOf(r)===Object.keys(a).length-1,className:`px-4 py-2 flex items-center rounded-md ${Object.keys(a).indexOf(r)===Object.keys(a).length-1?"bg-gray-100 dark:bg-slate-700 text-gray-400 dark:text-gray-500 dark:text-gray-400 cursor-not-allowed":"bg-blue-50 text-blue-700 hover:bg-blue-100"}`,children:["Next Topic",e.jsx("svg",{className:"h-5 w-5 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})]}),e.jsxs("div",{className:"mt-12",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200 mb-6 text-center",children:"Additional Resources"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out p-5 rounded-lg shadow-md dark:shadow-2xl border-t-4 border-blue-500 shadow-sm",children:[e.jsx("h3",{className:"font-bold text-lg mb-2",children:"Video Tutorials"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-500 mb-4",children:"Watch step-by-step demonstrations of key CRM features."}),e.jsxs("a",{href:"#",className:"text-blue-600 hover:text-blue-800 font-medium inline-flex items-center",children:["Watch now",e.jsx("svg",{className:"h-4 w-4 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out p-5 rounded-lg shadow-md dark:shadow-2xl border-t-4 border-green-500 shadow-sm",children:[e.jsx("h3",{className:"font-bold text-lg mb-2",children:"FAQ Database"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-500 mb-4",children:"Find answers to commonly asked questions about the CRM."}),e.jsxs("a",{href:"#",className:"text-green-600 hover:text-green-800 font-medium inline-flex items-center",children:["View FAQs",e.jsx("svg",{className:"h-4 w-4 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out p-5 rounded-lg shadow-md dark:shadow-2xl border-t-4 border-purple-500 shadow-sm",children:[e.jsx("h3",{className:"font-bold text-lg mb-2",children:"Feature Updates"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-500 mb-4",children:"Stay informed about the latest CRM features and enhancements."}),e.jsxs("a",{href:"#",className:"text-purple-600 hover:text-purple-800 font-medium inline-flex items-center",children:["Read changelog",e.jsx("svg",{className:"h-4 w-4 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]})]})]})]})})})},A1=6048e5,WT=864e5,Xy=Symbol.for("constructDateFrom");function fa(t,r){return typeof t=="function"?t(r):t&&typeof t=="object"&&Xy in t?t[Xy](r):t instanceof Date?new t.constructor(r):new Date(r)}function qr(t,r){return fa(r||t,t)}let qT={};function nd(){return qT}function bi(t,r){var u,m,h,p;const s=nd(),a=(r==null?void 0:r.weekStartsOn)??((m=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:m.weekStartsOn)??s.weekStartsOn??((p=(h=s.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,i=qr(t,r==null?void 0:r.in),l=i.getDay(),c=(l<a?7:0)+l-a;return i.setDate(i.getDate()-c),i.setHours(0,0,0,0),i}function Bc(t,r){return bi(t,{...r,weekStartsOn:1})}function P1(t,r){const s=qr(t,r==null?void 0:r.in),a=s.getFullYear(),i=fa(s,0);i.setFullYear(a+1,0,4),i.setHours(0,0,0,0);const l=Bc(i),c=fa(s,0);c.setFullYear(a,0,4),c.setHours(0,0,0,0);const u=Bc(c);return s.getTime()>=l.getTime()?a+1:s.getTime()>=u.getTime()?a:a-1}function Qy(t){const r=qr(t),s=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return s.setUTCFullYear(r.getFullYear()),+t-+s}function YT(t,...r){const s=fa.bind(null,r.find(a=>typeof a=="object"));return r.map(s)}function Jy(t,r){const s=qr(t,r==null?void 0:r.in);return s.setHours(0,0,0,0),s}function KT(t,r,s){const[a,i]=YT(s==null?void 0:s.in,t,r),l=Jy(a),c=Jy(i),u=+l-Qy(l),m=+c-Qy(c);return Math.round((u-m)/WT)}function GT(t,r){const s=P1(t,r),a=fa(t,0);return a.setFullYear(s,0,4),a.setHours(0,0,0,0),Bc(a)}function XT(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function QT(t){return!(!XT(t)&&typeof t!="number"||isNaN(+qr(t)))}function JT(t,r){const s=qr(t,r==null?void 0:r.in);return s.setFullYear(s.getFullYear(),0,1),s.setHours(0,0,0,0),s}const ZT={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},eA=(t,r,s)=>{let a;const i=ZT[t];return typeof i=="string"?a=i:r===1?a=i.one:a=i.other.replace("{{count}}",r.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+a:a+" ago":a};function Rm(t){return(r={})=>{const s=r.width?String(r.width):t.defaultWidth;return t.formats[s]||t.formats[t.defaultWidth]}}const tA={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},rA={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},sA={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},aA={date:Rm({formats:tA,defaultWidth:"full"}),time:Rm({formats:rA,defaultWidth:"full"}),dateTime:Rm({formats:sA,defaultWidth:"full"})},nA={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},oA=(t,r,s,a)=>nA[t];function Yo(t){return(r,s)=>{const a=s!=null&&s.context?String(s.context):"standalone";let i;if(a==="formatting"&&t.formattingValues){const c=t.defaultFormattingWidth||t.defaultWidth,u=s!=null&&s.width?String(s.width):c;i=t.formattingValues[u]||t.formattingValues[c]}else{const c=t.defaultWidth,u=s!=null&&s.width?String(s.width):t.defaultWidth;i=t.values[u]||t.values[c]}const l=t.argumentCallback?t.argumentCallback(r):r;return i[l]}}const iA={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},lA={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},cA={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dA={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},uA={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},mA={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},hA=(t,r)=>{const s=Number(t),a=s%100;if(a>20||a<10)switch(a%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},fA={ordinalNumber:hA,era:Yo({values:iA,defaultWidth:"wide"}),quarter:Yo({values:lA,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Yo({values:cA,defaultWidth:"wide"}),day:Yo({values:dA,defaultWidth:"wide"}),dayPeriod:Yo({values:uA,defaultWidth:"wide",formattingValues:mA,defaultFormattingWidth:"wide"})};function Ko(t){return(r,s={})=>{const a=s.width,i=a&&t.matchPatterns[a]||t.matchPatterns[t.defaultMatchWidth],l=r.match(i);if(!l)return null;const c=l[0],u=a&&t.parsePatterns[a]||t.parsePatterns[t.defaultParseWidth],m=Array.isArray(u)?gA(u,g=>g.test(c)):pA(u,g=>g.test(c));let h;h=t.valueCallback?t.valueCallback(m):m,h=s.valueCallback?s.valueCallback(h):h;const p=r.slice(c.length);return{value:h,rest:p}}}function pA(t,r){for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&r(t[s]))return s}function gA(t,r){for(let s=0;s<t.length;s++)if(r(t[s]))return s}function xA(t){return(r,s={})=>{const a=r.match(t.matchPattern);if(!a)return null;const i=a[0],l=r.match(t.parsePattern);if(!l)return null;let c=t.valueCallback?t.valueCallback(l[0]):l[0];c=s.valueCallback?s.valueCallback(c):c;const u=r.slice(i.length);return{value:c,rest:u}}}const yA=/^(\d+)(th|st|nd|rd)?/i,bA=/\d+/i,vA={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},wA={any:[/^b/i,/^(a|c)/i]},jA={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},NA={any:[/1/i,/2/i,/3/i,/4/i]},kA={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},SA={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},CA={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},EA={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},TA={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},AA={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},PA={ordinalNumber:xA({matchPattern:yA,parsePattern:bA,valueCallback:t=>parseInt(t,10)}),era:Ko({matchPatterns:vA,defaultMatchWidth:"wide",parsePatterns:wA,defaultParseWidth:"any"}),quarter:Ko({matchPatterns:jA,defaultMatchWidth:"wide",parsePatterns:NA,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ko({matchPatterns:kA,defaultMatchWidth:"wide",parsePatterns:SA,defaultParseWidth:"any"}),day:Ko({matchPatterns:CA,defaultMatchWidth:"wide",parsePatterns:EA,defaultParseWidth:"any"}),dayPeriod:Ko({matchPatterns:TA,defaultMatchWidth:"any",parsePatterns:AA,defaultParseWidth:"any"})},DA={code:"en-US",formatDistance:eA,formatLong:aA,formatRelative:oA,localize:fA,match:PA,options:{weekStartsOn:0,firstWeekContainsDate:1}};function MA(t,r){const s=qr(t,r==null?void 0:r.in);return KT(s,JT(s))+1}function RA(t,r){const s=qr(t,r==null?void 0:r.in),a=+Bc(s)-+GT(s);return Math.round(a/A1)+1}function D1(t,r){var p,g,x,v;const s=qr(t,r==null?void 0:r.in),a=s.getFullYear(),i=nd(),l=(r==null?void 0:r.firstWeekContainsDate)??((g=(p=r==null?void 0:r.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??i.firstWeekContainsDate??((v=(x=i.locale)==null?void 0:x.options)==null?void 0:v.firstWeekContainsDate)??1,c=fa((r==null?void 0:r.in)||t,0);c.setFullYear(a+1,0,l),c.setHours(0,0,0,0);const u=bi(c,r),m=fa((r==null?void 0:r.in)||t,0);m.setFullYear(a,0,l),m.setHours(0,0,0,0);const h=bi(m,r);return+s>=+u?a+1:+s>=+h?a:a-1}function LA(t,r){var u,m,h,p;const s=nd(),a=(r==null?void 0:r.firstWeekContainsDate)??((m=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:m.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(h=s.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,i=D1(t,r),l=fa((r==null?void 0:r.in)||t,0);return l.setFullYear(i,0,a),l.setHours(0,0,0,0),bi(l,r)}function IA(t,r){const s=qr(t,r==null?void 0:r.in),a=+bi(s,r)-+LA(s,r);return Math.round(a/A1)+1}function Xe(t,r){const s=t<0?"-":"",a=Math.abs(t).toString().padStart(r,"0");return s+a}const sa={y(t,r){const s=t.getFullYear(),a=s>0?s:1-s;return Xe(r==="yy"?a%100:a,r.length)},M(t,r){const s=t.getMonth();return r==="M"?String(s+1):Xe(s+1,2)},d(t,r){return Xe(t.getDate(),r.length)},a(t,r){const s=t.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h(t,r){return Xe(t.getHours()%12||12,r.length)},H(t,r){return Xe(t.getHours(),r.length)},m(t,r){return Xe(t.getMinutes(),r.length)},s(t,r){return Xe(t.getSeconds(),r.length)},S(t,r){const s=r.length,a=t.getMilliseconds(),i=Math.trunc(a*Math.pow(10,s-3));return Xe(i,r.length)}},Tn={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Zy={G:function(t,r,s){const a=t.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return s.era(a,{width:"abbreviated"});case"GGGGG":return s.era(a,{width:"narrow"});case"GGGG":default:return s.era(a,{width:"wide"})}},y:function(t,r,s){if(r==="yo"){const a=t.getFullYear(),i=a>0?a:1-a;return s.ordinalNumber(i,{unit:"year"})}return sa.y(t,r)},Y:function(t,r,s,a){const i=D1(t,a),l=i>0?i:1-i;if(r==="YY"){const c=l%100;return Xe(c,2)}return r==="Yo"?s.ordinalNumber(l,{unit:"year"}):Xe(l,r.length)},R:function(t,r){const s=P1(t);return Xe(s,r.length)},u:function(t,r){const s=t.getFullYear();return Xe(s,r.length)},Q:function(t,r,s){const a=Math.ceil((t.getMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return Xe(a,2);case"Qo":return s.ordinalNumber(a,{unit:"quarter"});case"QQQ":return s.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,r,s){const a=Math.ceil((t.getMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return Xe(a,2);case"qo":return s.ordinalNumber(a,{unit:"quarter"});case"qqq":return s.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,r,s){const a=t.getMonth();switch(r){case"M":case"MM":return sa.M(t,r);case"Mo":return s.ordinalNumber(a+1,{unit:"month"});case"MMM":return s.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(a,{width:"wide",context:"formatting"})}},L:function(t,r,s){const a=t.getMonth();switch(r){case"L":return String(a+1);case"LL":return Xe(a+1,2);case"Lo":return s.ordinalNumber(a+1,{unit:"month"});case"LLL":return s.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(a,{width:"wide",context:"standalone"})}},w:function(t,r,s,a){const i=IA(t,a);return r==="wo"?s.ordinalNumber(i,{unit:"week"}):Xe(i,r.length)},I:function(t,r,s){const a=RA(t);return r==="Io"?s.ordinalNumber(a,{unit:"week"}):Xe(a,r.length)},d:function(t,r,s){return r==="do"?s.ordinalNumber(t.getDate(),{unit:"date"}):sa.d(t,r)},D:function(t,r,s){const a=MA(t);return r==="Do"?s.ordinalNumber(a,{unit:"dayOfYear"}):Xe(a,r.length)},E:function(t,r,s){const a=t.getDay();switch(r){case"E":case"EE":case"EEE":return s.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(a,{width:"short",context:"formatting"});case"EEEE":default:return s.day(a,{width:"wide",context:"formatting"})}},e:function(t,r,s,a){const i=t.getDay(),l=(i-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(l);case"ee":return Xe(l,2);case"eo":return s.ordinalNumber(l,{unit:"day"});case"eee":return s.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(i,{width:"short",context:"formatting"});case"eeee":default:return s.day(i,{width:"wide",context:"formatting"})}},c:function(t,r,s,a){const i=t.getDay(),l=(i-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(l);case"cc":return Xe(l,r.length);case"co":return s.ordinalNumber(l,{unit:"day"});case"ccc":return s.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(i,{width:"narrow",context:"standalone"});case"cccccc":return s.day(i,{width:"short",context:"standalone"});case"cccc":default:return s.day(i,{width:"wide",context:"standalone"})}},i:function(t,r,s){const a=t.getDay(),i=a===0?7:a;switch(r){case"i":return String(i);case"ii":return Xe(i,r.length);case"io":return s.ordinalNumber(i,{unit:"day"});case"iii":return s.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(a,{width:"short",context:"formatting"});case"iiii":default:return s.day(a,{width:"wide",context:"formatting"})}},a:function(t,r,s){const i=t.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,r,s){const a=t.getHours();let i;switch(a===12?i=Tn.noon:a===0?i=Tn.midnight:i=a/12>=1?"pm":"am",r){case"b":case"bb":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,r,s){const a=t.getHours();let i;switch(a>=17?i=Tn.evening:a>=12?i=Tn.afternoon:a>=4?i=Tn.morning:i=Tn.night,r){case"B":case"BB":case"BBB":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,r,s){if(r==="ho"){let a=t.getHours()%12;return a===0&&(a=12),s.ordinalNumber(a,{unit:"hour"})}return sa.h(t,r)},H:function(t,r,s){return r==="Ho"?s.ordinalNumber(t.getHours(),{unit:"hour"}):sa.H(t,r)},K:function(t,r,s){const a=t.getHours()%12;return r==="Ko"?s.ordinalNumber(a,{unit:"hour"}):Xe(a,r.length)},k:function(t,r,s){let a=t.getHours();return a===0&&(a=24),r==="ko"?s.ordinalNumber(a,{unit:"hour"}):Xe(a,r.length)},m:function(t,r,s){return r==="mo"?s.ordinalNumber(t.getMinutes(),{unit:"minute"}):sa.m(t,r)},s:function(t,r,s){return r==="so"?s.ordinalNumber(t.getSeconds(),{unit:"second"}):sa.s(t,r)},S:function(t,r){return sa.S(t,r)},X:function(t,r,s){const a=t.getTimezoneOffset();if(a===0)return"Z";switch(r){case"X":return tb(a);case"XXXX":case"XX":return Oa(a);case"XXXXX":case"XXX":default:return Oa(a,":")}},x:function(t,r,s){const a=t.getTimezoneOffset();switch(r){case"x":return tb(a);case"xxxx":case"xx":return Oa(a);case"xxxxx":case"xxx":default:return Oa(a,":")}},O:function(t,r,s){const a=t.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+eb(a,":");case"OOOO":default:return"GMT"+Oa(a,":")}},z:function(t,r,s){const a=t.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+eb(a,":");case"zzzz":default:return"GMT"+Oa(a,":")}},t:function(t,r,s){const a=Math.trunc(+t/1e3);return Xe(a,r.length)},T:function(t,r,s){return Xe(+t,r.length)}};function eb(t,r=""){const s=t>0?"-":"+",a=Math.abs(t),i=Math.trunc(a/60),l=a%60;return l===0?s+String(i):s+String(i)+r+Xe(l,2)}function tb(t,r){return t%60===0?(t>0?"-":"+")+Xe(Math.abs(t)/60,2):Oa(t,r)}function Oa(t,r=""){const s=t>0?"-":"+",a=Math.abs(t),i=Xe(Math.trunc(a/60),2),l=Xe(a%60,2);return s+i+r+l}const rb=(t,r)=>{switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},M1=(t,r)=>{switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},_A=(t,r)=>{const s=t.match(/(P+)(p+)?/)||[],a=s[1],i=s[2];if(!i)return rb(t,r);let l;switch(a){case"P":l=r.dateTime({width:"short"});break;case"PP":l=r.dateTime({width:"medium"});break;case"PPP":l=r.dateTime({width:"long"});break;case"PPPP":default:l=r.dateTime({width:"full"});break}return l.replace("{{date}}",rb(a,r)).replace("{{time}}",M1(i,r))},OA={p:M1,P:_A},FA=/^D+$/,BA=/^Y+$/,UA=["D","DD","YY","YYYY"];function $A(t){return FA.test(t)}function VA(t){return BA.test(t)}function zA(t,r,s){const a=HA(t,r,s);if(console.warn(a),UA.includes(t))throw new RangeError(a)}function HA(t,r,s){const a=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${r}\`) for formatting ${a} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const WA=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,qA=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,YA=/^'([^]*?)'?$/,KA=/''/g,GA=/[a-zA-Z]/;function Lm(t,r,s){var p,g,x,v;const a=nd(),i=a.locale??DA,l=a.firstWeekContainsDate??((g=(p=a.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,c=a.weekStartsOn??((v=(x=a.locale)==null?void 0:x.options)==null?void 0:v.weekStartsOn)??0,u=qr(t,s==null?void 0:s.in);if(!QT(u))throw new RangeError("Invalid time value");let m=r.match(qA).map(w=>{const S=w[0];if(S==="p"||S==="P"){const k=OA[S];return k(w,i.formatLong)}return w}).join("").match(WA).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const S=w[0];if(S==="'")return{isToken:!1,value:XA(w)};if(Zy[S])return{isToken:!0,value:w};if(S.match(GA))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");return{isToken:!1,value:w}});i.localize.preprocessor&&(m=i.localize.preprocessor(u,m));const h={firstWeekContainsDate:l,weekStartsOn:c,locale:i};return m.map(w=>{if(!w.isToken)return w.value;const S=w.value;(VA(S)||$A(S))&&zA(S,r,String(t));const k=Zy[S[0]];return k(u,S,i.localize,h)}).join("")}function XA(t){const r=t.match(YA);return r?r[1].replace(KA,"'"):t}class QA{constructor(){this.audioContext=null,this.initializeAudio()}initializeAudio(){try{this.audioContext=new(window.AudioContext||window.webkitAudioContext)}catch(r){console.warn("Audio context not supported:",r)}}async resumeAudioContext(){this.audioContext&&this.audioContext.state==="suspended"&&await this.audioContext.resume()}playTone(r,s,a=1.3,i="sine"){if(!this.audioContext)return;const l=this.audioContext.createOscillator(),c=this.audioContext.createGain();l.connect(c),c.connect(this.audioContext.destination),l.frequency.value=r,l.type=i,c.gain.setValueAtTime(a,this.audioContext.currentTime),c.gain.exponentialRampToValueAtTime(.01,this.audioContext.currentTime+s/1e3),l.start(this.audioContext.currentTime),l.stop(this.audioContext.currentTime+s/1e3)}async playMessageSound(){try{await this.resumeAudioContext(),this.playTone(800,150,.3,"sine"),setTimeout(()=>{this.playTone(1e3,150,.3,"sine")},100)}catch(r){console.error("Error playing message sound:",r)}}async playGroupMessageSound(){try{await this.resumeAudioContext(),this.playTone(650,120,.25,"sine"),setTimeout(()=>{this.playTone(800,120,.25,"sine")},150),setTimeout(()=>{this.playTone(1e3,120,.25,"sine")},300)}catch(r){console.error("Error playing group message sound:",r)}}async playUrgentSound(){try{await this.resumeAudioContext();for(let r=0;r<3;r++)setTimeout(()=>{this.playTone(1200,100,.4,"square")},r*200)}catch(r){console.error("Error playing urgent sound:",r)}}async playSoftSound(){try{await this.resumeAudioContext(),this.playTone(600,300,.2,"sine")}catch(r){console.error("Error playing soft sound:",r)}}async playSuccessSound(){try{await this.resumeAudioContext(),this.playTone(523,200,.15,"sine"),setTimeout(()=>{this.playTone(659,200,.15,"sine")},100),setTimeout(()=>{this.playTone(784,200,.15,"sine")},200)}catch(r){console.error("Error playing success sound:",r)}}async playErrorSound(){try{await this.resumeAudioContext(),this.playTone(400,300,.3,"sawtooth"),setTimeout(()=>{this.playTone(300,300,.3,"sawtooth")},200)}catch(r){console.error("Error playing error sound:",r)}}isAudioSupported(){return!!this.audioContext}getAudioState(){return this.audioContext?this.audioContext.state:"not-supported"}}const JA=new QA;class ZA{constructor(){this.socket=null,this.isConnected=!1,this.userId=null,this.audioContext=null,this.notificationSound=null,this.sounds=JA,this.isAudioEnabled=!0,this.soundPreferences={messageSound:"message",volume:.3,enableSounds:!0},this.initializeAudio(),this.loadPreferences()}loadPreferences(){try{const r=localStorage.getItem("notificationPreferences");r&&(this.soundPreferences={...this.soundPreferences,...JSON.parse(r)})}catch(r){console.warn("Error loading notification preferences:",r)}}savePreferences(){try{localStorage.setItem("notificationPreferences",JSON.stringify(this.soundPreferences))}catch(r){console.warn("Error saving notification preferences:",r)}}updatePreferences(r){this.soundPreferences={...this.soundPreferences,...r},this.savePreferences()}initializeAudio(){try{this.audioContext=new(window.AudioContext||window.webkitAudioContext),this.createNotificationSound()}catch(r){console.warn("Audio context not supported:",r)}}createNotificationSound(){if(!this.audioContext)return;const r=(s=800,a=200)=>{const i=this.audioContext.createOscillator(),l=this.audioContext.createGain();i.connect(l),l.connect(this.audioContext.destination),i.frequency.value=s,i.type="sine",l.gain.setValueAtTime(.3,this.audioContext.currentTime),l.gain.exponentialRampToValueAtTime(.01,this.audioContext.currentTime+a/1e3),i.start(this.audioContext.currentTime),i.stop(this.audioContext.currentTime+a/1e3)};this.notificationSound=r}async playNotificationSound(r="message"){if(!(!this.soundPreferences.enableSounds||!this.isAudioEnabled))try{switch(r){case"message":await this.sounds.playMessageSound();break;case"group":await this.sounds.playGroupMessageSound();break;case"urgent":await this.sounds.playUrgentSound();break;case"soft":await this.sounds.playSoftSound();break;case"success":await this.sounds.playSuccessSound();break;case"error":await this.sounds.playErrorSound();break;default:await this.sounds.playMessageSound()}}catch(s){console.error("Error playing notification sound:",s),this.playLegacySound()}}playLegacySound(){try{this.audioContext&&this.notificationSound?(this.audioContext.state==="suspended"&&this.audioContext.resume(),this.notificationSound(800,300),setTimeout(()=>this.notificationSound(1e3,300),400),setTimeout(()=>this.notificationSound(800,300),800)):console.log("\x07")}catch(r){console.error("Error playing legacy notification sound:",r)}}connect(r){if(this.isConnected&&this.userId===r)return;this.userId=r;const a="https://crm-trial-backend.onrender.com/api".replace("/api","");console.log(" Connecting to notification server:",a),this.socket=Fn(a,{transports:["websocket","polling"],timeout:2e4,forceNew:!0}),this.socket.on("connect",()=>{console.log(" Connected to notification server"),this.isConnected=!0,this.socket.emit("join-user-room",r),xe.success(" Notifications enabled")}),this.socket.on("disconnect",()=>{console.log(" Disconnected from notification server"),this.isConnected=!1}),this.socket.on("connect_error",i=>{console.error("Connection error:",i),xe.error("Failed to connect to notification server")}),this.socket.on("messageNotification",i=>{this.handleChatMessageNotification(i)}),this.socket.on("exam-reminder",i=>{this.handleExamReminder(i)}),this.socket.on("notification",i=>{this.handleGeneralNotification(i)}),this.socket.on("userStatusUpdate",i=>{this.handleUserStatusUpdate(i)})}handleChatMessageNotification(r){console.log(" Chat message notification received:",r);let s="message";if(r.isGuest?s="urgent":r.isGroup&&(s="group"),this.playNotificationSound(s),this.showBrowserNotification({title:`New message from ${r.senderName}`,body:r.content.substring(0,100)+(r.content.length>100?"...":""),icon:"/favicon.ico",tag:"chat-message",data:{senderId:r.senderId,senderName:r.senderName,type:"chat"}}),!this.isChatWindowOpen()){const a=r.isGuest?` ${r.senderName}: ${r.content.substring(0,50)}${r.content.length>50?"...":""}`:` ${r.senderName}: ${r.content.substring(0,50)}${r.content.length>50?"...":""}`;xe(a,{icon:r.isGuest?"":"",duration:5e3,position:"top-right",style:{background:r.isGuest?"#fef3c7":"#f3f4f6",color:r.isGuest?"#92400e":"#1f2937",border:r.isGuest?"1px solid #d97706":"1px solid #d1d5db"},onClick:()=>{this.focusChatWindow()}})}}handleExamReminder(r){var a;console.log(" Exam reminder received:",r),this.playNotificationSound("urgent"),this.showBrowserNotification({title:r.title,body:r.message,icon:"/favicon.ico",tag:"exam-reminder",requireInteraction:!0,data:{examId:(a=r.examDetails)==null?void 0:a.id,type:"exam"}});const s=` ${r.title}

${r.message}`;xe(s,{duration:3e4,position:"top-center",style:{background:"#fee2e2",border:"2px solid #dc2626",borderRadius:"8px",padding:"16px",maxWidth:"400px",fontSize:"14px",lineHeight:"1.4"},icon:""}),this.showExamModal(r)}handleGeneralNotification(r){console.log(" General notification received:",r);const s=r.urgent?"urgent":"soft";this.playNotificationSound(s),this.showBrowserNotification({title:r.title||"CRM Notification",body:r.message,icon:"/favicon.ico",tag:"general-notification",data:{type:"general"}}),xe(r.message,{icon:r.icon||"",duration:5e3,position:"top-right",style:{background:r.urgent?"#fee2e2":"#f3f4f6",color:r.urgent?"#dc2626":"#1f2937",border:r.urgent?"1px solid #dc2626":"1px solid #d1d5db"}})}handleUserStatusUpdate(r){console.log(" User status update:",r),r.status==="ONLINE"&&this.soundPreferences.enableStatusSounds&&this.playNotificationSound("soft"),r.status==="ONLINE"&&xe(`${r.userName||"User"} is now online`,{icon:"",duration:3e3,position:"bottom-right",style:{background:"#f0f9ff",color:"#0369a1",border:"1px solid #0ea5e9"}})}showBrowserNotification(r){if("Notification"in window&&Notification.permission==="granted"){const s=new Notification(r.title,{body:r.body,icon:r.icon||"/favicon.ico",badge:r.badge||"/favicon.ico",tag:r.tag||"crm-notification",requireInteraction:r.requireInteraction||!1,silent:!1,data:r.data||{}});s.onclick=()=>{var a,i,l;window.focus(),s.close(),((a=r.data)==null?void 0:a.type)==="chat"?this.focusChatWindow():((i=r.data)==null?void 0:i.type)==="exam"&&((l=r.data)!=null&&l.examLink)&&window.open(r.data.examLink,"_blank")},setTimeout(()=>{s.close()},1e4)}}isChatWindowOpen(){return!1}focusChatWindow(){window.dispatchEvent(new CustomEvent("focusChatWindow"))}showExamModal(r){window.dispatchEvent(new CustomEvent("showExamModal",{detail:r}))}async requestNotificationPermission(){if("Notification"in window){const r=await Notification.requestPermission();if(console.log(" Notification permission:",r),r==="granted")return xe.success(" Browser notifications enabled"),!0;if(r==="denied")return xe.error(" Browser notifications blocked"),!1}return!1}setAudioEnabled(r){this.isAudioEnabled=r,this.updatePreferences({enableSounds:r})}testNotificationSound(r="message"){this.playNotificationSound(r)}getPreferences(){return{...this.soundPreferences}}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null),this.isConnected=!1,this.userId=null}getStatus(){return{isConnected:this.isConnected,userId:this.userId,audioSupported:this.sounds.isAudioSupported(),audioState:this.sounds.getAudioState(),soundPreferences:this.soundPreferences}}}const yr=new ZA,rc=()=>localStorage.getItem("token"),eP=()=>{var X;const{user:t}=Fe(),[r,s]=y.useState(localStorage.getItem("token")),[a,i]=y.useState([]),[l,c]=y.useState([]),[u,m]=y.useState(!0),[h,p]=y.useState(!1),[g,x]=y.useState(!1),[v,w]=y.useState(null),[S,k]=y.useState(!1),[E,C]=y.useState(""),[j,A]=y.useState(""),[P,F]=y.useState(""),[T,L]=y.useState([]),[z,q]=y.useState(!1);y.useEffect(()=>{const V=rc();s(V),V||me.error("No authentication token found. Please try logging out and back in.")},[]);const[O,B]=y.useState({title:"",description:"",taskType:"Exam",customer:"",examDate:"",examTime:"",manualCustomerName:"",manualCustomerEmail:"",manualCustomerPhone:"",manualCustomerCourse:""}),U=async()=>{try{if(m(!0),!rc()){me.error("Authentication token missing. Please log in again."),m(!1);return}const de={};j&&(de.date=j),P&&(de.salesPerson=P);const ue=await Sn.getAll(de);if(ue.data&&ue.data.data){console.log("Tasks loaded:",ue.data.data);const le=ue.data.data.map(te=>{if(!te.customer||typeof te.customer=="string"){console.log("Task has unpopulated customer:",te);const pe=l.find(se=>se._id===te.customer);pe&&(te.customer=pe)}return te});i(le)}else i([]),console.log("No tasks found in response")}catch(V){console.error("Error fetching tasks:",V),V.response&&V.response.status===401?me.error("Authentication failed. Please log in again."):me.error("Failed to fetch tasks: "+(V.message||"Unknown error")),i([])}finally{m(!1)}},R=async()=>{if(!((t==null?void 0:t.role)!=="Admin"&&(t==null?void 0:t.role)!=="Manager"))try{q(!0);const V=await Sn.getSalesPersons();V.data&&V.data.data&&L(V.data.data)}catch(V){console.error("Error fetching sales persons:",V),me.error("Failed to fetch sales persons")}finally{q(!1)}},ee=async()=>{var V,de,ue;p(!0);try{if(!rc()){me.error("Authentication token missing. Please log in again."),p(!1);return}const te=await $t.getAll();let pe=[];if((V=te.data)!=null&&V.data&&Array.isArray(te.data.data)?pe=te.data.data:(de=te.data)!=null&&de.leads&&Array.isArray(te.data.leads)?pe=te.data.leads:Array.isArray(te.data)&&(pe=te.data),pe.length>0){c(pe);const se=pe.filter(W=>!W.isReferenceSale).length,we=pe.filter(W=>W.isReferenceSale).length;se===0&&we===0&&me.info("No customer data available")}}catch(le){le.response?le.response.status===401?me.error("Authentication failed. Your session may have expired."):me.error("Could not fetch customer data: "+(((ue=le.response.data)==null?void 0:ue.message)||"Server error")):le.request?me.error("No response from server. Check your connection."):me.error("Error: "+le.message)}finally{p(!1)}};y.useEffect(()=>{r&&(U(),ee(),R())},[r]),y.useEffect(()=>{r&&U()},[j,P]);const J=V=>{const{name:de,value:ue}=V.target;B(le=>({...le,[de]:ue}))},H=async V=>{var de,ue;V.preventDefault();try{if(S){if(!O.manualCustomerName){me.error("Please enter customer name");return}if(!O.manualCustomerPhone){me.error("Please enter customer phone number");return}if(!O.manualCustomerCourse){me.error("Please enter course/exam name");return}}else if(!O.customer){me.error("Please select a customer");return}const le=new Date(`${O.examDate}T${O.examTime}`);let te={title:O.title,description:O.description,taskType:O.taskType,examDate:le,examDateTime:le,assignedTo:t._id,salesPerson:t._id,course:S?O.manualCustomerCourse:O.customer?"Selected Customer Course":"General Course"};S?te.manualCustomer={name:O.manualCustomerName,email:O.manualCustomerEmail,contactNumber:O.manualCustomerPhone,course:O.manualCustomerCourse}:te.customer=O.customer;let pe;v?pe=await Sn.update(v._id,te):pe=await Sn.create(te),pe.data.success?(me.success(v?"Task updated successfully":"Task created successfully"),Z(),U()):me.error(pe.data.message||"Error saving task")}catch(le){le.response?le.response.status===401?me.error("Authentication failed. Please log out and log back in."):me.error(((ue=(de=le.response)==null?void 0:de.data)==null?void 0:ue.message)||"Failed to save task"):me.error("Network error - could not connect to server")}},K=V=>{var se;console.log("Editing task:",V);const de=Lm(new Date(V.examDate),"yyyy-MM-dd"),ue=Lm(new Date(V.examDate),"HH:mm"),le=((se=V.customer)==null?void 0:se.isManualEntry)||!V.customer&&V.manualCustomer;let te="";!le&&V.customer&&(typeof V.customer=="string"?te=V.customer:V.customer._id&&V.customer._id!=="manual"&&(te=V.customer._id)),k(le);const pe=le?V.manualCustomer||V.customer:null;B({title:V.title,description:V.description,taskType:V.taskType||"Exam",customer:te,examDate:de,examTime:ue,manualCustomerName:(pe==null?void 0:pe.name)||"",manualCustomerEmail:(pe==null?void 0:pe.email)||"",manualCustomerPhone:(pe==null?void 0:pe.contactNumber)||"",manualCustomerCourse:(pe==null?void 0:pe.course)||""}),w(V),x(!0),!le&&!te&&me.warning("Customer data may be incomplete. Please select a customer again.")},I=async V=>{var de;if(window.confirm("Are you sure you want to delete this task?"))try{const ue=await Sn.delete(V);ue.data&&ue.data.success?(me.success("Task deleted successfully"),U()):me.error(((de=ue.data)==null?void 0:de.message)||"Failed to delete task")}catch(ue){ue.response&&ue.response.status===401?me.error("Authentication failed. Please log in again."):me.error("Failed to delete task")}},G=async(V,de)=>{var ue;try{const le=await Sn.markCompleted(V,de);le.data&&le.data.success?(me.success("Task status updated"),U()):me.error(((ue=le.data)==null?void 0:ue.message)||"Failed to update task status")}catch(le){le.response&&le.response.status===401?me.error("Authentication failed. Please log in again."):me.error("Failed to update task status")}},_=V=>{const de=new Date(V);return Lm(de,"MMM dd, yyyy 'at' h:mm a")},M=V=>{if(!V)return"No Name";if(console.log("Getting name for lead:",V),typeof V=="string")return`Customer (ID: ${V.substring(0,6)}...)`;if(!Object.keys(V).length)return"Unknown Customer";let de="";const ue=["name","NAME","customerName","fullName"];for(const te of ue)if(V[te]&&typeof V[te]=="string"&&V[te].trim()!==""){de=V[te];break}if(!de){const te=Object.keys(V).filter(pe=>pe.toLowerCase().includes("name")&&V[pe]&&typeof V[pe]=="string"&&V[pe].trim()!=="");te.length>0&&(de=V[te[0]])}if((!de||de==="Unnamed Customer")&&(V.course||V.COURSE?de=`Student for ${V.course||V.COURSE}`:V._id?de=`Customer ${V._id.substring(0,6)}...`:de="Unnamed Customer"),V.isReferenceSale)return`${de} [Reference]`;const le=V.course||V.COURSE;return le&&!de.includes(le)?`${de} (${le})`:de},Z=()=>{B({title:"",description:"",taskType:"Exam",customer:"",examDate:"",examTime:"",manualCustomerName:"",manualCustomerEmail:"",manualCustomerPhone:"",manualCustomerCourse:""}),w(null),k(!1),C("")};return e.jsx(Je,{children:e.jsx("div",{className:"bg-gray-50 dark:bg-slate-800 transition-all duration-200 ease-out min-h-screen py-4 md:py-8",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6 gap-3",children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-800 dark:text-gray-200",children:"Task Management"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{console.log(" Testing notification sound..."),yr.playNotificationSound(),me.success(" Test sound played! (You need to interact with the page first for sound to work)")},className:"w-full sm:w-auto px-3 py-2 bg-orange-500 text-white rounded-md hover:bg-orange-600 text-sm sm:text-base flex items-center gap-2",title:"Test the exam reminder sound",children:" Test Sound"}),e.jsx("button",{onClick:()=>{Z(),x(!0)},className:"w-full sm:w-auto px-4 py-2 bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 shadow-sm dark:shadow-xl hover:shadow-md transition-all duration-200 text-white rounded-md text-sm sm:text-base",children:"Schedule New Exam"})]})]}),e.jsxs("div",{className:"mb-6 p-4 bg-white dark:bg-slate-900 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-end",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Filter by Date"}),e.jsx("input",{type:"date",value:j,onChange:V=>A(V.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-800 dark:text-white"})]}),((t==null?void 0:t.role)==="Admin"||(t==null?void 0:t.role)==="Manager")&&e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Filter by Sales Person"}),e.jsxs("select",{value:P,onChange:V=>F(V.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-slate-800 dark:text-white",disabled:z,children:[e.jsx("option",{value:"",children:"All Sales Persons"}),T.map(V=>e.jsxs("option",{value:V._id,children:[V.fullName," (",V.role,")"]},V._id))]})]}),e.jsx("div",{className:"flex gap-2",children:e.jsx("button",{onClick:()=>{A(""),F("")},className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-slate-700 hover:bg-gray-200 dark:hover:bg-slate-600 rounded-md transition-colors",children:"Clear Filters"})})]}),(j||P)&&e.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Active filters:"}),j&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:["Date: ",new Date(j).toLocaleDateString(),e.jsx("button",{onClick:()=>A(""),className:"ml-1 text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-200",children:""})]}),P&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:["Sales Person: ",((X=T.find(V=>V._id===P))==null?void 0:X.fullName)||"Unknown",e.jsx("button",{onClick:()=>F(""),className:"ml-1 text-green-600 hover:text-green-800 dark:text-green-400 dark:hover:text-green-200",children:""})]})]})]}),!rc()&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 text-red-700 border border-red-200 rounded-md text-sm",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Authentication Error"}),e.jsx("p",{className:"text-sm",children:"No authentication token found. Please log out and log back in to refresh your session."}),e.jsx("button",{onClick:()=>window.location.href="/login",className:"mt-2 px-3 py-1 bg-red-600 text-white text-xs rounded hover:bg-red-700",children:"Go to Login"})]})]})}),u?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-4 border-blue-500 border-t-transparent"}),e.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-500",children:"Loading tasks..."})]}):a.length===0?e.jsxs("div",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out p-4 sm:p-8 rounded-md shadow text-center",children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-500",children:"No tasks scheduled yet."}),e.jsx("p",{className:"mt-2 text-sm text-slate-500 dark:text-gray-400",children:'Click "Schedule New Exam" to create your first task.'})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:a.map(V=>e.jsxs("div",{className:`bg-white dark:bg-slate-900 rounded-lg shadow p-4 border-l-4 ${V.completed?"border-green-500":new Date(V.examDate)<new Date?"border-red-500":"border-blue-500"}`,children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("h3",{className:"font-bold text-base sm:text-lg mb-2",children:V.title}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>K(V),className:"p-1 text-blue-600 hover:text-blue-800",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 sm:h-5 sm:w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})})}),e.jsx("button",{onClick:()=>I(V._id),className:"p-1 text-red-600 hover:text-red-800",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 sm:h-5 sm:w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})]}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-500 mb-3",children:V.description}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex items-center mb-1",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 sm:h-4 sm:w-4 text-slate-500 dark:text-gray-400 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),e.jsx("p",{className:"text-xs sm:text-sm text-slate-700 dark:text-slate-300",children:M(V.customer)})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 sm:h-4 sm:w-4 text-slate-500 dark:text-gray-400 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),e.jsx("p",{className:"text-xs sm:text-sm text-slate-700 dark:text-slate-300",children:_(V.examDate)})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mt-4 pt-3 border-t border-gray-100 gap-2",children:[e.jsx("span",{className:`text-xs px-2 py-1 rounded mb-2 sm:mb-0 ${V.completed?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:V.completed?"Completed":"Pending"}),e.jsx("button",{onClick:()=>G(V._id,!V.completed),className:`text-xs w-full sm:w-auto px-3 py-1 rounded-full ${V.completed?"bg-gray-200 dark:bg-slate-600 text-gray-700 dark:text-gray-300 dark:text-gray-400 hover:bg-gray-300":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:V.completed?"Mark Incomplete":"Mark Complete"})]})]},V._id))}),g&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:e.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out rounded-lg shadow-lg dark:shadow-lg w-full max-w-md my-8 shadow-sm",children:[e.jsx("div",{className:"p-4 sm:p-5 border-b border-slate-200 dark:border-slate-700",children:e.jsx("h3",{className:"font-bold text-base sm:text-lg",children:v?"Edit Task":"Schedule New Exam"})}),e.jsxs("form",{onSubmit:H,className:"p-4 sm:p-5",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-slate-700 dark:text-slate-300 text-xs sm:text-sm font-medium mb-2",children:"Title"}),e.jsx("input",{type:"text",name:"title",value:O.title,onChange:J,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500 text-sm",placeholder:"Exam Title",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-slate-700 dark:text-slate-300 text-xs sm:text-sm font-medium mb-2",children:"Description"}),e.jsx("textarea",{name:"description",value:O.description,onChange:J,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500 text-sm",placeholder:"Exam details",rows:"3"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("label",{className:"block text-slate-700 dark:text-slate-300 text-xs sm:text-sm font-medium",children:"Customer"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-500 mr-2",children:"Manual Entry"}),e.jsx("button",{type:"button",onClick:()=>k(!S),className:`relative inline-flex h-5 w-10 items-center rounded-full transition-colors focus:outline-none ${S?"bg-blue-600":"bg-gray-200 dark:bg-slate-600"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white dark:bg-slate-900 transition-transform ${S?"translate-x-5":"translate-x-1"}`})})]})]}),S?e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{children:e.jsx("input",{type:"text",name:"manualCustomerName",value:O.manualCustomerName,onChange:J,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500 text-sm",placeholder:"Customer Name *",required:!0})}),e.jsx("div",{children:e.jsx("input",{type:"email",name:"manualCustomerEmail",value:O.manualCustomerEmail,onChange:J,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500 text-sm",placeholder:"Email Address"})}),e.jsx("div",{children:e.jsx("input",{type:"tel",name:"manualCustomerPhone",value:O.manualCustomerPhone,onChange:J,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500 text-sm",placeholder:"Phone Number *",required:!0})}),e.jsx("div",{children:e.jsx("input",{type:"text",name:"manualCustomerCourse",value:O.manualCustomerCourse,onChange:J,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500 text-sm",placeholder:"Course/Exam Name *",required:!0})})]}):e.jsxs("div",{children:[e.jsx("div",{className:"mb-2",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Search leads by name, email, or course...",value:E,onChange:V=>C(V.target.value),className:"w-full px-3 py-2 pl-9 border border-slate-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500 text-sm"}),e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-gray-400 dark:text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})}),e.jsxs("select",{name:"customer",value:O.customer,onChange:J,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500 text-sm",required:!0,children:[e.jsx("option",{value:"",children:"Select Customer"}),(()=>{const V=l.filter(le=>{if(!E)return!0;const te=E.toLowerCase(),pe=(le.name||le.NAME||"").toLowerCase(),se=(le.email||le.EMAIL||le["E-MAIL"]||"").toLowerCase(),we=(le.course||le.COURSE||"").toLowerCase(),W=(le.contactNumber||le.phone||le.MOBILE||le.NUMBER||"").toLowerCase();return pe.includes(te)||se.includes(te)||we.includes(te)||W.includes(te)}),de=V.filter(le=>!le.isReferenceSale),ue=V.filter(le=>le.isReferenceSale);return e.jsxs(e.Fragment,{children:[de.length>0&&e.jsx("optgroup",{label:`Leads (${de.length})`,children:de.map(le=>e.jsxs("option",{value:le._id,children:[le.name||le.NAME||"Unknown"," - ",le.course||le.COURSE||"No course",le.status?` (${le.status})`:""]},le._id))}),ue.length>0&&e.jsx("optgroup",{label:`Reference Customers (${ue.length})`,children:ue.map(le=>e.jsxs("option",{value:le._id,children:[le.name||"Unknown"," - ",le.course||"No course",le.status?` (${le.status})`:""," [Reference]"]},le._id))}),V.length===0&&e.jsx("option",{disabled:!0,value:"",children:"No leads match your search"})]})})()]}),h?e.jsx("p",{className:"mt-1 text-xs text-slate-500 dark:text-gray-400",children:"Loading customers..."}):e.jsxs("p",{className:"mt-1 text-xs text-slate-500 dark:text-gray-400",children:[l.filter(V=>!V.isReferenceSale).length," leads +",l.filter(V=>V.isReferenceSale).length," reference customers available",E&&e.jsx("button",{type:"button",onClick:()=>C(""),className:"ml-2 text-blue-600 hover:text-blue-800",children:"Clear search"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-slate-700 dark:text-slate-300 text-xs sm:text-sm font-medium mb-2",children:"Exam Date"}),e.jsx("input",{type:"date",name:"examDate",value:O.examDate,onChange:J,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500 text-sm",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-slate-700 dark:text-slate-300 text-xs sm:text-sm font-medium mb-2",children:"Exam Time"}),e.jsx("input",{type:"time",name:"examTime",value:O.examTime,onChange:J,className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:border-blue-400 focus:ring-offset-2 focus:border-blue-500 text-sm",required:!0})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-end sm:space-x-3 mt-6 space-y-2 sm:space-y-0",children:[e.jsx("button",{type:"button",onClick:()=>x(!1),className:"w-full sm:w-auto px-4 py-2 bg-gray-200 dark:bg-slate-600 text-gray-800 dark:text-gray-200 rounded-md hover:bg-gray-300 text-sm order-2 sm:order-1",children:"Cancel"}),e.jsx("button",{type:"submit",className:"w-full sm:w-auto px-4 py-2 bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 shadow-sm dark:shadow-xl hover:shadow-md transition-all duration-200 text-white rounded-md text-sm order-1 sm:order-2",children:v?"Update Task":"Create Task"})]})]})]})})]})})})},tP=()=>{const{user:t}=Fe(),[r,s]=y.useState([]),[a,i]=y.useState({totalRepeatCustomers:0,totalLeads:0,averageCoursesPerCustomer:0}),[l,c]=y.useState(!0),[u,m]=y.useState(null),[h,p]=y.useState(null);y.useEffect(()=>{g()},[]);const g=async()=>{try{c(!0);const w=await $t.getRepeatCustomers();w.data.success?(s(w.data.data),i(w.data.stats),m(null)):m("Failed to load repeat customer data")}catch(w){console.error("Error fetching repeat customers:",w),m("Failed to load repeat customer data. Please try again.")}finally{c(!1)}},x=w=>new Date(w).toLocaleDateString(),v=w=>{p(h===w?null:w)};return e.jsx(Je,{children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Repeat Customers"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out p-6 rounded-lg shadow-md dark:shadow-2xl shadow-sm",children:[e.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-gray-400",children:"Total Repeat Customers"}),e.jsx("p",{className:"text-3xl font-bold text-blue-600",children:a.totalRepeatCustomers})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out p-6 rounded-lg shadow-md dark:shadow-2xl shadow-sm",children:[e.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-gray-400",children:"Total Courses Purchased"}),e.jsx("p",{className:"text-3xl font-bold text-green-600",children:a.totalLeads})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out p-6 rounded-lg shadow-md dark:shadow-2xl shadow-sm",children:[e.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-gray-400",children:"Avg. Courses per Customer"}),e.jsx("p",{className:"text-3xl font-bold text-purple-600",children:a.averageCoursesPerCustomer})]})]}),u&&e.jsx("div",{className:"mb-4 p-4 bg-red-50 text-red-700 border border-red-200 rounded-md",children:u}),l?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx(Jt,{size:55,text:"Loading repeat customers...",particleCount:2,speed:1.4,hueRange:[240,300]})}):e.jsx(e.Fragment,{children:r.length===0?e.jsx("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out p-6 rounded-lg shadow-md dark:shadow-2xl text-center shadow-sm",children:e.jsx("p",{className:"text-slate-500 dark:text-gray-400",children:"No repeat customers found."})}):e.jsx("div",{className:"space-y-4",children:r.map((w,S)=>e.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out rounded-lg shadow-md dark:shadow-2xl overflow-hidden shadow-sm",children:[e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-slate-800 transition-all duration-200 ease-out border-b border-slate-200 dark:border-slate-700 flex justify-between items-center cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700",onClick:()=>v(S),children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium",children:w.customerInfo.name}),e.jsxs("p",{className:"text-sm text-slate-500 dark:text-gray-400",children:[w.customerInfo.email&&e.jsx("span",{className:"mr-3",children:w.customerInfo.email}),w.customerInfo.phone&&e.jsxs("span",{children:[w.customerInfo.countryCode," ",w.customerInfo.phone]})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-purple-100 text-purple-800 mr-3",children:[w.leads.length," courses"]}),e.jsx("svg",{className:`h-5 w-5 text-gray-500 dark:text-gray-400 dark:text-gray-400 transform ${h===S?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),h===S&&e.jsxs("div",{className:"p-4",children:[e.jsx("h4",{className:"text-md font-medium mb-2",children:"Course History"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-slate-800 transition-all duration-200 ease-out",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Course"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Date"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Sales Person"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out divide-y divide-slate-200 dark:divide-slate-700",children:w.leads.map((k,E)=>e.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800 dark:bg-slate-800 transition-all duration-200 ease-out",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-900 dark:text-slate-100",children:k.course}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-gray-400",children:x(k.createdAt)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-gray-400",children:k.salesPerson})]},E))})]})})]})]},S))})})]})})};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rP=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),sP=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,s,a)=>a?a.toUpperCase():s.toLowerCase()),sb=t=>{const r=sP(t);return r.charAt(0).toUpperCase()+r.slice(1)},R1=(...t)=>t.filter((r,s,a)=>!!r&&r.trim()!==""&&a.indexOf(r)===s).join(" ").trim(),aP=t=>{for(const r in t)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var nP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oP=y.forwardRef(({color:t="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:i="",children:l,iconNode:c,...u},m)=>y.createElement("svg",{ref:m,...nP,width:r,height:r,stroke:t,strokeWidth:a?Number(s)*24/Number(r):s,className:R1("lucide",i),...!l&&!aP(u)&&{"aria-hidden":"true"},...u},[...c.map(([h,p])=>y.createElement(h,p)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=(t,r)=>{const s=y.forwardRef(({className:a,...i},l)=>y.createElement(oP,{ref:l,iconNode:r,className:R1(`lucide-${rP(sb(t))}`,`lucide-${t}`,a),...i}));return s.displayName=sb(t),s};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iP=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],ab=Dt("award",iP);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]],cP=Dt("ban",lP);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dP=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],nb=Dt("building",dP);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uP=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ob=Dt("calendar",uP);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mP=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],hP=Dt("circle-check-big",mP);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Im=Dt("clock",fP);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pP=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],gP=Dt("external-link",pP);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xP=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],yP=Dt("eye",xP);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bP=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],$r=Dt("file-text",bP);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],wP=Dt("globe",vP);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jP=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],_m=Dt("graduation-cap",jP);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NP=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],kP=Dt("indian-rupee",NP);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SP=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],CP=Dt("mail",SP);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EP=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],TP=Dt("map-pin",EP);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AP=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],PP=Dt("message-circle",AP);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DP=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],ib=Dt("phone",DP);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MP=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],RP=Dt("refresh-cw",MP);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LP=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],sc=Dt("user",LP);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IP=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],_P=Dt("x",IP),OP=[{name:"United States",code:"US",status:"allowed"},{name:"United Kingdom",code:"UK",status:"allowed"},{name:"France",code:"FR",status:"allowed"},{name:"Italy",code:"IT",status:"allowed"},{name:"Spain",code:"ES",status:"allowed"},{name:"Portugal",code:"PT",status:"allowed"},{name:"Greece",code:"GR",status:"allowed"},{name:"Brazil",code:"BR",status:"allowed"},{name:"Argentina",code:"AR",status:"allowed"},{name:"Chile",code:"CL",status:"allowed"},{name:"Mexico",code:"MX",status:"allowed"},{name:"Colombia",code:"CO",status:"allowed"},{name:"Peru",code:"PE",status:"allowed"},{name:"Venezuela",code:"VE",status:"allowed"},{name:"Ecuador",code:"EC",status:"allowed"},{name:"Bolivia",code:"BO",status:"allowed"},{name:"Paraguay",code:"PY",status:"allowed"},{name:"Uruguay",code:"UY",status:"allowed"},{name:"Saudi Arabia",code:"SA",status:"allowed"},{name:"United Arab Emirates",code:"AE",status:"allowed"},{name:"Qatar",code:"QA",status:"allowed"},{name:"Kuwait",code:"KW",status:"allowed"},{name:"Bahrain",code:"BH",status:"allowed"},{name:"Oman",code:"OM",status:"allowed"},{name:"Jordan",code:"JO",status:"allowed"},{name:"Canada",code:"CA",status:"allowed"},{name:"Ukraine",code:"UA",status:"allowed"},{name:"Switzerland",code:"CH",status:"allowed"},{name:"Singapore",code:"SG",status:"allowed"},{name:"Romania",code:"RO",status:"allowed"},{name:"Netherlands",code:"NL",status:"allowed"},{name:"New Zealand",code:"NZ",status:"allowed"},{name:"Pakistan",code:"PK",status:"blocked"},{name:"Sri Lanka",code:"LK",status:"blocked"},{name:"Nepal",code:"NP",status:"blocked"},{name:"China",code:"CN",status:"blocked"},{name:"Hong Kong",code:"HK",status:"blocked"},{name:"Russia",code:"RU",status:"blocked"},{name:"Philippines",code:"PH",status:"blocked"},{name:"Japan",code:"JP",status:"blocked"},{name:"Vietnam",code:"VN",status:"blocked"},{name:"Bangladesh",code:"BD",status:"blocked"},{name:"Afghanistan",code:"AF",status:"blocked"},{name:"Tajikistan",code:"TJ",status:"blocked"},{name:"Kazakhstan",code:"KZ",status:"blocked"},{name:"Kyrgyzstan",code:"KG",status:"blocked"},{name:"Turkmenistan",code:"TM",status:"blocked"},{name:"Papua New Guinea",code:"PG",status:"blocked"},{name:"Myanmar",code:"MM",status:"blocked"},{name:"Indonesia",code:"ID",status:"blocked"},{name:"Iran",code:"IR",status:"blocked"},{name:"Iraq",code:"IQ",status:"blocked"},{name:"Israel",code:"IL",status:"blocked"},{name:"Lebanon",code:"LB",status:"blocked"},{name:"Palestine",code:"PS",status:"blocked"},{name:"Syria",code:"SY",status:"blocked"},{name:"Turkey",code:"TR",status:"blocked"},{name:"Yemen",code:"YE",status:"blocked"},{name:"Zimbabwe",code:"ZW",status:"blocked"}],FP=()=>{const[t,r]=y.useState("all"),s=OP.filter(a=>t==="all"?!0:a.status===t);return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Lead Geo-Permission Matrix "}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{className:`px-4 py-2 rounded-xl ${t==="all"?"bg-blue-600 text-white":"bg-gray-200 dark:bg-slate-600"}`,onClick:()=>r("all"),children:"All"}),e.jsx("button",{className:`px-4 py-2 rounded-xl ${t==="allowed"?"bg-green-600 text-white":"bg-gray-200 dark:bg-slate-600"}`,onClick:()=>r("allowed"),children:"Allowed "}),e.jsx("button",{className:`px-4 py-2 rounded-xl ${t==="blocked"?"bg-red-600 text-white":"bg-gray-200 dark:bg-slate-600"}`,onClick:()=>r("blocked"),children:"Blocked "})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(a=>e.jsx(Ye,{className:"rounded-2xl shadow-md dark:shadow-black/25",children:e.jsxs(We,{className:"p-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold",children:a.name}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-500",children:["Code: ",a.code]})]}),a.status==="allowed"?e.jsx(hP,{className:"text-green-500 w-6 h-6"}):e.jsx(cP,{className:"text-red-500 w-6 h-6"})]})},a.code))})]})},BP=()=>{const t=[{id:1,name:"Parichay Singh",position:"CEO & Founder",email:"sales@traincapetech.info",phone:"+91 6280281505",linkedin:"https://www.linkedin.com/in/parichay-singh-rana?lipi=urn%3Ali%3Apage%3Ad_flagship3_profile_view_base_contact_details%3B%2BLVd4W1EQj2KhxGQFwlQuQ%3D%3D",image:"https://i.pravatar.cc/300?img=11",icon:e.jsx(kv,{className:"text-3xl text-blue-700"})},{id:2,name:"Shivam Singh",position:"Operations Manager",email:"shivam@traincapetech.in",phone:"+91 9354364160",image:"https://i.pravatar.cc/300?img=13",icon:e.jsx(Ot,{className:"text-3xl text-green-600"})},{id:3,name:"Saurav Kumar",position:"Technical Lead",email:"saurav@traincapetech.in",phone:"+62 852-8223-3601",image:"https://i.pravatar.cc/300?img=12",icon:e.jsx(yv,{className:"text-3xl text-purple-600"})}];return e.jsxs(Je,{children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 py-10",children:e.jsxs("div",{className:"container mx-auto px-4 text-center text-white",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Management Contacts"}),e.jsx("p",{className:"text-lg max-w-2xl mx-auto",children:"Meet our leadership team at TrainCape Technology. Reach out to us directly for any questions or inquiries."})]})}),e.jsxs("div",{className:"container mx-auto px-4 py-12",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:t.map(r=>e.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out-transform hover:-translate-y-1 hover:shadow-xl shadow-sm",children:[e.jsx("div",{className:"bg-gray-100 dark:bg-slate-700 p-6 flex justify-center",children:r.image?e.jsx("img",{src:r.image,alt:r.name,className:"h-32 w-32 rounded-full object-cover border-4 border-white shadow-md dark:shadow-black/25"}):e.jsx("div",{className:"h-32 w-32 rounded-full bg-blue-100 flex items-center justify-center",children:r.icon||e.jsx(Ot,{className:"text-4xl text-blue-600"})})}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-gray-200",children:r.name}),e.jsx("p",{className:"text-blue-600 font-medium mb-4",children:r.position}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ls,{className:"text-blue-600 mr-3"}),e.jsx("a",{href:`mailto:${r.email}`,className:"text-slate-700 dark:text-slate-300 hover:text-blue-600 transition",children:r.email})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(j3,{className:"text-blue-600 mr-3"}),e.jsx("a",{href:`tel:${r.phone}`,className:"text-slate-700 dark:text-slate-300 hover:text-blue-600 transition",children:r.phone})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(nh,{className:"text-blue-600 mr-3"}),e.jsx("a",{href:r.linkedin,target:"_blank",rel:"noopener noreferrer",className:"text-slate-700 dark:text-slate-300 hover:text-blue-600 transition",children:"LinkedIn Profile"})]})]})]})]},r.id))}),e.jsxs("div",{className:"mt-16 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out rounded-lg shadow-lg dark:shadow-lg p-8 shadow-sm",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200 mb-6",children:"General Contact Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-slate-700 dark:text-slate-300 mb-3",children:"Main Office"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-500 mb-1",children:"Khandolia Plaza, 118C, Dabri - Palam Rd, Vaishali, Vaishali Colony, Dashrath Puri"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-500 mb-1",children:"New Delhi, Delhi, 110045"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-500",children:"India"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-slate-700 dark:text-slate-300 mb-3",children:"Contact Details"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-500 mb-1",children:[e.jsx("span",{className:"font-medium",children:"General Inquiries:"})," sales@traincapetech.in"]}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-500 mb-1",children:[e.jsx("span",{className:"font-medium",children:"Customer Support:"})," sales@traincapetech.in"]}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-500 mb-1",children:[e.jsx("span",{className:"font-medium",children:"Phone:"})," +91 6280281505"]}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-500",children:[e.jsx("span",{className:"font-medium",children:"Working Hours:"})," Monday-Saturday, 11AM-7PM IST"]})]})]}),e.jsxs("div",{className:"mt-8",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-700 dark:text-slate-300 mb-3",children:"Send Us a Message"}),e.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4",children:e.jsx("p",{className:"text-blue-700",children:"For any questions or inquiries, please feel free to reach out to our team through the contact information provided above. We strive to respond to all messages within 24 business hours."})})]})]})]})]})},UP=()=>{const{user:t}=Fe(),[r,s]=y.useState([]),[a,i]=y.useState(!1),[l,c]=y.useState(null);y.useEffect(()=>{const v=()=>{const S=yr.getStatus();c(S)};v();const w=setInterval(v,2e3);return()=>clearInterval(w)},[]);const u=async()=>{try{i(!0);const w=await(await fetch("/api/test-exam/upcoming-exams")).json();w.success?s(w.data):xe.error("Failed to fetch upcoming exams")}catch(v){console.error("Error fetching upcoming exams:",v),xe.error("Error fetching upcoming exams")}finally{i(!1)}},m=async(v=11)=>{try{i(!0);const S=await(await fetch("/api/test-exam/create-exam",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({course:`React Development ${Date.now()}`,minutesFromNow:v,userEmail:t.email})})).json();S.success?(xe.success(S.message),u()):xe.error(S.message)}catch(w){console.error("Error creating test exam:",w),xe.error("Error creating test exam")}finally{i(!1)}},h=async()=>{try{i(!0);const w=await(await fetch("/api/test-exam/trigger-notifications",{method:"POST"})).json();w.success?xe.success("Notification check triggered!"):xe.error(w.message)}catch(v){console.error("Error triggering notifications:",v),xe.error("Error triggering notifications")}finally{i(!1)}},p=async()=>{try{i(!0);const w=await(await fetch("/api/test-exam/cleanup-test-exams",{method:"DELETE"})).json();w.success?(xe.success(w.message),u()):xe.error(w.message)}catch(v){console.error("Error cleaning up test exams:",v),xe.error("Error cleaning up test exams")}finally{i(!1)}},g=()=>{yr.playNotificationSound(),xe.success(" Audio test played!")},x=async()=>{await yr.requestNotificationPermission()?xe.success(" Notification permission granted!"):xe.error(" Notification permission denied")};return y.useEffect(()=>{u()},[]),e.jsx(Je,{children:e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-800 dark:text-gray-200 mb-8",children:" Exam Notification Testing"}),e.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out rounded-lg shadow-md dark:shadow-2xl p-6 mb-6 shadow-sm",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:" Connection Status"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`w-3 h-3 rounded-full ${l!=null&&l.isConnected?"bg-green-500":"bg-red-500"}`}),e.jsx("span",{className:"font-medium",children:"WebSocket:"}),e.jsx("span",{className:l!=null&&l.isConnected?"text-green-600":"text-red-600",children:l!=null&&l.isConnected?"Connected":"Disconnected"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-medium",children:"User ID:"}),e.jsx("span",{className:"text-gray-600 dark:text-gray-500",children:(l==null?void 0:l.userId)||"Not set"})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out rounded-lg shadow-md dark:shadow-2xl p-6 mb-6 shadow-sm",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:" Test Controls"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsx("button",{onClick:()=>m(11),disabled:a,className:"bg-blue-500 hover:bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 shadow-sm dark:shadow-xl hover:shadow-md transition-all duration-200 text-white px-4 py-2 rounded-lg disabled:opacity-50",children:" Create Test Exam (11 min)"}),e.jsx("button",{onClick:()=>m(2),disabled:a,className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg disabled:opacity-50",children:" Quick Test (2 min)"}),e.jsx("button",{onClick:h,disabled:a,className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg disabled:opacity-50",children:" Trigger Notifications"}),e.jsx("button",{onClick:g,disabled:a,className:"bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded-lg disabled:opacity-50",children:" Test Audio"}),e.jsx("button",{onClick:x,disabled:a,className:"bg-indigo-500 hover:bg-indigo-600 text-white px-4 py-2 rounded-lg disabled:opacity-50",children:" Request Permission"}),e.jsx("button",{onClick:p,disabled:a,className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg disabled:opacity-50",children:" Cleanup Test Exams"})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out rounded-lg shadow-md dark:shadow-2xl p-6 shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:" Upcoming Exams"}),e.jsx("button",{onClick:u,disabled:a,className:"bg-gray-50 dark:bg-slate-800 transition-all duration-200 ease-out0 hover:bg-gray-600 text-white px-3 py-1 rounded text-sm disabled:opacity-50",children:" Refresh"})]}),a?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):r.length===0?e.jsxs("div",{className:"text-center py-8 text-slate-500 dark:text-gray-400",children:[e.jsx("p",{children:"No upcoming exams found"}),e.jsx("p",{className:"text-sm mt-2",children:"Create a test exam to see notifications in action!"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-slate-800 transition-all duration-200 ease-out",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Course"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Exam Time"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Assigned To"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Minutes Until"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Reminder Sent"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out divide-y divide-slate-200 dark:divide-slate-700",children:r.map(v=>{var w;return e.jsxs("tr",{className:v.minutesUntilExam<=10?"bg-red-50":"",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-900 dark:text-slate-100",children:v.course}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-gray-400",children:new Date(v.examDateTime).toLocaleString()}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-gray-400",children:((w=v.assignedTo)==null?void 0:w.name)||"Unassigned"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-gray-400",children:e.jsxs("span",{className:`px-2 py-1 rounded-full text-xs ${v.minutesUntilExam<=10?"bg-red-100 text-red-800":v.minutesUntilExam<=30?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:[v.minutesUntilExam," min"]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-gray-400",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${v.reminderSent?"bg-green-100 text-green-800":"bg-gray-100 dark:bg-slate-700 text-gray-800 dark:text-gray-200"}`,children:v.reminderSent?" Sent":" Pending"})})]},v.id)})})]})})]}),e.jsxs("div",{className:"bg-blue-50 rounded-lg p-6 mt-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-3",children:" How to Test"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-blue-700",children:[e.jsx("li",{children:'Click "Request Permission" to enable browser notifications'}),e.jsx("li",{children:'Create a test exam using "Create Test Exam (11 min)" - this will trigger a notification in 1 minute'}),e.jsx("li",{children:'For immediate testing, use "Quick Test (2 min)" and then "Trigger Notifications"'}),e.jsx("li",{children:"Watch for:"}),e.jsxs("ul",{className:"list-disc list-inside ml-6 mt-1 space-y-1",children:[e.jsx("li",{children:" Audio beep sounds"}),e.jsx("li",{children:" Toast notifications in the app"}),e.jsx("li",{children:" Browser notifications (if permission granted)"}),e.jsx("li",{children:" Email notifications (check your email)"})]}),e.jsx("li",{children:'Use "Cleanup Test Exams" to remove test data when done'})]})]})]})})})},L1=y.createContext(),Di=()=>{const t=y.useContext(L1);if(!t)throw new Error("useChat must be used within a ChatProvider");return t},$P=({children:t})=>{const{user:r,token:s}=Fe(),[a,i]=y.useState(null),[l,c]=y.useState(!1),[u,m]=y.useState([]),[h,p]=y.useState([]),[g,x]=y.useState(null),[v,w]=y.useState({}),[S,k]=y.useState({}),[E,C]=y.useState({}),[j,A]=y.useState(!1),[P,F]=y.useState({enableSounds:!0,messageSound:"message",volume:.3,enableBrowserNotifications:!0,enableToastNotifications:!0}),T=y.useRef(null),L=y.useRef({});y.useEffect(()=>{if(r&&s){const M="https://crm-trial-backend.onrender.com/api".replace("/api","");console.log(" Connecting to chat server:",M),console.log(" User:",r.fullName,"Role:",r.role),console.log(" Token present:",!!s);const Z=Fn(M,{transports:["websocket","polling"],timeout:2e4,forceNew:!0,reconnection:!0,reconnectionDelay:1e3,reconnectionAttempts:5,maxReconnectionAttempts:5,auth:{token:s},query:{userId:r._id,userRole:r.role}});return Z.on("connect",()=>{console.log(" Connected to chat server"),c(!0),Z.emit("join-user-room",r._id),console.log(" Joined user room:",r._id),B("ONLINE"),ee(),U()}),Z.on("connect_error",X=>{console.error(" Socket connection error:",X),c(!1),Qe.error("Failed to connect to chat server. Please refresh the page.")}),Z.on("disconnect",X=>{console.log(" Disconnected from chat server:",X),c(!1),X==="io server disconnect"&&Z.connect()}),Z.on("reconnect",X=>{console.log(" Reconnected to chat server, attempt:",X),c(!0),Z.emit("join-user-room",r._id),B("ONLINE"),Qe.success("Reconnected to chat server")}),Z.on("newMessage",X=>{console.log(" New message received:",X),w(V=>({...V,[X.chatId]:[...V[X.chatId]||[],X]})),(!g||g.chatId!==X.chatId)&&k(V=>({...V,[X.senderId._id]:(V[X.senderId._id]||0)+1})),p(V=>V.map(de=>de.chatId===X.chatId?{...de,lastMessage:X.content,lastMessageTime:X.timestamp}:de))}),Z.on("messageNotification",X=>{if(console.log(" Message notification received:",X),(!j||g&&g.otherUser._id!==X.senderId)&&P.enableToastNotifications){const V=X.isGuest?` ${X.senderName}: ${X.content.substring(0,50)}${X.content.length>50?"...":""}`:` ${X.senderName}: ${X.content.substring(0,50)}${X.content.length>50?"...":""}`;Qe(V,{icon:X.isGuest?"":"",duration:5e3,position:"top-right",style:{background:X.isGuest?"#fef3c7":"#f3f4f6",color:X.isGuest?"#92400e":"#1f2937",border:X.isGuest?"1px solid #d97706":"1px solid #d1d5db"},onClick:()=>{if(X.senderId){const de=u.find(ue=>ue._id===X.senderId);de&&J(de)}}})}}),Z.on("userStatusUpdate",X=>{console.log(" User status update received:",X),m(V=>V.map(de=>de._id===X.userId?{...de,status:X.status,lastSeen:X.lastSeen}:de))}),Z.on("typing",X=>{console.log(" Typing indicator received:",X),C(V=>({...V,[X.senderId]:X.isTyping})),X.isTyping&&setTimeout(()=>{C(V=>({...V,[X.senderId]:!1}))},3e3)}),Z.on("messageDelivered",X=>{console.log(" Message delivered:",X),w(V=>{const de={...V};return Object.keys(de).forEach(ue=>{de[ue]=de[ue].map(le=>le._id===X._id?{...le,delivered:!0,isOptimistic:!1}:le)}),de})}),Z.on("messageError",X=>{console.error(" Message error:",X),Qe.error(`Failed to send message: ${X.error}`),w(V=>{const de={...V};return Object.keys(de).forEach(ue=>{de[ue]=de[ue].filter(le=>!le.isOptimistic)}),de})}),i(Z),T.current=Z,()=>{console.log(" Cleaning up socket connection"),Z.close(),i(null),T.current=null}}},[r,s]),y.useEffect(()=>()=>{Object.values(L.current).forEach(clearTimeout)},[]),y.useEffect(()=>{const _=()=>{A(!0)};return window.addEventListener("focusChatWindow",_),()=>{window.removeEventListener("focusChatWindow",_)}},[]),y.useEffect(()=>{(()=>{try{const M=localStorage.getItem("chatNotificationPreferences");if(M){const Z=JSON.parse(M);F(X=>({...X,...Z}))}}catch(M){console.warn("Error loading chat notification preferences:",M)}})()},[]);const z=_=>{try{localStorage.setItem("chatNotificationPreferences",JSON.stringify(_)),F(M=>({...M,..._})),yr.updatePreferences(_),Qe.success("Notification preferences saved")}catch(M){console.error("Error saving chat notification preferences:",M),Qe.error("Failed to save notification preferences")}},q=(_,M,Z="text")=>{if(a&&r){const X={senderId:r._id,recipientId:_,content:M,messageType:Z};console.log(" Sending message:",X),a.emit("sendMessage",X);const V=[r._id,_].sort().join("_"),de={_id:Date.now().toString(),chatId:V,senderId:r,recipientId:{_id:_},content:M,messageType:Z,timestamp:new Date,isRead:!1,isOptimistic:!0,delivered:!1};w(ue=>({...ue,[V]:[...ue[V]||[],de]})),P.enableSounds&&yr.playNotificationSound("success")}},O=(_,M)=>{a&&r&&a.emit("typing",{senderId:r._id,recipientId:_,isTyping:M})},B=_=>{a&&r&&a.emit("updateStatus",{userId:r._id,status:_})},U=async()=>{try{const Z=await fetch("https://crm-trial-backend.onrender.com/api/chat/rooms",{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}});if(Z.ok){const X=await Z.json();p(X.data);const V={};X.data.forEach(de=>{de.unreadCount>0&&(V[de.otherUser._id]=de.unreadCount)}),k(V)}}catch(_){console.error("Error fetching chat rooms:",_)}},R=async _=>{try{const X=await fetch(`https://crm-trial-backend.onrender.com/api/chat/messages/${_}`,{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}});if(X.ok){const V=await X.json(),de=[r._id,_].sort().join("_");w(ue=>({...ue,[de]:V.data})),k(ue=>({...ue,[_]:0}))}}catch(M){console.error("Error fetching messages:",M)}},ee=async()=>{try{const Z=await fetch("https://crm-trial-backend.onrender.com/api/chat/users",{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}});if(Z.ok){const X=await Z.json();m(X.data)}}catch(_){console.error("Error fetching users:",_)}},J=async _=>{console.log(" Starting chat with:",_.fullName),x({chatId:[r._id,_._id].sort().join("_"),otherUser:_}),await R(_._id),A(!0),k(M=>({...M,[_._id]:0}))},G={socket:a,isConnected:l,onlineUsers:u,chatRooms:h,activeChat:g,messages:v,unreadCounts:S,typingUsers:E,isChatOpen:j,notificationPreferences:P,sendMessage:q,sendTypingIndicator:O,updateUserStatus:B,fetchChatRooms:U,fetchMessages:R,fetchAllUsers:ee,startChat:J,closeChat:()=>{x(null),A(!1)},setIsChatOpen:A,saveNotificationPreferences:z,testNotificationSound:(_="message")=>{yr.testNotificationSound(_)},getTotalUnreadCount:()=>Object.values(S).reduce((_,M)=>_+M,0)};return e.jsx(L1.Provider,{value:G,children:t})},VP=()=>{var m;const{user:t}=Fe(),{setIsChatOpen:r,onlineUsers:s,unreadCounts:a}=Di(),[i,l]=y.useState([]);y.useEffect(()=>{const h=s.filter(p=>p.role!=="Customer");l(h)},[s]);const c=Object.values(a).reduce((h,p)=>h+p,0),u=()=>{r(!0)};return e.jsx(Je,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-800 py-8",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsx("div",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out rounded-lg shadow-md dark:shadow-black/25 p-6 mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-800 dark:text-gray-200",children:["Welcome, ",t==null?void 0:t.fullName,"!"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-500 mt-2",children:"Your customer portal - Chat with our team and get support"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-500",children:"Customer ID"}),e.jsx("div",{className:"font-mono text-sm",children:(m=t==null?void 0:t._id)==null?void 0:m.slice(-8)})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out rounded-lg shadow-md dark:shadow-black/25 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200 flex items-center",children:[e.jsx(Jo,{className:"mr-2 text-blue-600"}),"Chat with Support Team"]}),c>0&&e.jsxs("span",{className:"bg-red-500 text-white px-2 py-1 rounded-full text-sm",children:[c," new messages"]})]}),e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"mb-4",children:e.jsx(Jo,{className:"mx-auto text-6xl text-blue-200"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-700 dark:text-gray-400 mb-2",children:"Need Help? Start a Conversation"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-500 mb-4",children:"Our support team is here to help you. Click below to start chatting."}),e.jsx("button",{onClick:u,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium transition-colors",children:"Open Chat"})]}),i.length>0&&e.jsxs("div",{className:"mt-6 border-t pt-4",children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-400 mb-3",children:["Support Team Online (",i.length,")"]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.slice(0,5).map(h=>e.jsxs("div",{className:"flex items-center bg-green-50 px-3 py-1 rounded-full",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),e.jsx("span",{className:"text-sm text-green-700",children:h.fullName}),e.jsxs("span",{className:"text-xs text-green-600 ml-1",children:["(",h.role,")"]})]},h._id)),i.length>5&&e.jsx("div",{className:"flex items-center bg-gray-50 dark:bg-slate-800 px-3 py-1 rounded-full",children:e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-500",children:["+",i.length-5," more"]})})]})]})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out rounded-lg shadow-md dark:shadow-black/25 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200 mb-4 flex items-center",children:[e.jsx(Ot,{className:"mr-2 text-blue-600"}),"Account Information"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ot,{className:"text-gray-400 dark:text-gray-400 mr-3"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-500",children:"Full Name"}),e.jsx("div",{className:"font-medium",children:t==null?void 0:t.fullName})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(ls,{className:"text-gray-400 dark:text-gray-400 mr-3"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-500",children:"Email"}),e.jsx("div",{className:"font-medium",children:t==null?void 0:t.email})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(c3,{className:"text-gray-400 dark:text-gray-400 mr-3"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-500",children:"Member Since"}),e.jsx("div",{className:"font-medium",children:t!=null&&t.createdAt?new Date(t.createdAt).toLocaleDateString():"N/A"})]})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out rounded-lg shadow-md dark:shadow-black/25 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:u,className:"w-full bg-blue-50 hover:bg-blue-100 text-blue-700 px-4 py-3 rounded-lg text-left transition-colors",children:[e.jsx(Jo,{className:"inline mr-2"}),"Start New Chat"]}),e.jsxs("button",{onClick:()=>window.location.href="/profile",className:"w-full bg-gray-50 dark:bg-slate-700 hover:bg-gray-100 text-gray-700 dark:text-gray-400 px-4 py-3 rounded-lg text-left transition-colors",children:[e.jsx(Ot,{className:"inline mr-2"}),"Edit Profile"]})]})]}),e.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-2",children:"Need Help?"}),e.jsx("p",{className:"text-blue-700 text-sm mb-3",children:"Our support team is available to help you with any questions or issues."}),e.jsxs("div",{className:"text-sm text-blue-600",children:[e.jsx("div",{children:" Email: support@traincapetech.in"}),e.jsx("div",{children:" Hours: 9 AM - 6 PM (Mon-Fri)"}),e.jsx("div",{children:" Live Chat: Available now"})]})]})]})]})]})})})},zP=({open:t,onOpenChange:r,onEmployeeAdded:s,departments:a,roles:i})=>{var k;const{user:l}=Fe(),[c,u]=y.useState(!1),[m,h]=y.useState({fullName:"",email:"",phoneNumber:"",whatsappNumber:"",linkedInUrl:"",currentAddress:"",permanentAddress:"",collegeName:"",role:"",department:"",joiningDate:"",internshipDuration:"",salary:"",username:"",password:"",employmentType:"PERMANENT",techStack:[],internshipStartDate:"",internshipEndDate:""}),[p,g]=y.useState({photograph:null,tenthMarksheet:null,twelfthMarksheet:null,bachelorDegree:null,postgraduateDegree:null,aadharCard:null,panCard:null,pcc:null,resume:null,offerLetter:null}),x=E=>{const{name:C,value:j}=E.target;h(A=>({...A,[C]:j}))},v=E=>{const{name:C,files:j}=E.target;if(j&&j[0]){const A=j[0],P=A.size/1024,F=P/1024;if(P<10||F>5){me.error(`${C} file size must be between 10KB and 5MB`),E.target.value="";return}g(T=>({...T,[C]:A}))}},w=async E=>{E.preventDefault(),u(!0);try{const C=new FormData,j=a.find(T=>T._id===m.department),A=(j==null?void 0:j.name)==="IT",P={fullName:m.fullName,email:m.email,phoneNumber:m.phoneNumber,whatsappNumber:m.whatsappNumber,linkedInUrl:m.linkedInUrl,currentAddress:m.currentAddress,permanentAddress:m.permanentAddress,collegeName:m.collegeName,role:m.role,department:m.department,joiningDate:new Date(m.joiningDate).toISOString(),internshipDuration:m.internshipDuration?parseInt(m.internshipDuration):void 0,salary:parseFloat(m.salary),status:"ACTIVE",hrId:(l==null?void 0:l.id)||"",...A&&{employmentType:m.employmentType,techStack:m.techStack,...m.employmentType==="INTERN"&&{internshipStartDate:m.internshipStartDate?new Date(m.internshipStartDate).toISOString():void 0,internshipEndDate:m.internshipEndDate?new Date(m.internshipEndDate).toISOString():void 0}}};console.log("Sending employee data:",{formData:m,employeeJsonPayload:P,isITDepartment:A,department:j,files:Object.keys(p).filter(T=>p[T])}),Object.keys(P).forEach(T=>{P[T]===""&&(P[T]=void 0)}),C.append("employee",JSON.stringify(P)),m.username&&C.append("username",m.username),m.password&&C.append("password",m.password),Object.keys(p).forEach(T=>{p[T]&&C.append(T,p[T])}),console.log("Form data being sent:",{employee:P,files:Object.keys(p).filter(T=>p[T]),formDataEntries:Array.from(C.entries()).map(([T,L])=>({key:T,type:typeof L,isFile:L instanceof File,size:L instanceof File?L.size:null}))}),(await Kt.create(C)).data.success?(h({fullName:"",email:"",phoneNumber:"",whatsappNumber:"",linkedInUrl:"",currentAddress:"",permanentAddress:"",collegeName:"",role:"",department:"",joiningDate:"",internshipDuration:"",salary:"",username:"",password:"",employmentType:"PERMANENT",techStack:[],internshipStartDate:"",internshipEndDate:""}),g({photograph:null,tenthMarksheet:null,twelfthMarksheet:null,bachelorDegree:null,postgraduateDegree:null,aadharCard:null,panCard:null,pcc:null,resume:null,offerLetter:null}),s(),r(!1)):alert("Failed to add employee. Please try again.")}catch(C){console.error("Error adding employee:",C),alert("An error occurred while adding the employee.")}finally{u(!1)}},S=(E,C)=>e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:C}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"file",name:E,onChange:v,accept:".pdf,.jpg,.jpeg,.png",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"}),e.jsx("span",{className:"text-xs text-gray-500",children:"(10KB-5MB)"})]})]});return t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Add New Employee"}),e.jsx("button",{onClick:()=>r(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("form",{onSubmit:w,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Full Name *"}),e.jsx("input",{type:"text",name:"fullName",value:m.fullName,onChange:x,required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email *"}),e.jsx("input",{type:"email",name:"email",value:m.email,onChange:x,required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Phone Number"}),e.jsx("input",{type:"tel",name:"phoneNumber",value:m.phoneNumber,onChange:x,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"WhatsApp Number"}),e.jsx("input",{type:"tel",name:"whatsappNumber",value:m.whatsappNumber,onChange:x,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Department *"}),e.jsxs("select",{name:"department",value:m.department,onChange:E=>{a.find(C=>C._id===E.target.value),h(C=>({...C,department:E.target.value,role:""}))},required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[e.jsx("option",{value:"",children:"Select Department"}),a.map(E=>e.jsx("option",{value:E._id,children:E.name},E._id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Role *"}),e.jsxs("select",{name:"role",value:m.role,onChange:x,required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[e.jsx("option",{value:"",children:"Select Role"}),i.filter(E=>{const C=a.find(j=>j._id===m.department);return C?C.name==="IT"?["IT Staff","IT Manager"].includes(E.name):!["IT Staff","IT Manager"].includes(E.name):!0}).map(E=>e.jsx("option",{value:E._id,children:E.name},E._id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Joining Date *"}),e.jsx("input",{type:"date",name:"joiningDate",value:m.joiningDate,onChange:x,required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Salary *"}),e.jsx("input",{type:"number",name:"salary",value:m.salary,onChange:x,required:!0,min:"0",step:"0.01",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]})]}),((k=a.find(E=>E._id===m.department))==null?void 0:k.name)==="IT"&&e.jsxs("div",{className:"border-t pt-4 mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"IT Department Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Employment Type *"}),e.jsxs("select",{name:"employmentType",value:m.employmentType,onChange:x,required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[e.jsx("option",{value:"PERMANENT",children:"Permanent"}),e.jsx("option",{value:"INTERN",children:"Intern"}),e.jsx("option",{value:"CONTRACT",children:"Contract"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Tech Stack"}),e.jsx("input",{type:"text",name:"techStack",value:m.techStack.join(", "),onChange:E=>{const C=E.target.value.split(",").map(j=>j.trim()).filter(Boolean);h(j=>({...j,techStack:C}))},placeholder:"e.g., React, Node.js, Python",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]}),m.employmentType==="INTERN"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Internship Start Date *"}),e.jsx("input",{type:"date",name:"internshipStartDate",value:m.internshipStartDate,onChange:x,required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Internship End Date *"}),e.jsx("input",{type:"date",name:"internshipEndDate",value:m.internshipEndDate,onChange:x,required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Current Address"}),e.jsx("textarea",{name:"currentAddress",value:m.currentAddress,onChange:x,rows:"2",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Permanent Address"}),e.jsx("textarea",{name:"permanentAddress",value:m.permanentAddress,onChange:x,rows:"2",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"College Name"}),e.jsx("input",{type:"text",name:"collegeName",value:m.collegeName,onChange:x,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"LinkedIn URL"}),e.jsx("input",{type:"url",name:"linkedInUrl",value:m.linkedInUrl,onChange:x,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"User Account (Optional)"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Username"}),e.jsx("input",{type:"text",name:"username",value:m.username,onChange:x,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Password"}),e.jsx("input",{type:"password",name:"password",value:m.password,onChange:x,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Documents (Optional)"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[S("photograph","Photograph"),S("tenthMarksheet","10th Marksheet"),S("twelfthMarksheet","12th Marksheet"),S("bachelorDegree","Bachelor's Degree"),S("postgraduateDegree","Postgraduate Degree"),S("aadharCard","Aadhar Card"),S("panCard","PAN Card"),S("pcc","Police Clearance Certificate"),S("resume","Resume"),S("offerLetter","Offer Letter")]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[e.jsx("button",{type:"button",onClick:()=>r(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors",children:"Cancel"}),e.jsxs("button",{type:"submit",disabled:c,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[c&&e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white"}),e.jsx("span",{children:c?"Adding...":"Add Employee"})]})]})]})]})})}):null};function Vt(t,r,{checkForDefaultPrevented:s=!0}={}){return function(i){if(t==null||t(i),s===!1||!i.defaultPrevented)return r==null?void 0:r(i)}}function lb(t,r){if(typeof t=="function")return t(r);t!=null&&(t.current=r)}function I1(...t){return r=>{let s=!1;const a=t.map(i=>{const l=lb(i,r);return!s&&typeof l=="function"&&(s=!0),l});if(s)return()=>{for(let i=0;i<a.length;i++){const l=a[i];typeof l=="function"?l():lb(t[i],null)}}}}function ds(...t){return y.useCallback(I1(...t),t)}function HP(t,r){const s=y.createContext(r),a=l=>{const{children:c,...u}=l,m=y.useMemo(()=>u,Object.values(u));return e.jsx(s.Provider,{value:m,children:c})};a.displayName=t+"Provider";function i(l){const c=y.useContext(s);if(c)return c;if(r!==void 0)return r;throw new Error(`\`${l}\` must be used within \`${t}\``)}return[a,i]}function od(t,r=[]){let s=[];function a(l,c){const u=y.createContext(c),m=s.length;s=[...s,c];const h=g=>{var E;const{scope:x,children:v,...w}=g,S=((E=x==null?void 0:x[t])==null?void 0:E[m])||u,k=y.useMemo(()=>w,Object.values(w));return e.jsx(S.Provider,{value:k,children:v})};h.displayName=l+"Provider";function p(g,x){var S;const v=((S=x==null?void 0:x[t])==null?void 0:S[m])||u,w=y.useContext(v);if(w)return w;if(c!==void 0)return c;throw new Error(`\`${g}\` must be used within \`${l}\``)}return[h,p]}const i=()=>{const l=s.map(c=>y.createContext(c));return function(u){const m=(u==null?void 0:u[t])||l;return y.useMemo(()=>({[`__scope${t}`]:{...u,[t]:m}}),[u,m])}};return i.scopeName=t,[a,WP(i,...r)]}function WP(...t){const r=t[0];if(t.length===1)return r;const s=()=>{const a=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(l){const c=a.reduce((u,{useScope:m,scopeName:h})=>{const g=m(l)[`__scope${h}`];return{...u,...g}},{});return y.useMemo(()=>({[`__scope${r.scopeName}`]:c}),[c])}};return s.scopeName=r.scopeName,s}var vi=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},qP=K0[" useId ".trim().toString()]||(()=>{}),YP=0;function ni(t){const[r,s]=y.useState(qP());return vi(()=>{s(a=>a??String(YP++))},[t]),r?`radix-${r}`:""}var KP=K0[" useInsertionEffect ".trim().toString()]||vi;function Wh({prop:t,defaultProp:r,onChange:s=()=>{},caller:a}){const[i,l,c]=GP({defaultProp:r,onChange:s}),u=t!==void 0,m=u?t:i;{const p=y.useRef(t!==void 0);y.useEffect(()=>{const g=p.current;g!==u&&console.warn(`${a} is changing from ${g?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=u},[u,a])}const h=y.useCallback(p=>{var g;if(u){const x=XP(p)?p(t):p;x!==t&&((g=c.current)==null||g.call(c,x))}else l(p)},[u,t,l,c]);return[m,h]}function GP({defaultProp:t,onChange:r}){const[s,a]=y.useState(t),i=y.useRef(s),l=y.useRef(r);return KP(()=>{l.current=r},[r]),y.useEffect(()=>{var c;i.current!==s&&((c=l.current)==null||c.call(l,s),i.current=s)},[s,i]),[s,a,l]}function XP(t){return typeof t=="function"}function Uc(t){const r=QP(t),s=y.forwardRef((a,i)=>{const{children:l,...c}=a,u=y.Children.toArray(l),m=u.find(ZP);if(m){const h=m.props.children,p=u.map(g=>g===m?y.Children.count(h)>1?y.Children.only(null):y.isValidElement(h)?h.props.children:null:g);return e.jsx(r,{...c,ref:i,children:y.isValidElement(h)?y.cloneElement(h,void 0,p):null})}return e.jsx(r,{...c,ref:i,children:l})});return s.displayName=`${t}.Slot`,s}function QP(t){const r=y.forwardRef((s,a)=>{const{children:i,...l}=s;if(y.isValidElement(i)){const c=t9(i),u=e9(l,i.props);return i.type!==y.Fragment&&(u.ref=a?I1(a,c):c),y.cloneElement(i,u)}return y.Children.count(i)>1?y.Children.only(null):null});return r.displayName=`${t}.SlotClone`,r}var JP=Symbol("radix.slottable");function ZP(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===JP}function e9(t,r){const s={...r};for(const a in r){const i=t[a],l=r[a];/^on[A-Z]/.test(a)?i&&l?s[a]=(...u)=>{const m=l(...u);return i(...u),m}:i&&(s[a]=i):a==="style"?s[a]={...i,...l}:a==="className"&&(s[a]=[i,l].filter(Boolean).join(" "))}return{...t,...s}}function t9(t){var a,i;let r=(a=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:a.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var r9=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],tr=r9.reduce((t,r)=>{const s=Uc(`Primitive.${r}`),a=y.forwardRef((i,l)=>{const{asChild:c,...u}=i,m=c?s:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(m,{...u,ref:l})});return a.displayName=`Primitive.${r}`,{...t,[r]:a}},{});function s9(t,r){t&&Eb.flushSync(()=>t.dispatchEvent(r))}function Wn(t){const r=y.useRef(t);return y.useEffect(()=>{r.current=t}),y.useMemo(()=>(...s)=>{var a;return(a=r.current)==null?void 0:a.call(r,...s)},[])}function a9(t,r=globalThis==null?void 0:globalThis.document){const s=Wn(t);y.useEffect(()=>{const a=i=>{i.key==="Escape"&&s(i)};return r.addEventListener("keydown",a,{capture:!0}),()=>r.removeEventListener("keydown",a,{capture:!0})},[s,r])}var n9="DismissableLayer",U0="dismissableLayer.update",o9="dismissableLayer.pointerDownOutside",i9="dismissableLayer.focusOutside",cb,_1=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),O1=y.forwardRef((t,r)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:l,onInteractOutside:c,onDismiss:u,...m}=t,h=y.useContext(_1),[p,g]=y.useState(null),x=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=y.useState({}),w=ds(r,T=>g(T)),S=Array.from(h.layers),[k]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),E=S.indexOf(k),C=p?S.indexOf(p):-1,j=h.layersWithOutsidePointerEventsDisabled.size>0,A=C>=E,P=d9(T=>{const L=T.target,z=[...h.branches].some(q=>q.contains(L));!A||z||(i==null||i(T),c==null||c(T),T.defaultPrevented||u==null||u())},x),F=u9(T=>{const L=T.target;[...h.branches].some(q=>q.contains(L))||(l==null||l(T),c==null||c(T),T.defaultPrevented||u==null||u())},x);return a9(T=>{C===h.layers.size-1&&(a==null||a(T),!T.defaultPrevented&&u&&(T.preventDefault(),u()))},x),y.useEffect(()=>{if(p)return s&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(cb=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(p)),h.layers.add(p),db(),()=>{s&&h.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=cb)}},[p,x,s,h]),y.useEffect(()=>()=>{p&&(h.layers.delete(p),h.layersWithOutsidePointerEventsDisabled.delete(p),db())},[p,h]),y.useEffect(()=>{const T=()=>v({});return document.addEventListener(U0,T),()=>document.removeEventListener(U0,T)},[]),e.jsx(tr.div,{...m,ref:w,style:{pointerEvents:j?A?"auto":"none":void 0,...t.style},onFocusCapture:Vt(t.onFocusCapture,F.onFocusCapture),onBlurCapture:Vt(t.onBlurCapture,F.onBlurCapture),onPointerDownCapture:Vt(t.onPointerDownCapture,P.onPointerDownCapture)})});O1.displayName=n9;var l9="DismissableLayerBranch",c9=y.forwardRef((t,r)=>{const s=y.useContext(_1),a=y.useRef(null),i=ds(r,a);return y.useEffect(()=>{const l=a.current;if(l)return s.branches.add(l),()=>{s.branches.delete(l)}},[s.branches]),e.jsx(tr.div,{...t,ref:i})});c9.displayName=l9;function d9(t,r=globalThis==null?void 0:globalThis.document){const s=Wn(t),a=y.useRef(!1),i=y.useRef(()=>{});return y.useEffect(()=>{const l=u=>{if(u.target&&!a.current){let m=function(){F1(o9,s,h,{discrete:!0})};const h={originalEvent:u};u.pointerType==="touch"?(r.removeEventListener("click",i.current),i.current=m,r.addEventListener("click",i.current,{once:!0})):m()}else r.removeEventListener("click",i.current);a.current=!1},c=window.setTimeout(()=>{r.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(c),r.removeEventListener("pointerdown",l),r.removeEventListener("click",i.current)}},[r,s]),{onPointerDownCapture:()=>a.current=!0}}function u9(t,r=globalThis==null?void 0:globalThis.document){const s=Wn(t),a=y.useRef(!1);return y.useEffect(()=>{const i=l=>{l.target&&!a.current&&F1(i9,s,{originalEvent:l},{discrete:!1})};return r.addEventListener("focusin",i),()=>r.removeEventListener("focusin",i)},[r,s]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function db(){const t=new CustomEvent(U0);document.dispatchEvent(t)}function F1(t,r,s,{discrete:a}){const i=s.originalEvent.target,l=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:s});r&&i.addEventListener(t,r,{once:!0}),a?s9(i,l):i.dispatchEvent(l)}var Om="focusScope.autoFocusOnMount",Fm="focusScope.autoFocusOnUnmount",ub={bubbles:!1,cancelable:!0},m9="FocusScope",B1=y.forwardRef((t,r)=>{const{loop:s=!1,trapped:a=!1,onMountAutoFocus:i,onUnmountAutoFocus:l,...c}=t,[u,m]=y.useState(null),h=Wn(i),p=Wn(l),g=y.useRef(null),x=ds(r,S=>m(S)),v=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(a){let S=function(j){if(v.paused||!u)return;const A=j.target;u.contains(A)?g.current=A:na(g.current,{select:!0})},k=function(j){if(v.paused||!u)return;const A=j.relatedTarget;A!==null&&(u.contains(A)||na(g.current,{select:!0}))},E=function(j){if(document.activeElement===document.body)for(const P of j)P.removedNodes.length>0&&na(u)};document.addEventListener("focusin",S),document.addEventListener("focusout",k);const C=new MutationObserver(E);return u&&C.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",S),document.removeEventListener("focusout",k),C.disconnect()}}},[a,u,v.paused]),y.useEffect(()=>{if(u){hb.add(v);const S=document.activeElement;if(!u.contains(S)){const E=new CustomEvent(Om,ub);u.addEventListener(Om,h),u.dispatchEvent(E),E.defaultPrevented||(h9(y9(U1(u)),{select:!0}),document.activeElement===S&&na(u))}return()=>{u.removeEventListener(Om,h),setTimeout(()=>{const E=new CustomEvent(Fm,ub);u.addEventListener(Fm,p),u.dispatchEvent(E),E.defaultPrevented||na(S??document.body,{select:!0}),u.removeEventListener(Fm,p),hb.remove(v)},0)}}},[u,h,p,v]);const w=y.useCallback(S=>{if(!s&&!a||v.paused)return;const k=S.key==="Tab"&&!S.altKey&&!S.ctrlKey&&!S.metaKey,E=document.activeElement;if(k&&E){const C=S.currentTarget,[j,A]=f9(C);j&&A?!S.shiftKey&&E===A?(S.preventDefault(),s&&na(j,{select:!0})):S.shiftKey&&E===j&&(S.preventDefault(),s&&na(A,{select:!0})):E===C&&S.preventDefault()}},[s,a,v.paused]);return e.jsx(tr.div,{tabIndex:-1,...c,ref:x,onKeyDown:w})});B1.displayName=m9;function h9(t,{select:r=!1}={}){const s=document.activeElement;for(const a of t)if(na(a,{select:r}),document.activeElement!==s)return}function f9(t){const r=U1(t),s=mb(r,t),a=mb(r.reverse(),t);return[s,a]}function U1(t){const r=[],s=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const i=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||i?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)r.push(s.currentNode);return r}function mb(t,r){for(const s of t)if(!p9(s,{upTo:r}))return s}function p9(t,{upTo:r}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(r!==void 0&&t===r)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function g9(t){return t instanceof HTMLInputElement&&"select"in t}function na(t,{select:r=!1}={}){if(t&&t.focus){const s=document.activeElement;t.focus({preventScroll:!0}),t!==s&&g9(t)&&r&&t.select()}}var hb=x9();function x9(){let t=[];return{add(r){const s=t[0];r!==s&&(s==null||s.pause()),t=fb(t,r),t.unshift(r)},remove(r){var s;t=fb(t,r),(s=t[0])==null||s.resume()}}}function fb(t,r){const s=[...t],a=s.indexOf(r);return a!==-1&&s.splice(a,1),s}function y9(t){return t.filter(r=>r.tagName!=="A")}var b9="Portal",$1=y.forwardRef((t,r)=>{var u;const{container:s,...a}=t,[i,l]=y.useState(!1);vi(()=>l(!0),[]);const c=s||i&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return c?VN.createPortal(e.jsx(tr.div,{...a,ref:r}),c):null});$1.displayName=b9;function v9(t,r){return y.useReducer((s,a)=>r[s][a]??s,t)}var Mi=t=>{const{present:r,children:s}=t,a=w9(r),i=typeof s=="function"?s({present:a.isPresent}):y.Children.only(s),l=ds(a.ref,j9(i));return typeof s=="function"||a.isPresent?y.cloneElement(i,{ref:l}):null};Mi.displayName="Presence";function w9(t){const[r,s]=y.useState(),a=y.useRef(null),i=y.useRef(t),l=y.useRef("none"),c=t?"mounted":"unmounted",[u,m]=v9(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const h=ac(a.current);l.current=u==="mounted"?h:"none"},[u]),vi(()=>{const h=a.current,p=i.current;if(p!==t){const x=l.current,v=ac(h);t?m("MOUNT"):v==="none"||(h==null?void 0:h.display)==="none"?m("UNMOUNT"):m(p&&x!==v?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,m]),vi(()=>{if(r){let h;const p=r.ownerDocument.defaultView??window,g=v=>{const S=ac(a.current).includes(CSS.escape(v.animationName));if(v.target===r&&S&&(m("ANIMATION_END"),!i.current)){const k=r.style.animationFillMode;r.style.animationFillMode="forwards",h=p.setTimeout(()=>{r.style.animationFillMode==="forwards"&&(r.style.animationFillMode=k)})}},x=v=>{v.target===r&&(l.current=ac(a.current))};return r.addEventListener("animationstart",x),r.addEventListener("animationcancel",g),r.addEventListener("animationend",g),()=>{p.clearTimeout(h),r.removeEventListener("animationstart",x),r.removeEventListener("animationcancel",g),r.removeEventListener("animationend",g)}}else m("ANIMATION_END")},[r,m]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:y.useCallback(h=>{a.current=h?getComputedStyle(h):null,s(h)},[])}}function ac(t){return(t==null?void 0:t.animationName)||"none"}function j9(t){var a,i;let r=(a=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:a.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var Bm=0;function N9(){y.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??pb()),document.body.insertAdjacentElement("beforeend",t[1]??pb()),Bm++,()=>{Bm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),Bm--}},[])}function pb(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var ts=function(){return ts=Object.assign||function(r){for(var s,a=1,i=arguments.length;a<i;a++){s=arguments[a];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(r[l]=s[l])}return r},ts.apply(this,arguments)};function V1(t,r){var s={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&r.indexOf(a)<0&&(s[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(t);i<a.length;i++)r.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(s[a[i]]=t[a[i]]);return s}function k9(t,r,s){if(s||arguments.length===2)for(var a=0,i=r.length,l;a<i;a++)(l||!(a in r))&&(l||(l=Array.prototype.slice.call(r,0,a)),l[a]=r[a]);return t.concat(l||Array.prototype.slice.call(r))}var Nc="right-scroll-bar-position",kc="width-before-scroll-bar",S9="with-scroll-bars-hidden",C9="--removed-body-scroll-bar-size";function Um(t,r){return typeof t=="function"?t(r):t&&(t.current=r),t}function E9(t,r){var s=y.useState(function(){return{value:t,callback:r,facade:{get current(){return s.value},set current(a){var i=s.value;i!==a&&(s.value=a,s.callback(a,i))}}}})[0];return s.callback=r,s.facade}var T9=typeof window<"u"?y.useLayoutEffect:y.useEffect,gb=new WeakMap;function A9(t,r){var s=E9(null,function(a){return t.forEach(function(i){return Um(i,a)})});return T9(function(){var a=gb.get(s);if(a){var i=new Set(a),l=new Set(t),c=s.current;i.forEach(function(u){l.has(u)||Um(u,null)}),l.forEach(function(u){i.has(u)||Um(u,c)})}gb.set(s,t)},[t]),s}function P9(t){return t}function D9(t,r){r===void 0&&(r=P9);var s=[],a=!1,i={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:t},useMedium:function(l){var c=r(l,a);return s.push(c),function(){s=s.filter(function(u){return u!==c})}},assignSyncMedium:function(l){for(a=!0;s.length;){var c=s;s=[],c.forEach(l)}s={push:function(u){return l(u)},filter:function(){return s}}},assignMedium:function(l){a=!0;var c=[];if(s.length){var u=s;s=[],u.forEach(l),c=s}var m=function(){var p=c;c=[],p.forEach(l)},h=function(){return Promise.resolve().then(m)};h(),s={push:function(p){c.push(p),h()},filter:function(p){return c=c.filter(p),s}}}};return i}function M9(t){t===void 0&&(t={});var r=D9(null);return r.options=ts({async:!0,ssr:!1},t),r}var z1=function(t){var r=t.sideCar,s=V1(t,["sideCar"]);if(!r)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=r.read();if(!a)throw new Error("Sidecar medium not found");return y.createElement(a,ts({},s))};z1.isSideCarExport=!0;function R9(t,r){return t.useMedium(r),z1}var H1=M9(),$m=function(){},id=y.forwardRef(function(t,r){var s=y.useRef(null),a=y.useState({onScrollCapture:$m,onWheelCapture:$m,onTouchMoveCapture:$m}),i=a[0],l=a[1],c=t.forwardProps,u=t.children,m=t.className,h=t.removeScrollBar,p=t.enabled,g=t.shards,x=t.sideCar,v=t.noRelative,w=t.noIsolation,S=t.inert,k=t.allowPinchZoom,E=t.as,C=E===void 0?"div":E,j=t.gapMode,A=V1(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=x,F=A9([s,r]),T=ts(ts({},A),i);return y.createElement(y.Fragment,null,p&&y.createElement(P,{sideCar:H1,removeScrollBar:h,shards:g,noRelative:v,noIsolation:w,inert:S,setCallbacks:l,allowPinchZoom:!!k,lockRef:s,gapMode:j}),c?y.cloneElement(y.Children.only(u),ts(ts({},T),{ref:F})):y.createElement(C,ts({},T,{className:m,ref:F}),u))});id.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};id.classNames={fullWidth:kc,zeroRight:Nc};var L9=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function I9(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var r=L9();return r&&t.setAttribute("nonce",r),t}function _9(t,r){t.styleSheet?t.styleSheet.cssText=r:t.appendChild(document.createTextNode(r))}function O9(t){var r=document.head||document.getElementsByTagName("head")[0];r.appendChild(t)}var F9=function(){var t=0,r=null;return{add:function(s){t==0&&(r=I9())&&(_9(r,s),O9(r)),t++},remove:function(){t--,!t&&r&&(r.parentNode&&r.parentNode.removeChild(r),r=null)}}},B9=function(){var t=F9();return function(r,s){y.useEffect(function(){return t.add(r),function(){t.remove()}},[r&&s])}},W1=function(){var t=B9(),r=function(s){var a=s.styles,i=s.dynamic;return t(a,i),null};return r},U9={left:0,top:0,right:0,gap:0},Vm=function(t){return parseInt(t||"",10)||0},$9=function(t){var r=window.getComputedStyle(document.body),s=r[t==="padding"?"paddingLeft":"marginLeft"],a=r[t==="padding"?"paddingTop":"marginTop"],i=r[t==="padding"?"paddingRight":"marginRight"];return[Vm(s),Vm(a),Vm(i)]},V9=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return U9;var r=$9(t),s=document.documentElement.clientWidth,a=window.innerWidth;return{left:r[0],top:r[1],right:r[2],gap:Math.max(0,a-s+r[2]-r[0])}},z9=W1(),Un="data-scroll-locked",H9=function(t,r,s,a){var i=t.left,l=t.top,c=t.right,u=t.gap;return s===void 0&&(s="margin"),`
  .`.concat(S9,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(u,"px ").concat(a,`;
  }
  body[`).concat(Un,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([r&&"position: relative ".concat(a,";"),s==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(a,`;
    `),s==="padding"&&"padding-right: ".concat(u,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Nc,` {
    right: `).concat(u,"px ").concat(a,`;
  }
  
  .`).concat(kc,` {
    margin-right: `).concat(u,"px ").concat(a,`;
  }
  
  .`).concat(Nc," .").concat(Nc,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(kc," .").concat(kc,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(Un,`] {
    `).concat(C9,": ").concat(u,`px;
  }
`)},xb=function(){var t=parseInt(document.body.getAttribute(Un)||"0",10);return isFinite(t)?t:0},W9=function(){y.useEffect(function(){return document.body.setAttribute(Un,(xb()+1).toString()),function(){var t=xb()-1;t<=0?document.body.removeAttribute(Un):document.body.setAttribute(Un,t.toString())}},[])},q9=function(t){var r=t.noRelative,s=t.noImportant,a=t.gapMode,i=a===void 0?"margin":a;W9();var l=y.useMemo(function(){return V9(i)},[i]);return y.createElement(z9,{styles:H9(l,!r,i,s?"":"!important")})},$0=!1;if(typeof window<"u")try{var nc=Object.defineProperty({},"passive",{get:function(){return $0=!0,!0}});window.addEventListener("test",nc,nc),window.removeEventListener("test",nc,nc)}catch{$0=!1}var An=$0?{passive:!1}:!1,Y9=function(t){return t.tagName==="TEXTAREA"},q1=function(t,r){if(!(t instanceof Element))return!1;var s=window.getComputedStyle(t);return s[r]!=="hidden"&&!(s.overflowY===s.overflowX&&!Y9(t)&&s[r]==="visible")},K9=function(t){return q1(t,"overflowY")},G9=function(t){return q1(t,"overflowX")},yb=function(t,r){var s=r.ownerDocument,a=r;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var i=Y1(t,a);if(i){var l=K1(t,a),c=l[1],u=l[2];if(c>u)return!0}a=a.parentNode}while(a&&a!==s.body);return!1},X9=function(t){var r=t.scrollTop,s=t.scrollHeight,a=t.clientHeight;return[r,s,a]},Q9=function(t){var r=t.scrollLeft,s=t.scrollWidth,a=t.clientWidth;return[r,s,a]},Y1=function(t,r){return t==="v"?K9(r):G9(r)},K1=function(t,r){return t==="v"?X9(r):Q9(r)},J9=function(t,r){return t==="h"&&r==="rtl"?-1:1},Z9=function(t,r,s,a,i){var l=J9(t,window.getComputedStyle(r).direction),c=l*a,u=s.target,m=r.contains(u),h=!1,p=c>0,g=0,x=0;do{if(!u)break;var v=K1(t,u),w=v[0],S=v[1],k=v[2],E=S-k-l*w;(w||E)&&Y1(t,u)&&(g+=E,x+=w);var C=u.parentNode;u=C&&C.nodeType===Node.DOCUMENT_FRAGMENT_NODE?C.host:C}while(!m&&u!==document.body||m&&(r.contains(u)||r===u));return(p&&Math.abs(g)<1||!p&&Math.abs(x)<1)&&(h=!0),h},oc=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},bb=function(t){return[t.deltaX,t.deltaY]},vb=function(t){return t&&"current"in t?t.current:t},eD=function(t,r){return t[0]===r[0]&&t[1]===r[1]},tD=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},rD=0,Pn=[];function sD(t){var r=y.useRef([]),s=y.useRef([0,0]),a=y.useRef(),i=y.useState(rD++)[0],l=y.useState(W1)[0],c=y.useRef(t);y.useEffect(function(){c.current=t},[t]),y.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var S=k9([t.lockRef.current],(t.shards||[]).map(vb),!0).filter(Boolean);return S.forEach(function(k){return k.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),S.forEach(function(k){return k.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var u=y.useCallback(function(S,k){if("touches"in S&&S.touches.length===2||S.type==="wheel"&&S.ctrlKey)return!c.current.allowPinchZoom;var E=oc(S),C=s.current,j="deltaX"in S?S.deltaX:C[0]-E[0],A="deltaY"in S?S.deltaY:C[1]-E[1],P,F=S.target,T=Math.abs(j)>Math.abs(A)?"h":"v";if("touches"in S&&T==="h"&&F.type==="range")return!1;var L=yb(T,F);if(!L)return!0;if(L?P=T:(P=T==="v"?"h":"v",L=yb(T,F)),!L)return!1;if(!a.current&&"changedTouches"in S&&(j||A)&&(a.current=P),!P)return!0;var z=a.current||P;return Z9(z,k,S,z==="h"?j:A)},[]),m=y.useCallback(function(S){var k=S;if(!(!Pn.length||Pn[Pn.length-1]!==l)){var E="deltaY"in k?bb(k):oc(k),C=r.current.filter(function(P){return P.name===k.type&&(P.target===k.target||k.target===P.shadowParent)&&eD(P.delta,E)})[0];if(C&&C.should){k.cancelable&&k.preventDefault();return}if(!C){var j=(c.current.shards||[]).map(vb).filter(Boolean).filter(function(P){return P.contains(k.target)}),A=j.length>0?u(k,j[0]):!c.current.noIsolation;A&&k.cancelable&&k.preventDefault()}}},[]),h=y.useCallback(function(S,k,E,C){var j={name:S,delta:k,target:E,should:C,shadowParent:aD(E)};r.current.push(j),setTimeout(function(){r.current=r.current.filter(function(A){return A!==j})},1)},[]),p=y.useCallback(function(S){s.current=oc(S),a.current=void 0},[]),g=y.useCallback(function(S){h(S.type,bb(S),S.target,u(S,t.lockRef.current))},[]),x=y.useCallback(function(S){h(S.type,oc(S),S.target,u(S,t.lockRef.current))},[]);y.useEffect(function(){return Pn.push(l),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:x}),document.addEventListener("wheel",m,An),document.addEventListener("touchmove",m,An),document.addEventListener("touchstart",p,An),function(){Pn=Pn.filter(function(S){return S!==l}),document.removeEventListener("wheel",m,An),document.removeEventListener("touchmove",m,An),document.removeEventListener("touchstart",p,An)}},[]);var v=t.removeScrollBar,w=t.inert;return y.createElement(y.Fragment,null,w?y.createElement(l,{styles:tD(i)}):null,v?y.createElement(q9,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function aD(t){for(var r=null;t!==null;)t instanceof ShadowRoot&&(r=t.host,t=t.host),t=t.parentNode;return r}const nD=R9(H1,sD);var G1=y.forwardRef(function(t,r){return y.createElement(id,ts({},t,{ref:r,sideCar:nD}))});G1.classNames=id.classNames;var oD=function(t){if(typeof document>"u")return null;var r=Array.isArray(t)?t[0]:t;return r.ownerDocument.body},Dn=new WeakMap,ic=new WeakMap,lc={},zm=0,X1=function(t){return t&&(t.host||X1(t.parentNode))},iD=function(t,r){return r.map(function(s){if(t.contains(s))return s;var a=X1(s);return a&&t.contains(a)?a:(console.error("aria-hidden",s,"in not contained inside",t,". Doing nothing"),null)}).filter(function(s){return!!s})},lD=function(t,r,s,a){var i=iD(r,Array.isArray(t)?t:[t]);lc[s]||(lc[s]=new WeakMap);var l=lc[s],c=[],u=new Set,m=new Set(i),h=function(g){!g||u.has(g)||(u.add(g),h(g.parentNode))};i.forEach(h);var p=function(g){!g||m.has(g)||Array.prototype.forEach.call(g.children,function(x){if(u.has(x))p(x);else try{var v=x.getAttribute(a),w=v!==null&&v!=="false",S=(Dn.get(x)||0)+1,k=(l.get(x)||0)+1;Dn.set(x,S),l.set(x,k),c.push(x),S===1&&w&&ic.set(x,!0),k===1&&x.setAttribute(s,"true"),w||x.setAttribute(a,"true")}catch(E){console.error("aria-hidden: cannot operate on ",x,E)}})};return p(r),u.clear(),zm++,function(){c.forEach(function(g){var x=Dn.get(g)-1,v=l.get(g)-1;Dn.set(g,x),l.set(g,v),x||(ic.has(g)||g.removeAttribute(a),ic.delete(g)),v||g.removeAttribute(s)}),zm--,zm||(Dn=new WeakMap,Dn=new WeakMap,ic=new WeakMap,lc={})}},cD=function(t,r,s){s===void 0&&(s="data-aria-hidden");var a=Array.from(Array.isArray(t)?t:[t]),i=oD(t);return i?(a.push.apply(a,Array.from(i.querySelectorAll("[aria-live], script"))),lD(a,i,s,"aria-hidden")):function(){return null}},ld="Dialog",[Q1]=od(ld),[dD,Yr]=Q1(ld),J1=t=>{const{__scopeDialog:r,children:s,open:a,defaultOpen:i,onOpenChange:l,modal:c=!0}=t,u=y.useRef(null),m=y.useRef(null),[h,p]=Wh({prop:a,defaultProp:i??!1,onChange:l,caller:ld});return e.jsx(dD,{scope:r,triggerRef:u,contentRef:m,contentId:ni(),titleId:ni(),descriptionId:ni(),open:h,onOpenChange:p,onOpenToggle:y.useCallback(()=>p(g=>!g),[p]),modal:c,children:s})};J1.displayName=ld;var Z1="DialogTrigger",uD=y.forwardRef((t,r)=>{const{__scopeDialog:s,...a}=t,i=Yr(Z1,s),l=ds(r,i.triggerRef);return e.jsx(tr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Kh(i.open),...a,ref:l,onClick:Vt(t.onClick,i.onOpenToggle)})});uD.displayName=Z1;var qh="DialogPortal",[mD,ew]=Q1(qh,{forceMount:void 0}),tw=t=>{const{__scopeDialog:r,forceMount:s,children:a,container:i}=t,l=Yr(qh,r);return e.jsx(mD,{scope:r,forceMount:s,children:y.Children.map(a,c=>e.jsx(Mi,{present:s||l.open,children:e.jsx($1,{asChild:!0,container:i,children:c})}))})};tw.displayName=qh;var $c="DialogOverlay",rw=y.forwardRef((t,r)=>{const s=ew($c,t.__scopeDialog),{forceMount:a=s.forceMount,...i}=t,l=Yr($c,t.__scopeDialog);return l.modal?e.jsx(Mi,{present:a||l.open,children:e.jsx(fD,{...i,ref:r})}):null});rw.displayName=$c;var hD=Uc("DialogOverlay.RemoveScroll"),fD=y.forwardRef((t,r)=>{const{__scopeDialog:s,...a}=t,i=Yr($c,s);return e.jsx(G1,{as:hD,allowPinchZoom:!0,shards:[i.contentRef],children:e.jsx(tr.div,{"data-state":Kh(i.open),...a,ref:r,style:{pointerEvents:"auto",...a.style}})})}),Qa="DialogContent",sw=y.forwardRef((t,r)=>{const s=ew(Qa,t.__scopeDialog),{forceMount:a=s.forceMount,...i}=t,l=Yr(Qa,t.__scopeDialog);return e.jsx(Mi,{present:a||l.open,children:l.modal?e.jsx(pD,{...i,ref:r}):e.jsx(gD,{...i,ref:r})})});sw.displayName=Qa;var pD=y.forwardRef((t,r)=>{const s=Yr(Qa,t.__scopeDialog),a=y.useRef(null),i=ds(r,s.contentRef,a);return y.useEffect(()=>{const l=a.current;if(l)return cD(l)},[]),e.jsx(aw,{...t,ref:i,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Vt(t.onCloseAutoFocus,l=>{var c;l.preventDefault(),(c=s.triggerRef.current)==null||c.focus()}),onPointerDownOutside:Vt(t.onPointerDownOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0;(c.button===2||u)&&l.preventDefault()}),onFocusOutside:Vt(t.onFocusOutside,l=>l.preventDefault())})}),gD=y.forwardRef((t,r)=>{const s=Yr(Qa,t.__scopeDialog),a=y.useRef(!1),i=y.useRef(!1);return e.jsx(aw,{...t,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{var c,u;(c=t.onCloseAutoFocus)==null||c.call(t,l),l.defaultPrevented||(a.current||(u=s.triggerRef.current)==null||u.focus(),l.preventDefault()),a.current=!1,i.current=!1},onInteractOutside:l=>{var m,h;(m=t.onInteractOutside)==null||m.call(t,l),l.defaultPrevented||(a.current=!0,l.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const c=l.target;((h=s.triggerRef.current)==null?void 0:h.contains(c))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&i.current&&l.preventDefault()}})}),aw=y.forwardRef((t,r)=>{const{__scopeDialog:s,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:l,...c}=t,u=Yr(Qa,s),m=y.useRef(null),h=ds(r,m);return N9(),e.jsxs(e.Fragment,{children:[e.jsx(B1,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:i,onUnmountAutoFocus:l,children:e.jsx(O1,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":Kh(u.open),...c,ref:h,onDismiss:()=>u.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(xD,{titleId:u.titleId}),e.jsx(bD,{contentRef:m,descriptionId:u.descriptionId})]})]})}),Yh="DialogTitle",nw=y.forwardRef((t,r)=>{const{__scopeDialog:s,...a}=t,i=Yr(Yh,s);return e.jsx(tr.h2,{id:i.titleId,...a,ref:r})});nw.displayName=Yh;var ow="DialogDescription",iw=y.forwardRef((t,r)=>{const{__scopeDialog:s,...a}=t,i=Yr(ow,s);return e.jsx(tr.p,{id:i.descriptionId,...a,ref:r})});iw.displayName=ow;var lw="DialogClose",cw=y.forwardRef((t,r)=>{const{__scopeDialog:s,...a}=t,i=Yr(lw,s);return e.jsx(tr.button,{type:"button",...a,ref:r,onClick:Vt(t.onClick,()=>i.onOpenChange(!1))})});cw.displayName=lw;function Kh(t){return t?"open":"closed"}var dw="DialogTitleWarning",[ZM,uw]=HP(dw,{contentName:Qa,titleName:Yh,docsSlug:"dialog"}),xD=({titleId:t})=>{const r=uw(dw),s=`\`${r.contentName}\` requires a \`${r.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${r.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${r.docsSlug}`;return y.useEffect(()=>{t&&(document.getElementById(t)||console.error(s))},[s,t]),null},yD="DialogDescriptionWarning",bD=({contentRef:t,descriptionId:r})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${uw(yD).contentName}}.`;return y.useEffect(()=>{var l;const i=(l=t.current)==null?void 0:l.getAttribute("aria-describedby");r&&i&&(document.getElementById(r)||console.warn(a))},[a,t,r]),null},vD=J1,wD=tw,mw=rw,hw=sw,fw=nw,pw=iw,jD=cw;const wb=vD,ND=wD,gw=y.forwardRef(({className:t,...r},s)=>e.jsx(mw,{ref:s,className:ms("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r}));gw.displayName=mw.displayName;const V0=y.forwardRef(({className:t,children:r,...s},a)=>e.jsxs(ND,{children:[e.jsx(gw,{}),e.jsxs(hw,{ref:a,className:ms("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...s,children:[r,e.jsxs(jD,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(_P,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));V0.displayName=hw.displayName;const z0=({className:t,...r})=>e.jsx("div",{className:ms("flex flex-col space-y-1.5 text-center sm:text-left",t),...r});z0.displayName="DialogHeader";const H0=y.forwardRef(({className:t,...r},s)=>e.jsx(fw,{ref:s,className:ms("text-lg font-semibold leading-none tracking-tight",t),...r}));H0.displayName=fw.displayName;const kD=y.forwardRef(({className:t,...r},s)=>e.jsx(pw,{ref:s,className:ms("text-sm text-muted-foreground",t),...r}));kD.displayName=pw.displayName;const SD=Fv("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),jt=y.forwardRef(({className:t,variant:r,size:s,asChild:a=!1,...i},l)=>{const c=a?"span":"button";return e.jsx(c,{className:ms(SD({variant:r,size:s,className:t})),ref:l,...i})});jt.displayName="Button";function CD(t){const r=t+"CollectionProvider",[s,a]=od(r),[i,l]=s(r,{collectionRef:{current:null},itemMap:new Map}),c=S=>{const{scope:k,children:E}=S,C=je.useRef(null),j=je.useRef(new Map).current;return e.jsx(i,{scope:k,itemMap:j,collectionRef:C,children:E})};c.displayName=r;const u=t+"CollectionSlot",m=Uc(u),h=je.forwardRef((S,k)=>{const{scope:E,children:C}=S,j=l(u,E),A=ds(k,j.collectionRef);return e.jsx(m,{ref:A,children:C})});h.displayName=u;const p=t+"CollectionItemSlot",g="data-radix-collection-item",x=Uc(p),v=je.forwardRef((S,k)=>{const{scope:E,children:C,...j}=S,A=je.useRef(null),P=ds(k,A),F=l(p,E);return je.useEffect(()=>(F.itemMap.set(A,{ref:A,...j}),()=>void F.itemMap.delete(A))),e.jsx(x,{[g]:"",ref:P,children:C})});v.displayName=p;function w(S){const k=l(t+"CollectionConsumer",S);return je.useCallback(()=>{const C=k.collectionRef.current;if(!C)return[];const j=Array.from(C.querySelectorAll(`[${g}]`));return Array.from(k.itemMap.values()).sort((F,T)=>j.indexOf(F.ref.current)-j.indexOf(T.ref.current))},[k.collectionRef,k.itemMap])}return[{Provider:c,Slot:h,ItemSlot:v},w,a]}var ED=y.createContext(void 0);function xw(t){const r=y.useContext(ED);return t||r||"ltr"}var Hm="rovingFocusGroup.onEntryFocus",TD={bubbles:!1,cancelable:!0},Ri="RovingFocusGroup",[W0,yw,AD]=CD(Ri),[PD,bw]=od(Ri,[AD]),[DD,MD]=PD(Ri),vw=y.forwardRef((t,r)=>e.jsx(W0.Provider,{scope:t.__scopeRovingFocusGroup,children:e.jsx(W0.Slot,{scope:t.__scopeRovingFocusGroup,children:e.jsx(RD,{...t,ref:r})})}));vw.displayName=Ri;var RD=y.forwardRef((t,r)=>{const{__scopeRovingFocusGroup:s,orientation:a,loop:i=!1,dir:l,currentTabStopId:c,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:m,onEntryFocus:h,preventScrollOnEntryFocus:p=!1,...g}=t,x=y.useRef(null),v=ds(r,x),w=xw(l),[S,k]=Wh({prop:c,defaultProp:u??null,onChange:m,caller:Ri}),[E,C]=y.useState(!1),j=Wn(h),A=yw(s),P=y.useRef(!1),[F,T]=y.useState(0);return y.useEffect(()=>{const L=x.current;if(L)return L.addEventListener(Hm,j),()=>L.removeEventListener(Hm,j)},[j]),e.jsx(DD,{scope:s,orientation:a,dir:w,loop:i,currentTabStopId:S,onItemFocus:y.useCallback(L=>k(L),[k]),onItemShiftTab:y.useCallback(()=>C(!0),[]),onFocusableItemAdd:y.useCallback(()=>T(L=>L+1),[]),onFocusableItemRemove:y.useCallback(()=>T(L=>L-1),[]),children:e.jsx(tr.div,{tabIndex:E||F===0?-1:0,"data-orientation":a,...g,ref:v,style:{outline:"none",...t.style},onMouseDown:Vt(t.onMouseDown,()=>{P.current=!0}),onFocus:Vt(t.onFocus,L=>{const z=!P.current;if(L.target===L.currentTarget&&z&&!E){const q=new CustomEvent(Hm,TD);if(L.currentTarget.dispatchEvent(q),!q.defaultPrevented){const O=A().filter(J=>J.focusable),B=O.find(J=>J.active),U=O.find(J=>J.id===S),ee=[B,U,...O].filter(Boolean).map(J=>J.ref.current);Nw(ee,p)}}P.current=!1}),onBlur:Vt(t.onBlur,()=>C(!1))})})}),ww="RovingFocusGroupItem",jw=y.forwardRef((t,r)=>{const{__scopeRovingFocusGroup:s,focusable:a=!0,active:i=!1,tabStopId:l,children:c,...u}=t,m=ni(),h=l||m,p=MD(ww,s),g=p.currentTabStopId===h,x=yw(s),{onFocusableItemAdd:v,onFocusableItemRemove:w,currentTabStopId:S}=p;return y.useEffect(()=>{if(a)return v(),()=>w()},[a,v,w]),e.jsx(W0.ItemSlot,{scope:s,id:h,focusable:a,active:i,children:e.jsx(tr.span,{tabIndex:g?0:-1,"data-orientation":p.orientation,...u,ref:r,onMouseDown:Vt(t.onMouseDown,k=>{a?p.onItemFocus(h):k.preventDefault()}),onFocus:Vt(t.onFocus,()=>p.onItemFocus(h)),onKeyDown:Vt(t.onKeyDown,k=>{if(k.key==="Tab"&&k.shiftKey){p.onItemShiftTab();return}if(k.target!==k.currentTarget)return;const E=_D(k,p.orientation,p.dir);if(E!==void 0){if(k.metaKey||k.ctrlKey||k.altKey||k.shiftKey)return;k.preventDefault();let j=x().filter(A=>A.focusable).map(A=>A.ref.current);if(E==="last")j.reverse();else if(E==="prev"||E==="next"){E==="prev"&&j.reverse();const A=j.indexOf(k.currentTarget);j=p.loop?OD(j,A+1):j.slice(A+1)}setTimeout(()=>Nw(j))}}),children:typeof c=="function"?c({isCurrentTabStop:g,hasTabStop:S!=null}):c})})});jw.displayName=ww;var LD={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ID(t,r){return r!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function _D(t,r,s){const a=ID(t.key,s);if(!(r==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(r==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return LD[a]}function Nw(t,r=!1){const s=document.activeElement;for(const a of t)if(a===s||(a.focus({preventScroll:r}),document.activeElement!==s))return}function OD(t,r){return t.map((s,a)=>t[(r+a)%t.length])}var FD=vw,BD=jw,cd="Tabs",[UD]=od(cd,[bw]),kw=bw(),[$D,Gh]=UD(cd),Sw=y.forwardRef((t,r)=>{const{__scopeTabs:s,value:a,onValueChange:i,defaultValue:l,orientation:c="horizontal",dir:u,activationMode:m="automatic",...h}=t,p=xw(u),[g,x]=Wh({prop:a,onChange:i,defaultProp:l??"",caller:cd});return e.jsx($D,{scope:s,baseId:ni(),value:g,onValueChange:x,orientation:c,dir:p,activationMode:m,children:e.jsx(tr.div,{dir:p,"data-orientation":c,...h,ref:r})})});Sw.displayName=cd;var Cw="TabsList",Ew=y.forwardRef((t,r)=>{const{__scopeTabs:s,loop:a=!0,...i}=t,l=Gh(Cw,s),c=kw(s);return e.jsx(FD,{asChild:!0,...c,orientation:l.orientation,dir:l.dir,loop:a,children:e.jsx(tr.div,{role:"tablist","aria-orientation":l.orientation,...i,ref:r})})});Ew.displayName=Cw;var Tw="TabsTrigger",Aw=y.forwardRef((t,r)=>{const{__scopeTabs:s,value:a,disabled:i=!1,...l}=t,c=Gh(Tw,s),u=kw(s),m=Mw(c.baseId,a),h=Rw(c.baseId,a),p=a===c.value;return e.jsx(BD,{asChild:!0,...u,focusable:!i,active:p,children:e.jsx(tr.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":h,"data-state":p?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:m,...l,ref:r,onMouseDown:Vt(t.onMouseDown,g=>{!i&&g.button===0&&g.ctrlKey===!1?c.onValueChange(a):g.preventDefault()}),onKeyDown:Vt(t.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&c.onValueChange(a)}),onFocus:Vt(t.onFocus,()=>{const g=c.activationMode!=="manual";!p&&!i&&g&&c.onValueChange(a)})})})});Aw.displayName=Tw;var Pw="TabsContent",Dw=y.forwardRef((t,r)=>{const{__scopeTabs:s,value:a,forceMount:i,children:l,...c}=t,u=Gh(Pw,s),m=Mw(u.baseId,a),h=Rw(u.baseId,a),p=a===u.value,g=y.useRef(p);return y.useEffect(()=>{const x=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(x)},[]),e.jsx(Mi,{present:i||p,children:({present:x})=>e.jsx(tr.div,{"data-state":p?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":m,hidden:!x,id:h,tabIndex:0,...c,ref:r,style:{...t.style,animationDuration:g.current?"0s":void 0},children:x&&l})})});Dw.displayName=Pw;function Mw(t,r){return`${t}-trigger-${r}`}function Rw(t,r){return`${t}-content-${r}`}var VD=Sw,Lw=Ew,Iw=Aw,_w=Dw;const Xh=VD,dd=y.forwardRef(({className:t,...r},s)=>e.jsx(Lw,{ref:s,className:ms("inline-flex h-10 items-center justify-center rounded-md bg-gray-200 dark:bg-gray-700 p-1 text-gray-600 dark:text-gray-300",t),...r}));dd.displayName=Lw.displayName;const Pr=y.forwardRef(({className:t,...r},s)=>e.jsx(Iw,{ref:s,className:ms("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-white dark:data-[state=active]:bg-gray-800 data-[state=active]:text-gray-900 dark:data-[state=active]:text-white data-[state=active]:shadow-sm text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white",t),...r}));Pr.displayName=Iw.displayName;const Dr=y.forwardRef(({className:t,...r},s)=>e.jsx(_w,{ref:s,className:ms("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...r}));Dr.displayName=_w.displayName;const zD=({employee:t,isOpen:r,onClose:s})=>{var k,E,C,j,A,P;const[a,i]=y.useState("overview"),[l,c]=y.useState(null),[u,m]=y.useState(!1);y.useEffect(()=>{r&&(t!=null&&t._id)?p():r&&(t!=null&&t.userId)&&h()},[r,t==null?void 0:t._id,t==null?void 0:t.userId]);const h=async()=>{try{m(!0),console.log("Fetching employee by userId:",t.userId);const F=await Kt.getByUserId(t.userId);F.data.success?(console.log("Found employee by userId:",F.data.data),c(F.data.data)):(console.log("No employee found with userId:",t.userId),c(t))}catch(F){console.error("Error fetching employee by userId:",F),c(t)}finally{m(!1)}},p=async()=>{var F,T;try{m(!0),console.log("Fetching employee data for ID:",t._id),console.log("Employee object passed to modal:",t);const L=await Kt.getById(t._id);console.log("Employee API response:",L),L.data.success?(console.log("Full employee data:",L.data.data),c(L.data.data)):(console.error("API returned success: false:",L.data),c(t))}catch(L){console.error("Error fetching employee details:",L),console.error("Error details:",{message:L.message,response:(F=L.response)==null?void 0:F.data,status:(T=L.response)==null?void 0:T.status}),c(t)}finally{m(!1)}},g=()=>{console.log("Manual refresh requested"),p()},x=l||t;if(console.log("Current employee data being used:",x),console.log("Document fields:",{photograph:x==null?void 0:x.photograph,tenthMarksheet:x==null?void 0:x.tenthMarksheet,aadharCard:x==null?void 0:x.aadharCard,panCard:x==null?void 0:x.panCard,pcc:x==null?void 0:x.pcc,resume:x==null?void 0:x.resume,offerLetter:x==null?void 0:x.offerLetter}),!x)return null;const v=F=>F?new Date(F).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"Not specified",w=F=>{switch(F==null?void 0:F.toUpperCase()){case"ACTIVE":return"bg-green-100 text-green-800";case"INACTIVE":return"bg-gray-100 text-gray-800";case"TERMINATED":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};if(u)return e.jsx(wb,{open:r,onOpenChange:s,children:e.jsxs(V0,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsx(z0,{children:e.jsxs(H0,{className:"flex items-center gap-2",children:[e.jsx(sc,{className:"w-5 h-5"}),"Employee Details"]})}),e.jsx("div",{className:"flex justify-center items-center h-32",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"})})]})});const S=(F,T,L)=>{if(console.log(`Rendering document card for ${F}:`,T),!T)return e.jsx(Ye,{className:"mb-4 opacity-50",children:e.jsxs(We,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[L,e.jsx("span",{className:"text-sm",children:F})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Not uploaded"})]})},F);let z=null,q=F,O=null;return typeof T=="string"?(z=T,q=F):typeof T=="object"&&(z=T.url||T.webViewLink||T.webContentLink,q=T.originalName||T.fileName||T.name||F,O=T.size),e.jsx(Ye,{className:"mb-4",children:e.jsxs(We,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[L,e.jsx("span",{className:"text-sm font-medium",children:F})]}),z&&e.jsxs(jt,{variant:"outline",size:"sm",onClick:()=>window.open(z,"_blank"),className:"flex items-center gap-1",children:[e.jsx(yP,{className:"w-3 h-3"}),"View"]})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:q}),O&&e.jsxs("p",{className:"text-xs text-gray-400",children:["Size: ",(O/1024).toFixed(1)," KB"]})]})},F)};return e.jsx(wb,{open:r,onOpenChange:s,children:e.jsxs(V0,{className:"max-w-4xl max-h-[90vh] overflow-y-auto","aria-describedby":"employee-details-description",children:[e.jsx(z0,{children:e.jsxs(H0,{className:"flex items-center gap-2",children:[e.jsx(sc,{className:"w-5 h-5"}),"Employee Details"]})}),e.jsx("div",{id:"employee-details-description",className:"sr-only",children:"Detailed view of employee information including personal details, contact information, documents, and employment history."}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(Ye,{children:e.jsx(We,{className:"pt-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-xl font-bold",children:(E=(k=x.fullName)==null?void 0:k.charAt(0))==null?void 0:E.toUpperCase()}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:x.fullName}),e.jsx("p",{className:"text-gray-600",children:((C=x.role)==null?void 0:C.name)||x.role}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(Ke,{className:w(x.status),children:x.status||"ACTIVE"}),e.jsx(Ke,{variant:"outline",children:((j=x.department)==null?void 0:j.name)||"General"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(jt,{variant:"outline",onClick:g,disabled:u,className:"flex items-center gap-2",children:u?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-gray-300 border-t-blue-600 rounded-full animate-spin"}),"Refreshing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(RP,{className:"w-4 h-4"}),"Refresh"]})}),e.jsx(jt,{variant:"outline",onClick:s,children:"Close"})]})]})})}),e.jsxs(Xh,{value:a,onValueChange:i,children:[e.jsxs(dd,{className:"grid w-full grid-cols-4",children:[e.jsx(Pr,{value:"overview",children:"Overview"}),e.jsx(Pr,{value:"contact",children:"Contact"}),e.jsx(Pr,{value:"documents",children:"Documents"}),e.jsx(Pr,{value:"employment",children:"Employment"})]}),e.jsx(Dr,{value:"overview",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs(Ye,{children:[e.jsx(vt,{children:e.jsxs(wt,{className:"text-lg flex items-center gap-2",children:[e.jsx(sc,{className:"w-4 h-4"}),"Personal Information"]})}),e.jsxs(We,{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(CP,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-sm",children:x.email})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ob,{className:"w-4 h-4 text-gray-500"}),e.jsxs("span",{className:"text-sm",children:["Date of Birth: ",v(x.dateOfBirth)]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Im,{className:"w-4 h-4 text-gray-500"}),e.jsxs("span",{className:"text-sm",children:["Joined: ",v(x.joiningDate)]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(kP,{className:"w-4 h-4 text-gray-500"}),e.jsxs("span",{className:"text-sm font-medium",children:["Salary: ",Kc(x.salary,"INR")]})]}),x.internshipDuration&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Im,{className:"w-4 h-4 text-gray-500"}),e.jsxs("span",{className:"text-sm",children:["Internship: ",x.internshipDuration," months"]})]})]})]}),e.jsxs(Ye,{children:[e.jsx(vt,{children:e.jsxs(wt,{className:"text-lg flex items-center gap-2",children:[e.jsx($r,{className:"w-4 h-4"}),"Documents Summary"]})}),e.jsx(We,{className:"space-y-3",children:e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsxs("p",{className:"mb-2",children:[" ",e.jsx("strong",{children:"Available Documents:"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[x.photograph?"":""," Photograph"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[x.aadharCard?"":""," Aadhar Card"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[x.panCard?"":""," PAN Card"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[x.pcc?"":""," PCC"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[x.tenthMarksheet?"":""," 10th Marksheet"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[x.twelfthMarksheet?"":""," 12th Marksheet"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[x.bachelorDegree?"":""," Bachelor Degree"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[x.postgraduateDegree?"":""," ","Postgraduate Degree"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[x.resume?"":""," Resume"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[x.offerLetter?"":""," Offer Letter"]})]}),e.jsx("p",{className:"mt-3 text-blue-600 font-medium",children:' Click on the "Documents" tab to view and download all documents'})]})})]})]})}),e.jsx(Dr,{value:"contact",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs(Ye,{children:[e.jsx(vt,{children:e.jsxs(wt,{className:"text-lg flex items-center gap-2",children:[e.jsx(ib,{className:"w-4 h-4"}),"Contact Information"]})}),e.jsxs(We,{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ib,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-sm",children:x.phoneNumber||"Not specified"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(PP,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-sm",children:x.whatsappNumber||"Not specified"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(wP,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-sm",children:x.linkedInUrl?e.jsxs("a",{href:x.linkedInUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline flex items-center gap-1",children:["LinkedIn Profile"," ",e.jsx(gP,{className:"w-3 h-3"})]}):"Not specified"})]})]})]}),e.jsxs(Ye,{children:[e.jsx(vt,{children:e.jsxs(wt,{className:"text-lg flex items-center gap-2",children:[e.jsx(TP,{className:"w-4 h-4"}),"Address Information"]})}),e.jsxs(We,{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Current Address:"}),e.jsx("p",{className:"text-sm text-gray-600",children:x.currentAddress||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Permanent Address:"}),e.jsx("p",{className:"text-sm text-gray-600",children:x.permanentAddress||"Not specified"})]})]})]})]})}),e.jsxs(Dr,{value:"documents",className:"space-y-4",children:[console.log("Documents tab content rendering with employeeData:",x),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx($r,{className:"w-4 h-4"}),"Identity Documents"]}),S("Photograph",x.photograph,e.jsx(sc,{className:"w-4 h-4"})),S("Aadhar Card",x.aadharCard,e.jsx($r,{className:"w-4 h-4"})),S("PAN Card",x.panCard,e.jsx($r,{className:"w-4 h-4"})),S("PCC",x.pcc,e.jsx($r,{className:"w-4 h-4"}))]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx(_m,{className:"w-4 h-4"}),"Educational Documents"]}),S("10th Marksheet",x.tenthMarksheet,e.jsx($r,{className:"w-4 h-4"})),S("12th Marksheet",x.twelfthMarksheet,e.jsx($r,{className:"w-4 h-4"})),S("Bachelor Degree",x.bachelorDegree,e.jsx($r,{className:"w-4 h-4"})),S("Postgraduate Degree",x.postgraduateDegree,e.jsx($r,{className:"w-4 h-4"}))]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx(ab,{className:"w-4 h-4"}),"Employment Documents"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[S("Resume",x.resume,e.jsx($r,{className:"w-4 h-4"})),S("Offer Letter",x.offerLetter,e.jsx($r,{className:"w-4 h-4"}))]})]})]})]}),e.jsx(Dr,{value:"employment",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs(Ye,{children:[e.jsx(vt,{children:e.jsxs(wt,{className:"text-lg flex items-center gap-2",children:[e.jsx(nb,{className:"w-4 h-4"}),"Department & Role"]})}),e.jsxs(We,{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(nb,{className:"w-4 h-4 text-gray-500"}),e.jsxs("span",{className:"text-sm font-medium",children:["Department: ",((A=x.department)==null?void 0:A.name)||"General"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ab,{className:"w-4 h-4 text-gray-500"}),e.jsxs("span",{className:"text-sm font-medium",children:["Role: ",((P=x.role)==null?void 0:P.name)||x.role]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ob,{className:"w-4 h-4 text-gray-500"}),e.jsxs("span",{className:"text-sm",children:["Joining Date: ",v(x.joiningDate)]})]})]})]}),e.jsxs(Ye,{children:[e.jsx(vt,{children:e.jsxs(wt,{className:"text-lg flex items-center gap-2",children:[e.jsx(_m,{className:"w-4 h-4"}),"Education"]})}),e.jsxs(We,{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_m,{className:"w-4 h-4 text-gray-500"}),e.jsxs("span",{className:"text-sm",children:["College: ",x.collegeName||"Not specified"]})]}),x.internshipDuration&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Im,{className:"w-4 h-4 text-gray-500"}),e.jsxs("span",{className:"text-sm",children:["Internship Duration: ",x.internshipDuration," ","months"]})]})]})]})]})})]})]})]})})},HD=({employeeId:t,isOpen:r,onOpenChange:s,onEmployeeUpdated:a,departments:i,roles:l})=>{const[c,u]=y.useState(null),[m,h]=y.useState(!1),[p,g]=y.useState(!1),[x,v]=y.useState("documents");console.log("EditEmployeeDialog received employeeId:",t),console.log("EditEmployeeDialog isOpen:",r);const[w,S]=y.useState({fullName:"",email:"",phoneNumber:"",whatsappNumber:"",linkedInUrl:"",currentAddress:"",permanentAddress:"",dateOfBirth:"",joiningDate:"",salary:"",status:"ACTIVE",department:"",role:"",collegeName:"",internshipDuration:""}),[k,E]=y.useState({}),[C,j]=y.useState({});y.useEffect(()=>{r&&t&&A()},[r,t]);const A=async()=>{var O,B;try{console.log("fetchEmployeeDetails called with employeeId:",t),h(!0);const U=await Kt.getById(t);if(console.log("fetchEmployeeDetails response:",U),U.data.success){const R=U.data.data;console.log("fetchEmployeeDetails employee data:",R),u(R),S({fullName:R.fullName||"",email:R.email||"",phoneNumber:R.phoneNumber||"",whatsappNumber:R.whatsappNumber||"",linkedInUrl:R.linkedInUrl||"",currentAddress:R.currentAddress||"",permanentAddress:R.permanentAddress||"",dateOfBirth:R.dateOfBirth?new Date(R.dateOfBirth).toISOString().split("T")[0]:"",joiningDate:R.joiningDate?new Date(R.joiningDate).toISOString().split("T")[0]:"",salary:R.salary||"",status:R.status||"ACTIVE",department:((O=R.department)==null?void 0:O._id)||R.department||"",role:((B=R.role)==null?void 0:B._id)||R.role||"",collegeName:R.collegeName||"",internshipDuration:R.internshipDuration||""})}}catch(U){console.error("Error fetching employee details:",U)}finally{h(!1)}},P=O=>{const{name:B,value:U}=O.target;S(R=>({...R,[B]:U})),C[B]&&j(R=>({...R,[B]:""}))},F=O=>{const{name:B,files:U}=O.target;U&&U[0]&&E(R=>({...R,[B]:U[0]}))},T=()=>{const O={};return w.fullName.trim()&&!w.fullName.trim()&&(O.fullName="Full name is required"),w.email.trim()&&!/\S+@\S+\.\S+/.test(w.email)&&(O.email="Email is invalid"),w.salary&&isNaN(w.salary)&&(O.salary="Salary must be a number"),w.internshipDuration&&isNaN(w.internshipDuration)&&(O.internshipDuration="Internship duration must be a number"),j(O),Object.keys(O).length===0},L=async O=>{if(O.preventDefault(),console.log("EditEmployeeDialog handleSubmit - employeeId:",t),console.log("EditEmployeeDialog handleSubmit - formData:",w),console.log("EditEmployeeDialog handleSubmit - files:",k),!!T())try{g(!0);const B=new FormData,U={};if(Object.keys(w).forEach(ee=>{w[ee]&&w[ee]!==""&&(U[ee]=w[ee])}),Object.keys(U).length>0&&B.append("employee",JSON.stringify(U)),Object.keys(k).forEach(ee=>{k[ee]&&B.append(ee,k[ee])}),Object.keys(U).length===0&&Object.keys(k).length===0){alert("No changes detected. Please update some information or upload documents.");return}(await Kt.update(t,B)).data.success?(a(),s(!1),alert("Employee updated successfully!")):alert("Failed to update employee. Please try again.")}catch(B){console.error("Error updating employee:",B),alert("Failed to update employee. Please try again.")}finally{g(!1)}},z=[{id:"documents",label:"Documents",icon:s0},{id:"personal",label:"Personal Info",icon:Ot},{id:"professional",label:"Professional Info",icon:Tc},{id:"education",label:"Education",icon:bv}],q=[{key:"photograph",label:"Photograph",accept:"image/*"},{key:"resume",label:"Resume",accept:".pdf,.doc,.docx"},{key:"tenthMarksheet",label:"10th Marksheet",accept:".pdf,.jpg,.jpeg,.png"},{key:"twelfthMarksheet",label:"12th Marksheet",accept:".pdf,.jpg,.jpeg,.png"},{key:"bachelorDegree",label:"Bachelor Degree",accept:".pdf,.jpg,.jpeg,.png"},{key:"postgraduateDegree",label:"Postgraduate Degree",accept:".pdf,.jpg,.jpeg,.png"},{key:"aadharCard",label:"Aadhar Card",accept:".pdf,.jpg,.jpeg,.png"},{key:"panCard",label:"PAN Card",accept:".pdf,.jpg,.jpeg,.png"},{key:"pcc",label:"PCC",accept:".pdf,.jpg,.jpeg,.png"},{key:"offerLetter",label:"Offer Letter",accept:".pdf,.doc,.docx"}];return r?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Update Employee"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Update employee information and documents. Only changed fields will be updated."})]}),e.jsx("button",{onClick:()=>s(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),m?e.jsxs("div",{className:"flex justify-center items-center py-8",children:[e.jsx(_t,{className:"animate-spin text-2xl text-blue-600"}),e.jsx("span",{className:"ml-2",children:"Loading employee details..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(y3,{className:"text-blue-500 mt-0.5 mr-3 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:"Update Employee Information"}),e.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 mt-1",children:"You can update any employee information or upload new documents. Only selected fields will be updated."})]})]})}),e.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 mb-6",children:e.jsx("nav",{className:"flex space-x-8",children:z.map(O=>e.jsxs("button",{onClick:()=>v(O.id),className:`flex items-center py-2 px-1 border-b-2 font-medium text-sm ${x===O.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:[e.jsx(O.icon,{className:"mr-2"}),O.label]},O.id))})}),e.jsxs("form",{onSubmit:L,children:[x==="documents"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:[e.jsx("h3",{className:"text-lg font-medium text-yellow-800 dark:text-yellow-200 mb-2",children:"Upload Employee Documents"}),e.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"Select the documents you want to upload or update. Only selected files will be processed."})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:q.map(O=>e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:O.label}),e.jsx("input",{type:"file",name:O.key,accept:O.accept,onChange:F,className:"w-full px-3 py-2 border border-gray-300 rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 dark:file:bg-blue-900 dark:file:text-blue-300"}),k[O.key]&&e.jsxs("p",{className:"text-sm text-green-600 dark:text-green-400",children:[" ",k[O.key].name," selected"]})]},O.key))})]}),x==="personal"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 mb-4",children:e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Update personal information. Leave fields empty if you don't want to change them."})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Full Name"}),e.jsx("input",{type:"text",name:"fullName",value:w.fullName,onChange:P,placeholder:"Leave empty to keep current",className:`w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white ${C.fullName?"border-red-500":"border-gray-300"}`}),C.fullName&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:C.fullName})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),e.jsx("input",{type:"email",name:"email",value:w.email,onChange:P,placeholder:"Leave empty to keep current",className:`w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white ${C.email?"border-red-500":"border-gray-300"}`}),C.email&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:C.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Phone Number"}),e.jsx("input",{type:"tel",name:"phoneNumber",value:w.phoneNumber,onChange:P,placeholder:"Leave empty to keep current",className:"w-full px-3 py-2 border border-gray-300 rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"WhatsApp Number"}),e.jsx("input",{type:"tel",name:"whatsappNumber",value:w.whatsappNumber,onChange:P,placeholder:"Leave empty to keep current",className:"w-full px-3 py-2 border border-gray-300 rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"LinkedIn URL"}),e.jsx("input",{type:"url",name:"linkedInUrl",value:w.linkedInUrl,onChange:P,placeholder:"Leave empty to keep current",className:"w-full px-3 py-2 border border-gray-300 rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Date of Birth"}),e.jsx("input",{type:"date",name:"dateOfBirth",value:w.dateOfBirth,onChange:P,className:"w-full px-3 py-2 border border-gray-300 rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Current Address"}),e.jsx("textarea",{name:"currentAddress",value:w.currentAddress,onChange:P,placeholder:"Leave empty to keep current",rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Permanent Address"}),e.jsx("textarea",{name:"permanentAddress",value:w.permanentAddress,onChange:P,placeholder:"Leave empty to keep current",rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]})]}),x==="professional"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 mb-4",children:e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Update professional information. Leave fields empty if you don't want to change them."})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Department"}),e.jsxs("select",{name:"department",value:w.department,onChange:P,className:"w-full px-3 py-2 border border-gray-300 rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:[e.jsx("option",{value:"",children:"Keep Current Department"}),i.map(O=>e.jsx("option",{value:O._id,children:O.name},O._id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Role"}),e.jsxs("select",{name:"role",value:w.role,onChange:P,className:"w-full px-3 py-2 border border-gray-300 rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:[e.jsx("option",{value:"",children:"Keep Current Role"}),l.map(O=>e.jsx("option",{value:O._id,children:O.name},O._id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Joining Date"}),e.jsx("input",{type:"date",name:"joiningDate",value:w.joiningDate,onChange:P,className:"w-full px-3 py-2 border border-gray-300 rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Salary"}),e.jsx("input",{type:"number",name:"salary",value:w.salary,onChange:P,placeholder:"Leave empty to keep current",className:`w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white ${C.salary?"border-red-500":"border-gray-300"}`}),C.salary&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:C.salary})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Status"}),e.jsxs("select",{name:"status",value:w.status,onChange:P,className:"w-full px-3 py-2 border border-gray-300 rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:[e.jsx("option",{value:"ACTIVE",children:"Active"}),e.jsx("option",{value:"INACTIVE",children:"Inactive"}),e.jsx("option",{value:"TERMINATED",children:"Terminated"})]})]})]})]}),x==="education"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 mb-4",children:e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Update education information. Leave fields empty if you don't want to change them."})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"College Name"}),e.jsx("input",{type:"text",name:"collegeName",value:w.collegeName,onChange:P,placeholder:"Leave empty to keep current",className:"w-full px-3 py-2 border border-gray-300 rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Internship Duration (months)"}),e.jsx("input",{type:"number",name:"internshipDuration",value:w.internshipDuration,onChange:P,placeholder:"Leave empty to keep current",className:`w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white ${C.internshipDuration?"border-red-500":"border-gray-300"}`}),C.internshipDuration&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:C.internshipDuration})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8 pt-6 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("button",{type:"button",onClick:()=>s(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-600 dark:hover:bg-gray-600",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:p,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:p?e.jsxs(e.Fragment,{children:[e.jsx(_t,{className:"animate-spin inline mr-2"}),"Updating..."]}):"Update Employee"})]})]})]})]})})}):null},jb=()=>{const{user:t}=Fe(),[r,s]=y.useState([]),[a,i]=y.useState([]),[l,c]=y.useState([]),[u,m]=y.useState(!0),[h,p]=y.useState(null),[g,x]=y.useState(""),[v,w]=y.useState(!1),[S,k]=y.useState(!1),[E,C]=y.useState(!1),[j,A]=y.useState(null),[P,F]=y.useState(null),T=async()=>{try{const R=await Kt.getDepartments();R.data.success&&i(R.data.data)}catch(R){console.error("Error fetching departments:",R),i([{_id:"default",name:"General"}])}},L=async()=>{try{const R=await Kt.getRoles();R.data.success&&c(R.data.data)}catch(R){console.error("Error fetching roles:",R),c([{_id:"emp",name:"Employee"},{_id:"sales",name:"Sales Person"},{_id:"lead",name:"Lead Person"},{_id:"it_staff",name:"IT Staff"},{_id:"it_manager",name:"IT Manager"}])}},z=async()=>{try{m(!0);const R=await Kt.getAll();s(R.data.data),p(null)}catch(R){console.error("Error fetching employees:",R),p("Failed to load employees. Please try again later.")}finally{m(!1)}};y.useEffect(()=>{T(),L(),z()},[]);const q=y.useMemo(()=>r.filter(R=>{var J,H,K,I,G,_;const ee=g.toLowerCase();return((J=R.fullName)==null?void 0:J.toLowerCase().includes(ee))||((H=R.email)==null?void 0:H.toLowerCase().includes(ee))||((I=(K=R.department)==null?void 0:K.name)==null?void 0:I.toLowerCase().includes(ee))||((_=(G=R.role)==null?void 0:G.name)==null?void 0:_.toLowerCase().includes(ee))}),[r,g]),O=R=>{A(R),C(!0)},B=R=>{A(R),k(!0)},U=async R=>{if(window.confirm("Are you sure you want to delete this employee? This action cannot be undone."))try{F(R),await Kt.delete(R),me.success("Employee deleted successfully"),z()}catch(ee){console.error("Error deleting employee:",ee),me.error("Failed to delete employee. Please try again.")}finally{F(null)}};return u?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):h?e.jsxs("div",{className:"text-center p-4",children:[e.jsx("p",{className:"text-red-500",children:h}),e.jsx("button",{onClick:z,className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Try Again"})]}):e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Employee Management"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Manage your organization's employees"})]}),e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{className:"relative w-64",children:[e.jsx("input",{type:"text",placeholder:"Search employees...",value:g,onChange:R=>x(R.target.value),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),e.jsx("span",{className:"absolute right-3 top-2.5 text-gray-400",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]}),e.jsx("button",{onClick:()=>w(!0),className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:ring-offset-gray-800",children:"Add Employee"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:q.map(R=>{var ee,J,H;return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-500 flex items-center justify-center text-white text-xl font-bold",children:((ee=R.fullName)==null?void 0:ee[0])||"?"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white cursor-pointer hover:text-blue-600 transition-colors",onClick:()=>B(R),children:R.fullName}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:((J=R.role)==null?void 0:J.name)||"No Role"})]})]}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${R.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:R.status})]}),e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:R.email}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Department: ",((H=R.department)==null?void 0:H.name)||"N/A"]}),R.salary&&e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Salary: ",R.salary.toLocaleString()]}),R.joiningDate&&e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Joining Date: ",new Date(R.joiningDate).toLocaleDateString()]}),R.phoneNumber&&e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Phone: ",R.phoneNumber]})]}),e.jsxs("div",{className:"mt-4 flex justify-end space-x-2",children:[e.jsx("button",{onClick:()=>B(R),className:"px-3 py-1 text-sm text-green-500 hover:text-green-600 focus:outline-none",children:"View Details"}),e.jsx("button",{onClick:()=>O(R),className:"px-3 py-1 text-sm text-blue-500 hover:text-blue-600 focus:outline-none",children:"Edit"}),e.jsx("button",{onClick:()=>U(R._id),disabled:P===R._id,className:"px-3 py-1 text-sm text-red-500 hover:text-red-600 focus:outline-none disabled:opacity-50",children:P===R._id?"Deleting...":"Delete"})]})]},R._id)})}),q.length===0&&e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No employees found"})}),e.jsx(zP,{open:v,onOpenChange:w,onEmployeeAdded:z,departments:a,roles:l}),e.jsx(zD,{employee:j,isOpen:S,onClose:()=>k(!1)}),e.jsx(HD,{employeeId:j==null?void 0:j._id,isOpen:E,onOpenChange:C,onEmployeeUpdated:z,departments:a,roles:l})]})},WD=()=>{const{user:t}=Fe(),[r,s]=y.useState([]),[a,i]=y.useState([]),[l,c]=y.useState([]),[u,m]=y.useState([]),[h,p]=y.useState(!0),[g,x]=y.useState(!1),[v,w]=y.useState("update"),[S,k]=y.useState({department:"",role:"",status:"",salary:""}),[E,C]=y.useState("all"),[j,A]=y.useState("all");y.useEffect(()=>{P()},[]);const P=async()=>{try{p(!0);const[U,R,ee]=await Promise.all([Kt.getAll(),Kt.getDepartments(),Kt.getRoles()]);U.data.success&&s(U.data.data),R.data.success&&i(R.data.data),ee.data.success&&c(ee.data.data)}catch(U){console.error("Error fetching data:",U)}finally{p(!1)}},F=()=>r.filter(U=>{var R;return!(E!=="all"&&U.status!==E||j!=="all"&&(((R=U.department)==null?void 0:R._id)||U.department)!==j)}),T=U=>{m(R=>R.includes(U)?R.filter(ee=>ee!==U):[...R,U])},L=()=>{const U=F();u.length===U.length?m([]):m(U.map(R=>R._id))},z=async()=>{if(u.length===0){alert("Please select employees to update");return}const U=Object.entries(S).filter(([R,ee])=>ee!=="").reduce((R,[ee,J])=>(R[ee]=J,R),{});if(Object.keys(U).length===0){alert("Please specify at least one field to update");return}try{x(!0);for(const R of u)console.log(`Updating employee ${R} with:`,U);alert(`Successfully updated ${u.length} employees`),m([]),k({department:"",role:"",status:"",salary:""}),P()}catch(R){console.error("Error in bulk update:",R),alert("Failed to update employees. Please try again.")}finally{x(!1)}},q=()=>{const U=u.length>0?r.filter(K=>u.includes(K._id)):F(),R=[["Name","Email","Phone","Department","Role","Status","Salary","Joining Date"],...U.map(K=>{var I,G;return[K.fullName||"",K.email||"",K.phoneNumber||"",((I=K.department)==null?void 0:I.name)||"",((G=K.role)==null?void 0:G.name)||"",K.status||"",K.salary||"",K.joiningDate?new Date(K.joiningDate).toLocaleDateString():""]})].map(K=>K.map(I=>`"${I}"`).join(",")).join(`
`),ee=new Blob([R],{type:"text/csv"}),J=window.URL.createObjectURL(ee),H=document.createElement("a");H.href=J,H.download=`employees_export_${new Date().toISOString().split("T")[0]}.csv`,H.click(),window.URL.revokeObjectURL(J)},O=()=>{const U=F(),R={totalEmployees:U.length,activeEmployees:U.filter(I=>I.status==="ACTIVE").length,departmentBreakdown:a.map(I=>({department:I.name,count:U.filter(G=>{var M;return(((M=G.department)==null?void 0:M._id)||G.department)===I._id}).length})),roleBreakdown:l.map(I=>({role:I.name,count:U.filter(G=>{var M;return(((M=G.role)==null?void 0:M._id)||G.role)===I._id}).length})),averageSalary:U.reduce((I,G)=>I+(G.salary||0),0)/U.length||0,newHires:U.filter(I=>{const G=new Date(I.joiningDate),_=new Date;return _.setMonth(_.getMonth()-3),G>_}).length},ee=`
Employee Report - Generated on ${new Date().toLocaleDateString()}

SUMMARY
=======
Total Employees: ${R.totalEmployees}
Active Employees: ${R.activeEmployees}
Average Salary: ${R.averageSalary.toFixed(2)}
New Hires (Last 3 months): ${R.newHires}

DEPARTMENT BREAKDOWN
==================
${R.departmentBreakdown.map(I=>`${I.department}: ${I.count} employees`).join(`
`)}

ROLE BREAKDOWN
==============
${R.roleBreakdown.map(I=>`${I.role}: ${I.count} employees`).join(`
`)}
    `.trim(),J=new Blob([ee],{type:"text/plain"}),H=window.URL.createObjectURL(J),K=document.createElement("a");K.href=H,K.download=`employee_report_${new Date().toISOString().split("T")[0]}.txt`,K.click(),window.URL.revokeObjectURL(H)};if(h)return e.jsxs("div",{className:"flex justify-center items-center h-64",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"}),e.jsx("span",{className:"ml-2",children:"Loading employees..."})]});const B=F();return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-lg shadow-md p-6",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center",children:[e.jsx(Qo,{className:"mr-2 text-blue-600"}),"Bulk Operations"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage multiple employees efficiently"})]}),e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[u.length," of ",B.length," selected"]})]})}),e.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-lg shadow-md p-6",children:[e.jsxs("div",{className:"flex space-x-4 mb-6",children:[e.jsx("button",{onClick:()=>w("update"),className:`px-4 py-2 rounded-md ${v==="update"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700"}`,children:"Bulk Update"}),e.jsx("button",{onClick:()=>w("export"),className:`px-4 py-2 rounded-md ${v==="export"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700"}`,children:"Export Data"}),e.jsx("button",{onClick:()=>w("reports"),className:`px-4 py-2 rounded-md ${v==="reports"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700"}`,children:"Reports"})]}),v==="update"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Update Selected Employees"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Department"}),e.jsxs("select",{value:S.department,onChange:U=>k(R=>({...R,department:U.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white",children:[e.jsx("option",{value:"",children:"No Change"}),a.map(U=>e.jsx("option",{value:U._id,children:U.name},U._id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Role"}),e.jsxs("select",{value:S.role,onChange:U=>k(R=>({...R,role:U.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white",children:[e.jsx("option",{value:"",children:"No Change"}),l.map(U=>e.jsx("option",{value:U._id,children:U.name},U._id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Status"}),e.jsxs("select",{value:S.status,onChange:U=>k(R=>({...R,status:U.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white",children:[e.jsx("option",{value:"",children:"No Change"}),e.jsx("option",{value:"ACTIVE",children:"Active"}),e.jsx("option",{value:"INACTIVE",children:"Inactive"}),e.jsx("option",{value:"TERMINATED",children:"Terminated"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Salary Adjustment (%)"}),e.jsx("input",{type:"number",value:S.salary,onChange:U=>k(R=>({...R,salary:U.target.value})),placeholder:"e.g., 10 for 10% increase",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white"})]})]}),e.jsxs("button",{onClick:z,disabled:g||u.length===0,className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:[g?e.jsx(_t,{className:"animate-spin mr-2"}):e.jsx(hs,{className:"mr-2"}),g?"Updating...":`Update ${u.length} Employees`]})]}),v==="export"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Export Employee Data"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Export ",u.length>0?"selected":"filtered"," employee data to CSV format."]}),e.jsxs("button",{onClick:q,className:"px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 flex items-center",children:[e.jsx(Pc,{className:"mr-2"}),"Export ",u.length>0?`${u.length} Selected`:`${B.length} Filtered`," Employees"]})]}),v==="reports"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Generate Reports"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Generate comprehensive reports on employee statistics and demographics."}),e.jsxs("button",{onClick:O,className:"px-6 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 flex items-center",children:[e.jsx(Pc,{className:"mr-2"}),"Generate Employee Report"]})]})]}),e.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-lg shadow-md p-6",children:e.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Filter by Status"}),e.jsxs("select",{value:E,onChange:U=>C(U.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"ACTIVE",children:"Active"}),e.jsx("option",{value:"INACTIVE",children:"Inactive"}),e.jsx("option",{value:"TERMINATED",children:"Terminated"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Filter by Department"}),e.jsxs("select",{value:j,onChange:U=>A(U.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white",children:[e.jsx("option",{value:"all",children:"All Departments"}),a.map(U=>e.jsx("option",{value:U._id,children:U.name},U._id))]})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{onClick:L,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:u.length===B.length?"Deselect All":"Select All"})})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-lg shadow-md p-6",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-slate-800",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:e.jsx("input",{type:"checkbox",checked:u.length===B.length&&B.length>0,onChange:L,className:"h-4 w-4 text-blue-600"})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Employee"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Department"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Role"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Salary"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-slate-900 divide-y divide-gray-200 dark:divide-gray-700",children:B.map(U=>{var R,ee;return e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-800",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("input",{type:"checkbox",checked:u.includes(U._id),onChange:()=>T(U._id),className:"h-4 w-4 text-blue-600"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-semibold text-sm",children:U.fullName?U.fullName[0]:"E"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:U.fullName||"Unknown"}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:U.email||"No email"})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:((R=U.department)==null?void 0:R.name)||"No Department"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:((ee=U.role)==null?void 0:ee.name)||"No Role"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${U.status==="ACTIVE"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":U.status==="INACTIVE"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:U.status||"Unknown"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:U.salary?`${U.salary.toLocaleString()}`:"Not set"})]},U._id)})})]})})})]})},qD=()=>{var H,K;const[t,r]=y.useState([]),[s,a]=y.useState(!1),[i,l]=y.useState(""),[c,u]=y.useState(""),[m,h]=y.useState(null),[p,g]=y.useState(!1),[x,v]=y.useState(""),[w,S]=y.useState(""),[k,E]=y.useState(!1),[C,j]=y.useState({status:"",leaveType:"",startDate:"",endDate:"",search:""}),[A,P]=y.useState({page:1,limit:10,total:0,pages:0}),F=[{value:"casual",label:"Casual Leave",icon:""},{value:"sick",label:"Sick Leave",icon:""},{value:"annual",label:"Annual Leave",icon:""},{value:"emergency",label:"Emergency Leave",icon:""},{value:"personal",label:"Personal Leave",icon:""},{value:"maternity",label:"Maternity Leave",icon:""},{value:"paternity",label:"Paternity Leave",icon:""},{value:"bereavement",label:"Bereavement Leave",icon:""}],T={pending:"bg-yellow-100 text-yellow-800 border-yellow-200",approved:"bg-green-100 text-green-800 border-green-200",rejected:"bg-red-100 text-red-800 border-red-200",cancelled:"bg-gray-100 text-gray-800 border-gray-200"},L={pending:e.jsx(Ts,{className:"w-4 h-4"}),approved:e.jsx(Xa,{className:"w-4 h-4"}),rejected:e.jsx(It,{className:"w-4 h-4"}),cancelled:e.jsx(It,{className:"w-4 h-4"})};y.useEffect(()=>{z()},[C,A.page]);const z=async()=>{try{a(!0);const I={...C,page:A.page,limit:A.limit};Object.keys(I).forEach(_=>{I[_]===""&&delete I[_]});const G=await Wa.getAllLeaves(I);r(G.data.data||[]),P(_=>({..._,...G.data.pagination}))}catch(I){l("Failed to fetch leave applications"),console.error("Error fetching leaves:",I)}finally{a(!1)}},q=I=>{const{name:G,value:_}=I.target;j(M=>({...M,[G]:_})),P(M=>({...M,page:1}))},O=()=>{j({status:"",leaveType:"",startDate:"",endDate:"",search:""}),P(I=>({...I,page:1}))},B=(I,G)=>{h(I),S(G),v(""),g(!0)},U=async()=>{var I,G;if(w==="reject"&&!x.trim()){l("Please provide a reason for rejection");return}try{E(!0),w==="approve"?await Wa.approveLeave(m._id):await Wa.rejectLeave(m._id,x),u(`Leave ${w==="approve"?"approved":"rejected"} successfully`),g(!1),z(),setTimeout(()=>u(""),3e3)}catch(_){l(((G=(I=_.response)==null?void 0:I.data)==null?void 0:G.message)||`Failed to ${w} leave`)}finally{E(!1)}},R=I=>new Date(I).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),ee=I=>F.find(G=>G.value===I)||{label:I,icon:""},J=I=>{P(G=>({...G,page:I}))};return e.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-lg shadow-md border border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center",children:[e.jsx(ci,{className:"mr-3 text-blue-600"}),"Leave Approval"]}),e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Total: ",A.total," applications"]})]}),i&&e.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-600 rounded-md flex items-center",children:[e.jsx(Si,{className:"mr-2"}),i,e.jsx("button",{onClick:()=>l(""),className:"ml-auto",children:e.jsx(It,{className:"w-4 h-4"})})]}),c&&e.jsxs("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 text-green-600 rounded-md flex items-center",children:[e.jsx(Xa,{className:"mr-2"}),c,e.jsx("button",{onClick:()=>u(""),className:"ml-auto",children:e.jsx(It,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-6 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Status"}),e.jsxs("select",{name:"status",value:C.status,onChange:q,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 text-sm",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"approved",children:"Approved"}),e.jsx("option",{value:"rejected",children:"Rejected"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Leave Type"}),e.jsxs("select",{name:"leaveType",value:C.leaveType,onChange:q,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 text-sm",children:[e.jsx("option",{value:"",children:"All Types"}),F.map(I=>e.jsx("option",{value:I.value,children:I.label},I.value))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"From Date"}),e.jsx("input",{type:"date",name:"startDate",value:C.startDate,onChange:q,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"To Date"}),e.jsx("input",{type:"date",name:"endDate",value:C.endDate,onChange:q,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx(jv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",name:"search",value:C.search,onChange:q,placeholder:"Employee name...",className:"w-full border border-gray-300 dark:border-gray-600 rounded-md pl-10 pr-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 text-sm"})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs("button",{onClick:O,className:"w-full bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 px-4 py-2 rounded-md text-sm font-medium transition duration-200 flex items-center justify-center",children:[e.jsx(g3,{className:"mr-2"}),"Clear"]})})]})]}),e.jsxs("div",{className:"p-6",children:[s?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):t.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[e.jsx(ci,{className:"mx-auto h-12 w-12 mb-4 opacity-50"}),e.jsx("p",{children:"No leave applications found"})]}):e.jsx("div",{className:"space-y-4",children:t.map(I=>{var _,M,Z,X;const G=ee(I.leaveType);return e.jsx("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-lg",children:G.icon}),e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:G.label})]}),e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${T[I.status]}`,children:[L[I.status],e.jsx("span",{className:"ml-1 capitalize",children:I.status})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm text-gray-600 dark:text-gray-400 mb-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Employee:"}),e.jsx("div",{className:"text-gray-900 dark:text-gray-100",children:((_=I.employeeId)==null?void 0:_.fullName)||((M=I.userId)==null?void 0:M.fullName)}),e.jsx("div",{className:"text-xs",children:((Z=I.employeeId)==null?void 0:Z.email)||((X=I.userId)==null?void 0:X.email)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Duration:"}),e.jsxs("div",{className:"text-gray-900 dark:text-gray-100",children:[R(I.startDate),I.startDate!==I.endDate&&` - ${R(I.endDate)}`,I.isHalfDay&&e.jsxs("span",{className:"text-xs bg-blue-100 text-blue-800 px-1 rounded ml-1",children:[I.halfDaySession," half"]})]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Days:"}),e.jsx("span",{className:"text-gray-900 dark:text-gray-100 ml-1",children:I.totalDays})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Applied:"}),e.jsx("div",{className:"text-gray-900 dark:text-gray-100",children:R(I.appliedDate)})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("span",{className:"font-medium text-sm text-gray-600 dark:text-gray-400",children:"Reason:"}),e.jsx("p",{className:"text-sm text-gray-800 dark:text-gray-200 mt-1",children:I.reason})]}),I.rejectionReason&&e.jsxs("div",{className:"mb-3 p-2 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded",children:[e.jsx("span",{className:"font-medium text-sm text-red-800 dark:text-red-200",children:"Rejection Reason:"}),e.jsx("p",{className:"text-sm text-red-700 dark:text-red-300 mt-1",children:I.rejectionReason})]}),I.approvedBy&&I.status==="approved"&&e.jsxs("div",{className:"text-sm text-green-600 dark:text-green-400",children:[e.jsx("span",{className:"font-medium",children:"Approved by:"})," ",I.approvedBy.fullName," on ",R(I.approvedDate)]})]}),I.status==="pending"&&e.jsxs("div",{className:"ml-4 flex space-x-2",children:[e.jsxs("button",{onClick:()=>B(I,"approve"),className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded-md text-sm font-medium transition duration-200 flex items-center",children:[e.jsx(di,{className:"mr-1"}),"Approve"]}),e.jsxs("button",{onClick:()=>B(I,"reject"),className:"bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded-md text-sm font-medium transition duration-200 flex items-center",children:[e.jsx(It,{className:"mr-1"}),"Reject"]})]})]})},I._id)})}),A.pages>1&&e.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Showing ",(A.page-1)*A.limit+1," to ",Math.min(A.page*A.limit,A.total)," of ",A.total," results"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>J(A.page-1),disabled:A.page===1,className:"px-3 py-1 border border-gray-300 dark:border-gray-600 rounded-md text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 dark:hover:bg-gray-700",children:"Previous"}),e.jsxs("span",{className:"px-3 py-1 text-sm text-gray-600 dark:text-gray-400",children:["Page ",A.page," of ",A.pages]}),e.jsx("button",{onClick:()=>J(A.page+1),disabled:A.page===A.pages,className:"px-3 py-1 border border-gray-300 dark:border-gray-600 rounded-md text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 dark:hover:bg-gray-700",children:"Next"})]})]})]})]}),p&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-lg shadow-lg max-w-md w-full mx-4",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:w==="approve"?"Approve Leave":"Reject Leave"}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Employee: ",e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:((H=m==null?void 0:m.employeeId)==null?void 0:H.fullName)||((K=m==null?void 0:m.userId)==null?void 0:K.fullName)})]}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Leave Type: ",e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:ee(m==null?void 0:m.leaveType).label})]}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Duration: ",e.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[m&&R(m.startDate)," - ",m&&R(m.endDate)," (",m==null?void 0:m.totalDays," days)"]})]})]}),w==="reject"&&e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Reason for Rejection *"}),e.jsx("textarea",{value:x,onChange:I=>v(I.target.value),rows:3,placeholder:"Please provide a reason for rejecting this leave...",className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",required:!0})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>g(!1),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-50 dark:hover:bg-gray-700 transition duration-200",children:"Cancel"}),e.jsx("button",{onClick:U,disabled:k||w==="reject"&&!x.trim(),className:`px-4 py-2 rounded-md font-medium transition duration-200 flex items-center ${w==="approve"?"bg-green-600 hover:bg-green-700 text-white":"bg-red-600 hover:bg-red-700 text-white"} disabled:opacity-50 disabled:cursor-not-allowed`,children:k?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[w==="approve"?e.jsx(di,{className:"mr-2"}):e.jsx(It,{className:"mr-2"}),w==="approve"?"Approve":"Reject"]})})]})]})})})]})},YD=({payrollRecords:t,onDownloadSlip:r,downloadingSlip:s,onDelete:a,onEdit:i,deletingPayroll:l,editingPayroll:c,userRole:u="Employee"})=>{const m=y.useMemo(()=>t.reduce((g,x)=>(g.baseSalary+=parseFloat(x.baseSalary)||0,g.calculatedSalary+=parseFloat(x.calculatedSalary)||0,g.hra+=parseFloat(x.hra)||0,g.da+=parseFloat(x.da)||0,g.conveyanceAllowance+=parseFloat(x.conveyanceAllowance)||0,g.medicalAllowance+=parseFloat(x.medicalAllowance)||0,g.specialAllowance+=parseFloat(x.specialAllowance)||0,g.overtimeAmount+=parseFloat(x.overtimeAmount)||0,g.performanceBonus+=parseFloat(x.performanceBonus)||0,g.projectBonus+=parseFloat(x.projectBonus)||0,g.attendanceBonus+=parseFloat(x.attendanceBonus)||0,g.festivalBonus+=parseFloat(x.festivalBonus)||0,g.pf+=parseFloat(x.pf)||0,g.esi+=parseFloat(x.esi)||0,g.tax+=parseFloat(x.tax)||0,g.loan+=parseFloat(x.loan)||0,g.other+=parseFloat(x.other)||0,g.netSalary+=parseFloat(x.netSalary)||0,g),{baseSalary:0,calculatedSalary:0,hra:0,da:0,conveyanceAllowance:0,medicalAllowance:0,specialAllowance:0,overtimeAmount:0,performanceBonus:0,projectBonus:0,attendanceBonus:0,festivalBonus:0,pf:0,esi:0,tax:0,loan:0,other:0,netSalary:0}),[t]),h=g=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(g),p=g=>{switch(g){case"APPROVED":return"text-green-600 bg-green-100";case"PAID":return"text-blue-600 bg-blue-100";case"CANCELLED":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}};return e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full bg-white dark:bg-gray-800 rounded-lg overflow-hidden",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Employee"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Base Salary"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Days Present"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Allowances"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Bonuses"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Deductions"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Net Salary"}),e.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:[t.map(g=>{var E,C,j,A;const x=parseFloat(g.hra)+parseFloat(g.da)+parseFloat(g.conveyanceAllowance)+parseFloat(g.medicalAllowance)+parseFloat(g.specialAllowance)+parseFloat(g.overtimeAmount)||0,v=parseFloat(g.performanceBonus)+parseFloat(g.projectBonus)+parseFloat(g.attendanceBonus)+parseFloat(g.festivalBonus)||0,w=parseFloat(g.pf)+parseFloat(g.esi)+parseFloat(g.tax)+parseFloat(g.loan)+parseFloat(g.other)||0,S=((E=g.employeeId)==null?void 0:E.fullName)||((C=g.userId)==null?void 0:C.fullName)||"Unknown",k=((j=g.employeeId)==null?void 0:j._id)||((A=g.userId)==null?void 0:A._id)||"N/A";return e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-600",children:[e.jsxs("td",{className:"px-4 py-3 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:S}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:k})]}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${p(g.status)}`,children:g.status})}),e.jsx("td",{className:"px-4 py-3 text-right whitespace-nowrap text-sm text-gray-900 dark:text-white",children:h(g.baseSalary)}),e.jsxs("td",{className:"px-4 py-3 text-right whitespace-nowrap text-sm text-gray-900 dark:text-white",children:[g.daysPresent,"/",g.workingDays]}),e.jsx("td",{className:"px-4 py-3 text-right whitespace-nowrap text-sm text-gray-900 dark:text-white",children:h(x)}),e.jsx("td",{className:"px-4 py-3 text-right whitespace-nowrap text-sm text-gray-900 dark:text-white",children:h(v)}),e.jsx("td",{className:"px-4 py-3 text-right whitespace-nowrap text-sm text-gray-900 dark:text-white",children:h(w)}),e.jsx("td",{className:"px-4 py-3 text-right whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:h(g.netSalary)}),e.jsx("td",{className:"px-4 py-3 text-center whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:e.jsxs("div",{className:"flex justify-center space-x-2",children:[e.jsx("button",{onClick:()=>r(g._id),disabled:s===g._id,className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",title:"Download Salary Slip",children:s===g._id?e.jsx(_t,{className:"animate-spin h-4 w-4"}):e.jsx(Pc,{className:"h-4 w-4"})}),(u==="Admin"||u==="HR")&&e.jsx("button",{onClick:()=>i(g),disabled:c===g._id,className:"text-yellow-600 hover:text-yellow-800 dark:text-yellow-400 dark:hover:text-yellow-300",title:"Edit Payroll",children:c===g._id?e.jsx(_t,{className:"animate-spin h-4 w-4"}):e.jsx(hs,{className:"h-4 w-4"})}),(u==="Admin"||u==="HR")&&e.jsx("button",{onClick:()=>a(g),disabled:l===g._id,className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",title:"Delete Payroll",children:l===g._id?e.jsx(_t,{className:"animate-spin h-4 w-4"}):e.jsx(Qn,{className:"h-4 w-4"})})]})})]},g._id)}),e.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-700 font-semibold",children:[e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-white",colSpan:2,children:"Total"}),e.jsx("td",{className:"px-4 py-3 text-right whitespace-nowrap text-sm text-gray-900 dark:text-white",children:h(m.baseSalary)}),e.jsx("td",{className:"px-4 py-3 text-right whitespace-nowrap text-sm text-gray-900 dark:text-white",children:"-"}),e.jsx("td",{className:"px-4 py-3 text-right whitespace-nowrap text-sm text-gray-900 dark:text-white",children:h(m.hra+m.da+m.conveyanceAllowance+m.medicalAllowance+m.specialAllowance+m.overtimeAmount)}),e.jsx("td",{className:"px-4 py-3 text-right whitespace-nowrap text-sm text-gray-900 dark:text-white",children:h(m.performanceBonus+m.projectBonus+m.attendanceBonus+m.festivalBonus)}),e.jsx("td",{className:"px-4 py-3 text-right whitespace-nowrap text-sm text-gray-900 dark:text-white",children:h(m.pf+m.esi+m.tax+m.loan+m.other)}),e.jsx("td",{className:"px-4 py-3 text-right whitespace-nowrap text-sm text-gray-900 dark:text-white font-bold",children:h(m.netSalary)}),e.jsx("td",{className:"px-4 py-3 text-center whitespace-nowrap text-sm text-gray-500",children:"-"})]})]})]})})},KD=()=>{const{user:t}=Fe(),[r,s]=y.useState([]),[a,i]=y.useState([]),[l,c]=y.useState(!0),[u,m]=y.useState(new Date().getMonth()+1),[h,p]=y.useState(new Date().getFullYear()),[g,x]=y.useState(""),[v,w]=y.useState(!1),[S,k]=y.useState(!1),[E,C]=y.useState(!1),[j,A]=y.useState(null),[P,F]=y.useState(null),[T,L]=y.useState(null),[z,q]=y.useState(null),[O,B]=y.useState("detailed"),[U,R]=y.useState(""),[ee,J]=y.useState(""),H=[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}],K=[{value:"DRAFT",label:"Draft",color:"bg-gray-100 text-gray-800"},{value:"APPROVED",label:"Approved",color:"bg-green-100 text-green-800"},{value:"PAID",label:"Paid",color:"bg-blue-100 text-blue-800"},{value:"CANCELLED",label:"Cancelled",color:"bg-red-100 text-red-800"}];y.useEffect(()=>{I()},[u,h,g]);const I=async()=>{try{c(!0),await Promise.all([G(),_()])}catch(W){console.error("Error fetching initial data:",W),xe.error("Failed to fetch data")}finally{c(!1)}},G=async()=>{try{const W={};u&&(W.month=u),h&&(W.year=h),g&&(W.employeeId=g);const ye=await Fa.getAll(W);ye.data.success?s(ye.data.data):xe.error("Failed to fetch payroll records")}catch(W){console.error("Error fetching payroll records:",W),xe.error("Failed to fetch payroll records")}},_=async()=>{try{const W=await ce.get("/employees");W.data&&Array.isArray(W.data)?i(W.data):W.data.data&&Array.isArray(W.data.data)&&i(W.data.data)}catch(W){console.error("Error fetching employees:",W),xe.error("Failed to fetch employees")}},M=async W=>{try{q(W);const ye=await Fa.downloadSalarySlip(W),Ae=new Blob([ye.data],{type:"application/pdf"}),Pe=window.URL.createObjectURL(Ae),ct=document.createElement("a");ct.href=Pe,ct.setAttribute("download",`salary-slip-${W}.pdf`),document.body.appendChild(ct),ct.click(),ct.remove(),window.URL.revokeObjectURL(Pe),xe.success("Salary slip downloaded successfully")}catch(ye){console.error("Error downloading salary slip:",ye),xe.error("Failed to download salary slip")}finally{q(null)}},Z=async W=>{var ye,Ae;try{F(W._id);const Pe=await Fa.delete(W._id);Pe.data.success?(xe.success("Payroll deleted successfully"),G()):xe.error(Pe.data.message||"Failed to delete payroll")}catch(Pe){console.error("Error deleting payroll:",Pe),xe.error(((Ae=(ye=Pe.response)==null?void 0:ye.data)==null?void 0:Ae.message)||"Failed to delete payroll")}finally{F(null),C(!1)}},X=async W=>{var ye,Ae;A(W._id),w(!0),pe({employeeId:((ye=W.employeeId)==null?void 0:ye._id)||((Ae=W.userId)==null?void 0:Ae._id),month:W.month,year:W.year,baseSalary:W.baseSalary,daysPresent:W.daysPresent,workingDays:W.workingDays,calculatedSalary:W.calculatedSalary,hra:W.hra,da:W.da,conveyanceAllowance:W.conveyanceAllowance,medicalAllowance:W.medicalAllowance,specialAllowance:W.specialAllowance,overtimeAmount:W.overtimeAmount,performanceBonus:W.performanceBonus,projectBonus:W.projectBonus,attendanceBonus:W.attendanceBonus,festivalBonus:W.festivalBonus,pf:W.pf,esi:W.esi,tax:W.tax,loan:W.loan,other:W.other,notes:W.notes})},V=async W=>{var ye,Ae;W.preventDefault();try{L(j);const Pe={...te,baseSalary:parseFloat(te.baseSalary)||0,daysPresent:parseFloat(te.daysPresent)||0,workingDays:parseFloat(te.workingDays)||0,hra:parseFloat(te.hra)||0,da:parseFloat(te.da)||0,conveyanceAllowance:parseFloat(te.conveyanceAllowance)||0,medicalAllowance:parseFloat(te.medicalAllowance)||0,specialAllowance:parseFloat(te.specialAllowance)||0,overtimeAmount:parseFloat(te.overtimeAmount)||0,performanceBonus:parseFloat(te.performanceBonus)||0,projectBonus:parseFloat(te.projectBonus)||0,attendanceBonus:parseFloat(te.attendanceBonus)||0,festivalBonus:parseFloat(te.festivalBonus)||0,pf:parseFloat(te.pf)||0,esi:parseFloat(te.esi)||0,tax:parseFloat(te.tax)||0,loan:parseFloat(te.loan)||0,other:parseFloat(te.other)||0},ct=await Fa.update(j,Pe);ct.data.success?(xe.success("Payroll updated successfully"),w(!1),de(),G()):xe.error(ct.data.message||"Failed to update payroll")}catch(Pe){console.error("Error updating payroll:",Pe),xe.error(((Ae=(ye=Pe.response)==null?void 0:ye.data)==null?void 0:Ae.message)||"Failed to update payroll")}finally{L(null),A(null)}},de=()=>{pe({employeeId:"",month:new Date().getMonth()+1,year:new Date().getFullYear(),baseSalary:"",daysPresent:"",workingDays:"",calculatedSalary:"",hra:"",da:"",conveyanceAllowance:"",medicalAllowance:"",specialAllowance:"",overtimeAmount:"",performanceBonus:"",projectBonus:"",attendanceBonus:"",festivalBonus:"",pf:"",esi:"",tax:"",loan:"",other:"",notes:""})},ue=W=>{j?V(W):we(W)},le=r.filter(W=>{var Pe,ct;const ye=!U||W.status===U,Ae=!ee||(((Pe=W.employeeId)==null?void 0:Pe.fullName)||"").toLowerCase().includes(ee.toLowerCase())||(((ct=W.userId)==null?void 0:ct.fullName)||"").toLowerCase().includes(ee.toLowerCase());return ye&&Ae}),[te,pe]=y.useState({employeeId:"",month:new Date().getMonth()+1,year:new Date().getFullYear(),baseSalary:"",daysPresent:"",workingDays:"",calculatedSalary:"",hra:"",da:"",conveyanceAllowance:"",medicalAllowance:"",specialAllowance:"",overtimeAmount:"",performanceBonus:"",projectBonus:"",attendanceBonus:"",festivalBonus:"",pf:"",esi:"",tax:"",loan:"",other:"",notes:""}),se=(W,ye)=>!W||!ye?0:parseFloat(W)/30*parseFloat(ye);y.useEffect(()=>{if(te.baseSalary&&te.daysPresent){const W=se(te.baseSalary,te.daysPresent);pe(ye=>({...ye,calculatedSalary:W.toFixed(2)}))}},[te.baseSalary,te.daysPresent]);const we=async W=>{var ye,Ae;W.preventDefault();try{L(te.employeeId);const Pe={...te,baseSalary:parseFloat(te.baseSalary)||0,daysPresent:parseFloat(te.daysPresent)||0,workingDays:parseFloat(te.workingDays)||0,hra:parseFloat(te.hra)||0,da:parseFloat(te.da)||0,conveyanceAllowance:parseFloat(te.conveyanceAllowance)||0,medicalAllowance:parseFloat(te.medicalAllowance)||0,specialAllowance:parseFloat(te.specialAllowance)||0,overtimeAmount:parseFloat(te.overtimeAmount)||0,performanceBonus:parseFloat(te.performanceBonus)||0,projectBonus:parseFloat(te.projectBonus)||0,attendanceBonus:parseFloat(te.attendanceBonus)||0,festivalBonus:parseFloat(te.festivalBonus)||0,pf:parseFloat(te.pf)||0,esi:parseFloat(te.esi)||0,tax:parseFloat(te.tax)||0,loan:parseFloat(te.loan)||0,other:parseFloat(te.other)||0},ct=await Fa.generate(Pe);ct.data.success?(xe.success("Payroll generated successfully"),w(!1),pe({employeeId:"",month:new Date().getMonth()+1,year:new Date().getFullYear(),baseSalary:"",daysPresent:"",workingDays:"",calculatedSalary:"",hra:"",da:"",conveyanceAllowance:"",medicalAllowance:"",specialAllowance:"",overtimeAmount:"",performanceBonus:"",projectBonus:"",attendanceBonus:"",festivalBonus:"",pf:"",esi:"",tax:"",loan:"",other:"",notes:""}),G()):xe.error(ct.data.message||"Failed to generate payroll")}catch(Pe){console.error("Error generating payroll:",Pe),xe.error(((Ae=(ye=Pe.response)==null?void 0:ye.data)==null?void 0:Ae.message)||"Failed to generate payroll")}finally{L(null)}};return l?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx(_t,{className:"animate-spin text-4xl text-blue-500"})}):e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Payroll Management"}),e.jsxs("button",{onClick:()=>w(!0),className:"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[e.jsx(Gc,{className:"inline-block mr-2"}),"Generate Payroll"]})]}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Month"}),e.jsx("select",{value:u,onChange:W=>m(parseInt(W.target.value)),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600",children:H.map(W=>e.jsx("option",{value:W.value,children:W.label},W.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Year"}),e.jsx("select",{value:h,onChange:W=>p(parseInt(W.target.value)),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600",children:Array.from({length:5},(W,ye)=>new Date().getFullYear()-2+ye).map(W=>e.jsx("option",{value:W,children:W},W))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Employee"}),e.jsxs("select",{value:g,onChange:W=>x(W.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600",children:[e.jsx("option",{value:"",children:"All Employees"}),a.map(W=>e.jsx("option",{value:W._id,children:W.fullName},W._id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Status"}),e.jsxs("select",{value:U,onChange:W=>R(W.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600",children:[e.jsx("option",{value:"",children:"All Status"}),K.map(W=>e.jsx("option",{value:W.value,children:W.label},W.value))]})]})]})}),v&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-2xl max-h-[80vh] overflow-y-auto",children:[e.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-900 dark:text-white",children:j?"Edit Payroll":"Generate Payroll"}),e.jsx("form",{onSubmit:ue,children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"mb-4 col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Employee *"}),e.jsxs("select",{value:te.employeeId,onChange:W=>pe({...te,employeeId:W.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",required:!0,children:[e.jsx("option",{value:"",children:"Select Employee"}),a.map(W=>e.jsx("option",{value:W._id,children:W.fullName},W._id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Month *"}),e.jsx("select",{value:te.month,onChange:W=>pe({...te,month:parseInt(W.target.value)}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",required:!0,children:H.map(W=>e.jsx("option",{value:W.value,children:W.label},W.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Year *"}),e.jsx("select",{value:te.year,onChange:W=>pe({...te,year:parseInt(W.target.value)}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",required:!0,children:Array.from({length:5},(W,ye)=>new Date().getFullYear()-2+ye).map(W=>e.jsx("option",{value:W,children:W},W))})]}),e.jsxs("div",{className:"col-span-2 mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[e.jsx(bx,{}),"Salary Calculation"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Base Salary (Monthly) *"}),e.jsx("input",{type:"number",value:te.baseSalary,onChange:W=>pe({...te,baseSalary:W.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",min:"0",step:"0.01",placeholder:"Enter base salary",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Days Present *"}),e.jsx("input",{type:"number",value:te.daysPresent,onChange:W=>pe({...te,daysPresent:W.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",min:"0",max:"31",step:"1",placeholder:"Enter days present",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Working Days *"}),e.jsx("input",{type:"number",value:te.workingDays,onChange:W=>pe({...te,workingDays:W.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",min:"0",max:"31",step:"1",placeholder:"Enter working days",required:!0})]})]})]}),e.jsxs("div",{className:"col-span-2 mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Manual Allowances"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"HRA"}),e.jsx("input",{type:"number",value:te.hra,onChange:W=>pe({...te,hra:W.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",min:"0",step:"0.01",placeholder:"Enter HRA"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"DA"}),e.jsx("input",{type:"number",value:te.da,onChange:W=>pe({...te,da:W.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",min:"0",step:"0.01",placeholder:"Enter DA"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Conveyance Allowance"}),e.jsx("input",{type:"number",value:te.conveyanceAllowance,onChange:W=>pe({...te,conveyanceAllowance:W.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",min:"0",step:"0.01",placeholder:"Enter conveyance allowance"})]})]})]}),e.jsxs("div",{className:"col-span-2 mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[e.jsx(oh,{}),"Bonuses"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Performance Bonus"}),e.jsx("input",{type:"number",value:te.performanceBonus,onChange:W=>pe({...te,performanceBonus:W.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",min:"0",step:"0.01",placeholder:"Enter performance bonus"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Incentive Bonus"}),e.jsx("input",{type:"number",value:te.projectBonus,onChange:W=>pe({...te,projectBonus:W.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",min:"0",step:"0.01",placeholder:"Enter incentive bonus"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Attendance Bonus"}),e.jsx("input",{type:"number",value:te.attendanceBonus,onChange:W=>pe({...te,attendanceBonus:W.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",min:"0",step:"0.01",placeholder:"Enter attendance bonus"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Festival Bonus"}),e.jsx("input",{type:"number",value:te.festivalBonus,onChange:W=>pe({...te,festivalBonus:W.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",min:"0",step:"0.01",placeholder:"Enter festival bonus"})]})]})]}),e.jsxs("div",{className:"col-span-2 mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[e.jsx(bx,{}),"Deductions"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"PF"}),e.jsx("input",{type:"number",value:te.pf,onChange:W=>pe({...te,pf:W.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",min:"0",step:"0.01",placeholder:"Enter PF amount"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"ESI"}),e.jsx("input",{type:"number",value:te.esi,onChange:W=>pe({...te,esi:W.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",min:"0",step:"0.01",placeholder:"Enter ESI amount"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tax"}),e.jsx("input",{type:"number",value:te.tax,onChange:W=>pe({...te,tax:W.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",min:"0",step:"0.01",placeholder:"Enter tax amount"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Loan"}),e.jsx("input",{type:"number",value:te.loan,onChange:W=>pe({...te,loan:W.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",min:"0",step:"0.01",placeholder:"Enter loan deduction"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Other Deductions"}),e.jsx("input",{type:"number",value:te.other,onChange:W=>pe({...te,other:W.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",min:"0",step:"0.01",placeholder:"Enter other deductions"})]})]})]}),e.jsxs("div",{className:"col-span-2 mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Notes"}),e.jsx("textarea",{value:te.notes,onChange:W=>pe({...te,notes:W.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",rows:"3",placeholder:"Enter any additional notes"})]}),e.jsxs("div",{className:"col-span-2 flex justify-end space-x-2 mt-4",children:[e.jsx("button",{type:"button",onClick:()=>{w(!1),A(null),de()},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:T,className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 border border-transparent rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:T?e.jsxs(e.Fragment,{children:[e.jsx(_t,{className:"inline-block animate-spin mr-2"}),j?"Updating...":"Generating..."]}):j?"Update Payroll":"Generate Payroll"})]})]})})]})}),E&&P&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[e.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-900 dark:text-white",children:"Confirm Delete"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Are you sure you want to delete this payroll record? This action cannot be undone."}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx("button",{onClick:()=>{C(!1),F(null)},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancel"}),e.jsx("button",{onClick:()=>Z(P),className:"px-4 py-2 text-sm font-medium text-white bg-red-600 border border-transparent rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:P===P._id?e.jsxs(e.Fragment,{children:[e.jsx(_t,{className:"inline-block animate-spin mr-2"}),"Deleting..."]}):"Delete"})]})]})}),l?e.jsx("div",{className:"flex justify-center items-center py-12",children:e.jsx(_t,{className:"animate-spin text-4xl text-indigo-600"})}):le.length===0?e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No payroll records found."})}):e.jsx(YD,{payrollRecords:le,onDownloadSlip:M,downloadingSlip:z,onDelete:Z,onEdit:X,deletingPayroll:P,editingPayroll:j,userRole:t.role})]})},GD=()=>{const[t,r]=y.useState("employees"),{user:s}=Fe(),a=[{id:"employees",label:"Employees",icon:Ct},...(s==null?void 0:s.role)==="Admin"||(s==null?void 0:s.role)==="Manager"||(s==null?void 0:s.role)==="HR"?[{id:"bulk-ops",label:"Bulk Operations",icon:Qo}]:[],{id:"leave",label:(s==null?void 0:s.role)==="Admin"||(s==null?void 0:s.role)==="Manager"?"Leave Approvals":"Leave Management",icon:Es},{id:"attendance",label:"Attendance",icon:Ts},...(s==null?void 0:s.role)==="Admin"||(s==null?void 0:s.role)==="Manager"||(s==null?void 0:s.role)==="HR"?[{id:"payroll",label:"Payroll Management",icon:oh}]:[]],i=()=>{switch(t){case"employees":return e.jsx(jb,{});case"bulk-ops":return e.jsx(WD,{});case"leave":return(s==null?void 0:s.role)==="Admin"||(s==null?void 0:s.role)==="Manager"?e.jsx(qD,{}):e.jsx(qv,{userRole:s==null?void 0:s.role});case"attendance":return e.jsx(Qv,{userRole:s==null?void 0:s.role});case"payroll":return e.jsx(KD,{});default:return e.jsx(jb,{})}};return e.jsx(Je,{children:e.jsxs("div",{className:"container mx-auto p-6",children:[e.jsxs("div",{className:"mb-8 text-center sm:text-left",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white",children:"Employee Management"}),e.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400 text-sm sm:text-base",children:"Manage your organization's employees, leave requests, and attendance"})]}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:e.jsx("nav",{className:"-mb-px flex flex-wrap gap-4",children:a.map(l=>{const c=l.icon;return e.jsxs("button",{onClick:()=>r(l.id),className:`${t===l.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"} py-2 px-3 border-b-2 font-medium text-sm flex items-center rounded-md transition`,children:[e.jsx(c,{className:"mr-2 h-4 w-4"}),l.label]},l.id)})})})}),i()]})})},XD=()=>{const{user:t}=Fe(),[r,s]=y.useState([]),[a,i]=y.useState(!0),[l,c]=y.useState(null),[u,m]=y.useState(!1),[h,p]=y.useState(null),[g,x]=y.useState({fullName:"",email:"",password:"",role:"Sales Person"}),[v,w]=y.useState({totalUsers:0,totalSales:0,totalLeads:0,userCounts:{salesPerson:0,leadPerson:0,manager:0,admin:0}}),[S,k]=y.useState(0),E=us(),C=(t==null?void 0:t.role)==="Admin";y.useEffect(()=>{A(),j(),P()},[]);const j=async()=>{try{let O=0,B=0;try{O=await pv(),console.log("Manager Dashboard - Got direct sales count:",O)}catch(J){console.error("Manager Dashboard - Error getting direct sales count:",J)}const U=!1,R=U?"http://localhost:8080":"https://crm-trial-backend.onrender.com/api",ee=await lt.get(`${R}${U?"/api":""}/leads`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});ee.data&&ee.data.data&&Array.isArray(ee.data.data)&&(B=ee.data.data.length),console.log("Final counts - Sales:",O,"Leads:",B),w(J=>({...J,totalSales:O,totalLeads:B,totalUsers:r.length,userCounts:{salesPerson:r.filter(H=>H.role==="Sales Person").length,leadPerson:r.filter(H=>H.role==="Lead Person").length,manager:r.filter(H=>H.role==="Manager").length,admin:r.filter(H=>H.role==="Admin").length}}))}catch(O){console.error("Error fetching dashboard stats:",O)}},A=async()=>{try{i(!0);const O=await Et.getUsers();O.data.success?(s(O.data.data),w(B=>({...B,totalUsers:O.data.data.length,userCounts:{salesPerson:O.data.data.filter(U=>U.role==="Sales Person").length,leadPerson:O.data.data.filter(U=>U.role==="Lead Person").length,manager:O.data.data.filter(U=>U.role==="Manager").length,admin:O.data.data.filter(U=>U.role==="Admin").length}}))):c("Failed to load users")}catch(O){console.error("Error fetching users:",O),c("Failed to load users. Please try again.")}finally{i(!1)}},P=async()=>{try{if((t==null?void 0:t.role)==="Manager"||(t==null?void 0:t.role)==="Admin"){const O=await Wa.getAllLeaves({status:"pending"});O.data&&O.data.success&&k(O.data.data.length)}}catch{k(0)}},F=O=>{x({...g,[O.target.name]:O.target.value})},T=async O=>{var B,U;if(O.preventDefault(),!C&&(g.role==="Admin"||h&&h.role==="Admin")){Qe.error("Only Admins can manage Admin accounts");return}i(!0);try{let R;if(h){const ee={...g};ee.password||delete ee.password,R=await Et.updateUser(h._id,ee),Qe.success("User updated successfully")}else R=await Et.createUser(g),Qe.success("User created successfully");m(!1),q(),A()}catch(R){console.error("Error with user:",R),Qe.error(((U=(B=R.response)==null?void 0:B.data)==null?void 0:U.message)||"Failed to process user")}finally{i(!1)}},L=async O=>{const B=r.find(U=>U._id===O);if(!C&&B.role==="Admin"){Qe.error("Only Admins can delete Admin accounts");return}if(window.confirm("Are you sure you want to delete this user?"))try{i(!0),await Et.deleteUser(O),Qe.success("User deleted successfully"),A()}catch(U){console.error("Error deleting user:",U),Qe.error("Failed to delete user")}finally{i(!1)}},z=O=>{if(!C&&O.role==="Admin"){Qe.error("Only Admins can edit Admin accounts");return}p(O),x({fullName:O.fullName,email:O.email,password:"",role:O.role}),m(!0)},q=()=>{x({fullName:"",email:"",password:"",role:"Sales Person"}),p(null)};return e.jsxs(Je,{children:[e.jsxs("div",{className:"container mx-auto p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Manager Dashboard"}),e.jsxs("button",{onClick:()=>{q(),m(!0)},className:"flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 shadow-sm dark:shadow-xl hover:shadow-md transition-all duration-200 text-white rounded-md",children:[e.jsx(Gc,{className:"mr-2"})," Add New User"]})]}),((t==null?void 0:t.role)==="Manager"||(t==null?void 0:t.role)==="Admin")&&e.jsx("div",{className:"mb-6 flex justify-end",children:e.jsxs("button",{onClick:()=>E("/employees?tab=leave"),className:"relative flex items-center px-5 py-3 bg-green-600 hover:bg-green-700 text-white font-semibold rounded-lg shadow-md transition-all duration-200",children:[e.jsx(Es,{className:"mr-2"}),"Review Leave Requests",S>0&&e.jsx("span",{className:"ml-2 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white bg-red-600 rounded-full",children:S})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out rounded-lg shadow-md dark:shadow-2xl p-4 shadow-sm",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-slate-500 dark:text-gray-400 text-sm font-medium",children:"Total Users"}),e.jsx("p",{className:"text-2xl font-bold mt-1",children:v.totalUsers})]}),e.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:e.jsx(Ct,{className:"h-5 w-5 text-blue-600"})})]})}),e.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out rounded-lg shadow-md dark:shadow-2xl p-4 shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-slate-500 dark:text-gray-400 text-sm font-medium",children:"Total Sales"}),e.jsx("p",{className:"text-2xl font-bold mt-1",children:v.totalSales})]}),e.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:e.jsx(oh,{className:"h-5 w-5 text-green-600"})})]}),e.jsx("div",{className:"mt-2",children:e.jsx(Te,{to:"/sales-tracking",className:"text-sm text-blue-600 hover:underline",children:"View all sales"})})]}),e.jsx("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out rounded-lg shadow-md dark:shadow-2xl p-4 shadow-sm",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-slate-500 dark:text-gray-400 text-sm font-medium",children:"Total Leads"}),e.jsx("p",{className:"text-2xl font-bold mt-1",children:v.totalLeads})]}),e.jsx("div",{className:"bg-yellow-100 p-3 rounded-full",children:e.jsx(r0,{className:"h-5 w-5 text-yellow-600"})})]})}),e.jsx("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out rounded-lg shadow-md dark:shadow-2xl p-4 shadow-sm",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-slate-500 dark:text-gray-400 text-sm font-medium",children:"Team Breakdown"}),e.jsxs("p",{className:"text-sm mt-1",children:["Sales: ",v.userCounts.salesPerson]}),e.jsxs("p",{className:"text-sm",children:["Leads: ",v.userCounts.leadPerson]})]}),e.jsx("div",{className:"bg-purple-100 p-3 rounded-full",children:e.jsx(cr,{className:"h-5 w-5 text-purple-600"})})]})})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out shadow-md dark:shadow-2xl rounded-lg p-6 mb-6 shadow-sm",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"User Management"}),!C&&e.jsxs("div",{className:"bg-yellow-50 border border-yellow-400 text-yellow-700 px-4 py-3 rounded relative mb-4",children:[e.jsx("strong",{children:"Note:"})," As a Manager, you cannot modify Admin accounts."]}),a&&!u?e.jsx("div",{className:"flex justify-center items-center h-32",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):l?e.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",children:l}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-slate-800 transition-all duration-200 ease-out",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Email"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Role"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-slate-900 transition-all duration-200 ease-out divide-y divide-slate-200 dark:divide-slate-700",children:r.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"px-6 py-4 text-center text-slate-500 dark:text-gray-400",children:"No users found"})}):r.map(O=>e.jsxs("tr",{className:`hover:bg-slate-50 dark:hover:bg-slate-800 ${!C&&O.role==="Admin"?"bg-gray-50 dark:bg-slate-800":""}`,children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:O.fullName}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:O.email}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:e.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full 
                            ${O.role==="Admin"?"bg-purple-100 text-purple-800":O.role==="Manager"?"bg-blue-100 text-blue-800":O.role==="Lead Person"?"bg-green-100 text-green-800":"bg-gray-100 dark:bg-slate-700 text-gray-800 dark:text-gray-200"}`,children:O.role})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500 dark:text-gray-400",children:e.jsx("div",{className:"flex space-x-3",children:!C&&O.role==="Admin"?e.jsx("span",{className:"text-gray-400 dark:text-gray-400",title:"Admin users can only be managed by other Admins",children:e.jsx(b3,{className:"h-5 w-5"})}):e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>z(O),className:"text-indigo-600 hover:text-indigo-900",title:"Edit user",children:e.jsx(hs,{className:"h-5 w-5"})}),e.jsx("button",{onClick:()=>L(O._id),className:"text-red-600 hover:text-red-900",title:"Delete user",children:e.jsx(Qn,{className:"h-5 w-5"})})]})})})]},O._id))})]})})]})]}),u&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 transition-all duration-200 ease-out rounded-lg p-6 max-w-md w-full shadow-sm dark:shadow-black/25",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:h?"Edit User":"Add New User"}),e.jsx("button",{onClick:()=>m(!1),className:"text-slate-500 dark:text-slate-300 hover:text-slate-700",children:e.jsx(It,{className:"h-5 w-5"})})]}),e.jsxs("form",{onSubmit:T,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Full Name"}),e.jsx("input",{type:"text",name:"fullName",value:g.fullName,onChange:F,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Email"}),e.jsx("input",{type:"email",name:"email",value:g.email,onChange:F,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:h?"Password (leave empty to keep current)":"Password"}),e.jsx("input",{type:"password",name:"password",value:g.password,onChange:F,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md",required:!h})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Role"}),e.jsxs("select",{name:"role",value:g.role,onChange:F,className:"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md",disabled:!C&&g.role==="Admin",children:[e.jsx("option",{value:"Sales Person",children:"Sales Person"}),e.jsx("option",{value:"Lead Person",children:"Lead Person"}),e.jsx("option",{value:"Manager",children:"Manager"}),C&&e.jsx("option",{value:"Admin",children:"Admin"})]}),!C&&e.jsx("p",{className:"mt-1 text-sm text-slate-500 dark:text-gray-400",children:"Only Admins can create or modify Admin accounts"})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>m(!1),className:"px-4 py-2 bg-gray-300 text-gray-800 dark:text-gray-200 rounded-md hover:bg-gray-400",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:a||!C&&g.role==="Admin",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 shadow-sm dark:shadow-xl hover:shadow-md transition-all duration-200 text-white rounded-md disabled:bg-blue-300",children:a?"Processing...":h?"Update User":"Add User"})]})]})]})})]})},Wm={create:async t=>(await ce.post("/stripe-invoices",t)).data,getAll:async(t={})=>(await ce.get("/stripe-invoices",{params:t})).data,getById:async t=>(await ce.get(`/stripe-invoices/${t}`)).data,getStats:async()=>(await ce.get("/stripe-invoices/stats")).data,sendReminder:async t=>(await ce.post(`/stripe-invoices/${t}/remind`)).data},QD=()=>{const{user:t}=Fe(),[r,s]=y.useState([]),[a,i]=y.useState([]),[l,c]=y.useState(!0),[u,m]=y.useState(null),[h,p]=y.useState(!1);y.useEffect(()=>{g()},[]);const g=async()=>{c(!0),m(null);try{console.log("Loading invoice data...");const w=await r3.getAll();console.log("CRM API response:",w),console.log("CRM invoices data:",w.data);let S=[];w&&w.data&&(Array.isArray(w.data)?S=w.data:w.data.invoices?S=w.data.invoices:w.data.data&&(S=w.data.data)),console.log("Processed CRM invoices:",S),i(S);try{const k=await Wm.getAll();console.log("Stripe invoices loaded:",k),s(k||[])}catch(k){console.log("Stripe API not available:",k),s([])}}catch(w){console.error("Error loading invoice data:",w),m("Failed to load invoice data: "+w.message)}finally{c(!1)}},x=async w=>{var S,k,E,C,j;p(!0);try{console.log("Creating Stripe invoice for CRM invoice:",w);const A=a.find(T=>T._id===w);if(!A)throw new Error("CRM invoice not found");console.log("Found CRM invoice:",A),console.log("CRM invoice items:",A.items);const P={crmInvoiceId:w,customerData:{email:((S=A.clientInfo)==null?void 0:S.email)||"customer@example.com",name:((k=A.clientInfo)==null?void 0:k.name)||"Customer Name",crmId:A._id},items:((E=A.items)==null?void 0:E.map(T=>{const L={description:T.description||"Item",quantity:T.quantity||1,unitPrice:parseFloat(T.unitPrice)||parseFloat(T.total)||0,taxRate:parseFloat(T.taxRate)||0};return console.log("Mapping item:",T,"to:",L),L}))||[],dueDate:A.dueDate||new Date().toISOString()};console.log("Sending Stripe invoice data:",P);const F=await Wm.create(P);console.log("Stripe invoice created:",F),await g(),alert("Stripe invoice created successfully!")}catch(A){console.error("Error creating Stripe invoice:",A),alert("Failed to create Stripe invoice: "+(((j=(C=A.response)==null?void 0:C.data)==null?void 0:j.message)||A.message))}finally{p(!1)}},v=async w=>{try{await Wm.sendReminder(w),alert("Reminder sent successfully!")}catch(S){console.error("Error sending reminder:",S),alert("Failed to send reminder: "+S.message)}};return l?e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"flex items-center justify-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),e.jsx("span",{className:"ml-3 text-gray-600 dark:text-gray-400",children:"Loading invoice data..."})]})})}):e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:" Stripe Invoice Management"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Create and manage Stripe-powered invoices with automatic payment processing"})]}),e.jsx("button",{onClick:g,disabled:l,className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${l?"bg-gray-400 text-gray-200 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:l?"Loading...":" Refresh Data"})]})}),u&&e.jsx("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 rounded-lg",children:e.jsx("p",{className:"text-red-600 dark:text-red-400",children:u})}),e.jsxs("div",{className:"mb-6 p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[e.jsx("h3",{className:"text-lg font-semibold text-green-900 dark:text-green-100 mb-2",children:" Stripe Integration Ready"}),e.jsx("div",{className:"text-sm text-green-800 dark:text-green-200",children:e.jsx("p",{children:"Your Stripe API keys are configured and working correctly. You can now create Stripe invoices!"})})]}),e.jsxs("div",{className:"mb-8 bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Create Stripe Invoice from CRM Invoice"}),a.length>0?e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Select a CRM invoice to create a Stripe invoice for payment processing:"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map(w=>{var S;return e.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[e.jsx("h3",{className:"font-medium text-gray-900 dark:text-white mb-2",children:w.invoiceNumber||"Invoice #"+w._id.slice(-6)}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:((S=w.clientInfo)==null?void 0:S.name)||"Customer"}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:["Amount: $",w.totalAmount||0]}),e.jsx("button",{onClick:()=>x(w._id),disabled:h,className:`w-full px-3 py-2 rounded-md text-sm transition-colors ${h?"bg-gray-400 text-gray-200 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"}`,children:h?"Creating...":"Create Stripe Invoice"})]},w._id)})})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-4xl mb-4",children:""}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"No CRM invoices available. Create invoices in the Invoice Management section first."}),e.jsx("a",{href:"/invoice-management",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Go to Invoice Management"})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:["Stripe Invoices (",r.length,")"]}),r.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Customer"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Due Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:r.map(w=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:w.customerName||"Unknown"}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:w.customerEmail||"No email"})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm text-gray-900 dark:text-white",children:["$",w.amount||0," ",w.currency||"USD"]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${w.status==="paid"?"bg-green-100 text-green-800":w.status==="open"?"bg-yellow-100 text-yellow-800":w.status==="draft"?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"}`,children:w.status||"unknown"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:w.dueDate?new Date(w.dueDate).toLocaleDateString():"N/A"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[w.stripeInvoiceUrl&&e.jsx("a",{href:w.stripeInvoiceUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:"View"}),w.status==="open"&&e.jsx("button",{onClick:()=>v(w._id),className:"text-yellow-600 hover:text-yellow-900 dark:text-yellow-400 dark:hover:text-yellow-300",children:"Send Reminder"})]})})]},w._id))})]})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-4xl mb-4",children:""}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Stripe Invoices Yet"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Create your first Stripe invoice by selecting a CRM invoice above."})]})]}),e.jsxs("div",{className:"mt-8 bg-blue-50 dark:bg-blue-900/20 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-900 dark:text-blue-100 mb-3",children:" Stripe Integration Benefits"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-blue-800 dark:text-blue-200",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium mb-2",children:" Automatic Payment Processing"}),e.jsx("p",{children:"Customers can pay directly through Stripe's secure payment system"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium mb-2",children:" Real-time Status Updates"}),e.jsx("p",{children:"Get instant notifications when payments are received or failed"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium mb-2",children:" Professional Invoice Templates"}),e.jsx("p",{children:"Stripe provides beautiful, branded invoice templates"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium mb-2",children:" Automated Reminders"}),e.jsx("p",{children:"Send payment reminders automatically to customers"})]})]})]})]})})},JD=({employees:t})=>{const[r,s]=y.useState([]),[a,i]=y.useState([]),[l,c]=y.useState("all");y.useEffect(()=>{if(t&&t.length>0){const h=t.filter(g=>{var v,w;const x=(v=g.employmentType)==null?void 0:v.toUpperCase();if(!x){const S=(((w=g.role)==null?void 0:w.name)||g.role||"").toUpperCase();return S.includes("PERMANENT")&&!S.includes("INTERN")}return x==="PERMANENT"}),p=t.filter(g=>{var v,w;const x=(v=g.employmentType)==null?void 0:v.toUpperCase();return x?x==="INTERN":(((w=g.role)==null?void 0:w.name)||g.role||"").toUpperCase().includes("INTERN")});s(h),i(p)}else s([]),i([])},[t]);const u=h=>{if(!h)return null;const p=new Date,g=new Date(h);p.setHours(0,0,0,0),g.setHours(0,0,0,0);const x=g-p;return Math.ceil(x/(1e3*60*60*24))},m=({employee:h})=>{var S,k;const p=(S=h.employmentType)==null?void 0:S.toUpperCase(),g=(((k=h.role)==null?void 0:k.name)||h.role||"").toUpperCase(),x=p==="INTERN"||!p&&g.includes("INTERN"),v=x&&h.internshipEndDate?u(h.internshipEndDate):null,w=v!==null&&v<0;return e.jsxs(Ye,{className:"mb-4",children:[e.jsx(vt,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[x?e.jsx(i0,{className:"text-green-600"}):e.jsx(kv,{className:"text-blue-600"}),e.jsx(wt,{className:"text-lg",children:h.fullName})]}),e.jsx(Ke,{variant:x?"secondary":"default",children:h.employmentType||(x?"INTERN":"PERMANENT")})]})}),e.jsx(We,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Salary:"}),e.jsx("span",{className:"font-medium",children:Kc(h.salary,"INR")})]}),h.techStack&&h.techStack.length>0&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Tech Stack:"}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:h.techStack.map((E,C)=>e.jsx(Ke,{variant:"outline",className:"text-xs",children:E},C))})]}),x&&e.jsxs(e.Fragment,{children:[h.internshipDuration&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Duration:"}),e.jsxs("span",{children:[h.internshipDuration," months"]})]}),h.internshipStartDate&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Period:"}),e.jsxs("span",{children:[new Date(h.internshipStartDate).toLocaleDateString()," -",h.internshipEndDate?new Date(h.internshipEndDate).toLocaleDateString():"Ongoing"]})]}),h.internshipEndDate&&e.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-gray-50 dark:bg-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Es,{className:"text-gray-500"}),e.jsxs("span",{className:"text-gray-700 dark:text-gray-300 text-sm",children:["End Date: ",new Date(h.internshipEndDate).toLocaleDateString()]})]}),v!==null&&e.jsx("span",{className:`font-semibold text-sm ${w?"text-red-600 dark:text-red-400":v<=7?"text-orange-600 dark:text-orange-400":"text-green-600 dark:text-green-400"}`,children:w?`(${Math.abs(v)} days overdue)`:v===0?"(Ends today)":`(${v} days remaining)`})]})]}),h.projectAssignments&&h.projectAssignments.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsxs("h4",{className:"text-sm font-medium mb-2 flex items-center gap-2",children:[e.jsx(As,{}),"Project Assignments"]}),e.jsx("div",{className:"space-y-2",children:h.projectAssignments.map((E,C)=>e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-2 rounded",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium",children:E.projectName}),e.jsx(Ke,{variant:E.status==="ACTIVE"?"success":E.status==="COMPLETED"?"default":"warning",children:E.status})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[E.role,"  ",new Date(E.startDate).toLocaleDateString(),E.endDate&&` - ${new Date(E.endDate).toLocaleDateString()}`]})]},C))})]})]})})]})};return e.jsxs(Ye,{children:[e.jsx(vt,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs(wt,{className:"text-xl flex items-center gap-2",children:[e.jsx(As,{className:"text-blue-600"}),"IT Department Overview"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(Ke,{variant:"outline",className:"text-sm",children:[r.length," Permanent"]}),e.jsxs(Ke,{variant:"outline",className:"text-sm",children:[a.length," Interns"]})]})]})}),e.jsx(We,{children:e.jsxs(Xh,{defaultValue:"all",className:"w-full",onValueChange:c,children:[e.jsxs(dd,{className:"grid w-full grid-cols-3",children:[e.jsx(Pr,{value:"all",children:"All Members"}),e.jsx(Pr,{value:"permanent",children:"Permanent"}),e.jsx(Pr,{value:"interns",children:"Interns"})]}),e.jsx(Dr,{value:"all",className:"mt-4",children:[...r,...a].map(h=>e.jsx(m,{employee:h},h._id))}),e.jsx(Dr,{value:"permanent",className:"mt-4",children:r.map(h=>e.jsx(m,{employee:h},h._id))}),e.jsx(Dr,{value:"interns",className:"mt-4",children:a.map(h=>e.jsx(m,{employee:h},h._id))})]})})]})},ZD=t=>{if(!t)return null;const r=t.split(`
`).filter(i=>i.trim().length>0);if(r.length===0)return null;const s=r.some(i=>{const l=i.trim();return/^\d+[\.\)]\s/.test(l)}),a=r.some(i=>{const l=i.trim();return/^[-*]\s/.test(l)});return s?e.jsx("ol",{className:"list-decimal list-inside space-y-2 text-sm text-gray-600 dark:text-gray-300 ml-4",children:r.map((i,l)=>{const c=i.trim().replace(/^\d+[\.\)]\s*/,"");if(/^[A-Za-z\s]+:/.test(c)){const m=c.indexOf(":"),h=c.substring(0,m).trim(),p=c.substring(m+1).trim();return e.jsxs("li",{className:"mb-3",children:[e.jsxs("div",{className:"font-semibold text-gray-800 dark:text-gray-200 mb-1",children:[h,":"]}),p&&e.jsx("div",{className:"ml-4 text-gray-600 dark:text-gray-400",children:p})]},l)}return e.jsx("li",{className:"mb-2",children:c},l)})}):a?e.jsx("ul",{className:"list-disc list-inside space-y-2 text-sm text-gray-600 dark:text-gray-300",children:r.map((i,l)=>{const c=i.trim().replace(/^[-*]\s*/,"");return e.jsx("li",{className:"mb-1",children:c},l)})}):e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300 whitespace-pre-line",children:t})},eM=({employees:t,projects:r,user:s})=>{const a=t.filter(p=>p.employmentType==="PERMANENT").length,i=t.filter(p=>p.employmentType==="INTERN").length,l=Array.from(new Set(t.flatMap(p=>{const g=p.skills||[],x=p.techStack||[],v=Array.isArray(g)?g:typeof g=="string"?g.split(",").map(S=>S.trim()).filter(Boolean):[],w=Array.isArray(x)?x:typeof x=="string"?x.split(",").map(S=>S.trim()).filter(Boolean):[];return[...v,...w]}))).filter(Boolean),c=s&&(s.role==="IT Manager"||s.role==="Admin"),u=r.filter(p=>(p==null?void 0:p.status)==="ACTIVE"||(p==null?void 0:p.status)==="COMPLETED"),m=u.filter(p=>(p==null?void 0:p.status)==="ACTIVE"),h=u.filter(p=>(p==null?void 0:p.status)==="COMPLETED");return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(Ye,{children:[e.jsxs(vt,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(wt,{className:"text-sm font-medium",children:"Team Members"}),e.jsx(Ct,{className:"h-4 w-4 text-blue-500"})]}),e.jsxs(We,{children:[e.jsx("div",{className:"text-2xl font-bold",children:t.length}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsxs(Ke,{variant:"outline",className:"bg-blue-50",children:[a," Permanent"]}),e.jsxs(Ke,{variant:"outline",className:"bg-green-50",children:[i," Interns"]})]})]})]}),e.jsxs(Ye,{children:[e.jsxs(vt,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(wt,{className:"text-sm font-medium",children:"Tech Stack"}),e.jsx(As,{className:"h-4 w-4 text-purple-500"})]}),e.jsxs(We,{children:[e.jsx("div",{className:"text-2xl font-bold",children:l.length}),e.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[l.slice(0,3).map((p,g)=>e.jsx(Ke,{variant:"secondary",className:"text-xs",children:p},g)),l.length>3&&e.jsxs(Ke,{variant:"secondary",className:"text-xs",children:["+",l.length-3," more"]})]})]})]}),e.jsxs(Ye,{children:[e.jsxs(vt,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(wt,{className:"text-sm font-medium",children:"Active Projects"}),e.jsx(Er,{className:"h-4 w-4 text-green-500"})]}),e.jsxs(We,{children:[e.jsx("div",{className:"text-2xl font-bold",children:m.length}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Ongoing development"})]})]}),e.jsxs(Ye,{children:[e.jsxs(vt,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(wt,{className:"text-sm font-medium",children:"Completed Projects"}),e.jsx(cr,{className:"h-4 w-4 text-indigo-500"})]}),e.jsxs(We,{children:[e.jsx("div",{className:"text-2xl font-bold",children:h}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Successfully delivered"})]})]})]}),e.jsxs(Ye,{children:[e.jsx(vt,{children:e.jsx(wt,{className:"text-xl",children:"Recent Activity"})}),e.jsx(We,{children:c?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-3 text-gray-800 dark:text-white",children:"Team Members Details"}),e.jsx("div",{className:"space-y-3",children:t.map((p,g)=>{var x;return e.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50 dark:bg-gray-800 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-full bg-blue-100 dark:bg-blue-900",children:e.jsx(Ct,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-lg text-gray-900 dark:text-white",children:p.fullName}),(()=>{var k;const v=(p.employmentType||"").toUpperCase(),w=(((k=p.role)==null?void 0:k.name)||p.role||"").toUpperCase(),S=v==="INTERN"||!v&&w.includes("INTERN");return e.jsx(Ke,{className:`mt-1 ${S?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"}`,children:S?"Intern":"Permanent"})})()]})]}),((x=p.role)==null?void 0:x.name)&&e.jsx(Ke,{variant:"outline",children:p.role.name})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mt-3 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[e.jsx(ls,{className:"h-3 w-3"}),e.jsx("span",{children:p.email||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[e.jsx(n0,{className:"h-3 w-3"}),e.jsx("span",{children:p.phoneNumber||"N/A"})]}),p.currentAddress&&e.jsxs("div",{className:"flex items-start gap-2 text-gray-600 dark:text-gray-400 md:col-span-2",children:[e.jsx(Cs,{className:"h-3 w-3 mt-0.5"}),e.jsx("span",{children:p.currentAddress})]}),p.collegeName&&e.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[e.jsx(bv,{className:"h-3 w-3"}),e.jsx("span",{children:p.collegeName})]}),p.joiningDate&&e.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[e.jsx(Es,{className:"h-3 w-3"}),e.jsxs("span",{children:["Joined: ",new Date(p.joiningDate).toLocaleDateString()]})]}),(()=>{var j;const v=(p.employmentType||"").toUpperCase(),w=(((j=p.role)==null?void 0:j.name)||p.role||"").toUpperCase();if(!(v==="INTERN"||!v&&w.includes("INTERN")))return null;const k=A=>{if(!A)return null;const P=new Date,F=new Date(A);P.setHours(0,0,0,0),F.setHours(0,0,0,0);const T=F-P;return Math.ceil(T/(1e3*60*60*24))},E=p.internshipEndDate?k(p.internshipEndDate):null,C=E!==null&&E<0;return e.jsxs(e.Fragment,{children:[p.internshipStartDate&&e.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[e.jsx(Tc,{className:"h-3 w-3"}),e.jsxs("span",{children:["Internship: ",new Date(p.internshipStartDate).toLocaleDateString()]}),p.internshipEndDate&&e.jsxs("span",{children:["- ",new Date(p.internshipEndDate).toLocaleDateString()]})]}),p.internshipEndDate&&E!==null&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Es,{className:"h-3 w-3"}),e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Remaining Days:"}),e.jsx("span",{className:`font-semibold ${C?"text-red-600 dark:text-red-400":E<=7?"text-orange-600 dark:text-orange-400":"text-green-600 dark:text-green-400"}`,children:C?`${Math.abs(E)} days overdue`:E===0?"Ends today":`${E} days remaining`})]})]})})()]}),(()=>{const v=p.skills||[],w=p.techStack||[],S=Array.isArray(v)?v:typeof v=="string"?v.split(",").map(C=>C.trim()).filter(Boolean):[],k=Array.isArray(w)?w:typeof w=="string"?w.split(",").map(C=>C.trim()).filter(Boolean):[],E=[...new Set([...S,...k])].filter(Boolean);return E.length>0?e.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Skills:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:E.map((C,j)=>e.jsx(Ke,{variant:"secondary",className:"text-xs",children:C},j))})]}):null})()]},g)})})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-3 text-gray-800 dark:text-white",children:"Recent Projects"}),e.jsxs("div",{className:"space-y-2",children:[r.filter(p=>p.status==="ACTIVE").slice(0,5).map((p,g)=>e.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-gray-50 dark:bg-gray-800",children:[e.jsx("div",{className:"p-2 rounded-full bg-green-100 dark:bg-green-900",children:e.jsx(Er,{className:"h-4 w-4 text-green-600 dark:text-green-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:p.name}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:["Started: ",new Date(p.startDate).toLocaleDateString()]}),p.description&&e.jsx("div",{className:"text-sm mt-2",children:ZD(p.description)})]})]},g)),r.filter(p=>p.status==="ACTIVE").length===0&&e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:"No active projects"})]})]})]}):e.jsxs("div",{className:"space-y-4",children:[t.filter(p=>p.employmentType==="INTERN"&&p.internshipStartDate).slice(0,3).map((p,g)=>e.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-gray-50 dark:bg-gray-800",children:[e.jsx("div",{className:"p-2 rounded-full bg-blue-100 dark:bg-blue-900",children:e.jsx(Es,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-gray-900 dark:text-white",children:[p.fullName," started internship"]}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(p.internshipStartDate).toLocaleDateString()})]})]},g)),r.filter(p=>p.status==="ACTIVE").slice(0,3).map((p,g)=>e.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-gray-50 dark:bg-gray-800",children:[e.jsx("div",{className:"p-2 rounded-full bg-green-100 dark:bg-green-900",children:e.jsx(Er,{className:"h-4 w-4 text-green-600 dark:text-green-400"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-gray-900 dark:text-white",children:["New project started: ",p.name]}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(p.startDate).toLocaleDateString()})]})]},g)),t.filter(p=>p.employmentType==="INTERN"&&p.internshipStartDate).length===0&&r.filter(p=>p.status==="ACTIVE").length===0&&e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:"No recent activity"})]})})]}),e.jsxs(Ye,{children:[e.jsx(vt,{children:e.jsx(wt,{className:"text-xl",children:"Tech Stack Distribution"})}),e.jsx(We,{children:c?e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"space-y-4",children:l.length>0?l.map((p,g)=>{const x=t.filter(S=>{const k=S.skills||[],E=S.techStack||[],C=Array.isArray(k)?k:typeof k=="string"?k.split(",").map(P=>P.trim()).filter(Boolean):[],j=Array.isArray(E)?E:typeof E=="string"?E.split(",").map(P=>P.trim()).filter(Boolean):[];return[...C,...j].includes(p)}),v=x.length,w=t.length?v/t.length*100:0;return e.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50 dark:bg-gray-800",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(As,{className:"h-4 w-4 text-purple-600 dark:text-purple-400"}),e.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:p})]}),e.jsxs(Ke,{className:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",children:[v," ",v===1?"member":"members"]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3 mb-3",children:e.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-indigo-600 h-3 rounded-full transition-all duration-300",style:{width:`${w}%`}})}),e.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:[w.toFixed(1),"% of team members"]}),e.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-2",children:"Employees with this skill:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:x.map((S,k)=>e.jsxs(Ke,{variant:"outline",className:"text-xs",children:[S.fullName,S.employmentType==="INTERN"&&e.jsx("span",{className:"ml-1 text-green-600",children:"(Intern)"})]},k))})]})]},g)}):e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:"No tech stack data available"})}),e.jsxs("div",{className:"mt-6 p-4 bg-gradient-to-r from-purple-50 to-indigo-50 dark:from-purple-900/20 dark:to-indigo-900/20 rounded-lg border border-purple-200 dark:border-purple-800",children:[e.jsx("h4",{className:"font-semibold text-gray-800 dark:text-white mb-2",children:"Summary"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Total Technologies:"}),e.jsx("span",{className:"ml-2 font-bold text-purple-600 dark:text-purple-400",children:l.length})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Total Team Members:"}),e.jsx("span",{className:"ml-2 font-bold text-indigo-600 dark:text-indigo-400",children:t.length})]})]})]})]}):e.jsx("div",{className:"space-y-3",children:l.length>0?l.map((p,g)=>{const x=t.filter(w=>{const S=w.skills||[],k=w.techStack||[],E=Array.isArray(S)?S:typeof S=="string"?S.split(",").map(A=>A.trim()).filter(Boolean):[],C=Array.isArray(k)?k:typeof k=="string"?k.split(",").map(A=>A.trim()).filter(Boolean):[];return[...E,...C].includes(p)}).length,v=t.length?x/t.length*100:0;return e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-gray-900 dark:text-white",children:p}),e.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[x," team members"]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 dark:bg-blue-500 h-2 rounded-full",style:{width:`${v}%`}})})]},g)}):e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:"No tech stack data available"})})})]})]})},tM=({employees:t,projects:r})=>{const s=t.filter(c=>{var g,x;const u=(c.employmentType||"").toUpperCase(),m=(((g=c.role)==null?void 0:g.name)||c.role||"").toUpperCase(),h=typeof c.role=="string"?c.role.toUpperCase():(((x=c.role)==null?void 0:x.name)||"").toUpperCase();return u==="INTERN"||m.includes("INTERN")||h.includes("INTERN")}),a=c=>{if(!c)return null;const u=new Date,m=new Date(c);u.setHours(0,0,0,0),m.setHours(0,0,0,0);const h=m-u;return Math.ceil(h/(1e3*60*60*24))},i=c=>{if(!c||!r||r.length===0)return[];const u=c.toString();return r.filter(m=>(m.team||[]).map(p=>{const g=typeof p=="object"&&(p._id||p.id)||p;return g?g.toString():null}).filter(Boolean).includes(u))},l=c=>{const u=c.skills||[],m=c.techStack||[],h=Array.isArray(u)?u:typeof u=="string"?u.split(",").map(g=>g.trim()).filter(Boolean):[],p=Array.isArray(m)?m:typeof m=="string"?m.split(",").map(g=>g.trim()).filter(Boolean):[];return[...new Set([...h,...p])].filter(Boolean)};return s.length===0?e.jsxs(Ye,{className:"mt-6",children:[e.jsx(vt,{children:e.jsxs(wt,{className:"text-xl flex items-center gap-2",children:[e.jsx(i0,{className:"text-green-600"}),"IT Interns Details"]})}),e.jsx(We,{children:e.jsx("p",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No IT interns found."})})]}):e.jsxs(Ye,{className:"mt-6 border-0 shadow-lg",children:[e.jsx(vt,{children:e.jsxs(wt,{className:"text-xl flex items-center gap-2",children:[e.jsx(i0,{className:"text-green-600"}),"IT Interns Details"]})}),e.jsx(We,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full text-left text-sm",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800 border-b",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 font-semibold text-gray-700 dark:text-gray-300",children:"Name"}),e.jsx("th",{className:"px-4 py-3 font-semibold text-gray-700 dark:text-gray-300",children:"Phone Number"}),e.jsx("th",{className:"px-4 py-3 font-semibold text-gray-700 dark:text-gray-300",children:"Joining Date"}),e.jsx("th",{className:"px-4 py-3 font-semibold text-gray-700 dark:text-gray-300",children:"End Date"}),e.jsx("th",{className:"px-4 py-3 font-semibold text-gray-700 dark:text-gray-300",children:"Remaining Days"}),e.jsx("th",{className:"px-4 py-3 font-semibold text-gray-700 dark:text-gray-300",children:"Tech Stack"}),e.jsx("th",{className:"px-4 py-3 font-semibold text-gray-700 dark:text-gray-300",children:"Projects"}),e.jsx("th",{className:"px-4 py-3 font-semibold text-gray-700 dark:text-gray-300",children:"Stipend"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:s.map((c,u)=>{const m=c.internshipEndDate?a(c.internshipEndDate):null,h=m!==null&&m<0,p=i(c.userId||c._id),g=l(c);return e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[e.jsx("td",{className:"px-4 py-3 font-medium text-gray-900 dark:text-white",children:c.fullName}),e.jsx("td",{className:"px-4 py-3 text-gray-700 dark:text-gray-300",children:c.phoneNumber||"N/A"}),e.jsx("td",{className:"px-4 py-3 text-gray-700 dark:text-gray-300",children:c.joiningDate?new Date(c.joiningDate).toLocaleDateString():"N/A"}),e.jsx("td",{className:"px-4 py-3 text-gray-700 dark:text-gray-300",children:c.internshipEndDate?new Date(c.internshipEndDate).toLocaleDateString():"N/A"}),e.jsx("td",{className:"px-4 py-3",children:m!==null?e.jsx("span",{className:`font-semibold ${h?"text-red-600 dark:text-red-400":m<=7?"text-orange-600 dark:text-orange-400":"text-green-600 dark:text-green-400"}`,children:h?`${Math.abs(m)} days overdue`:m===0?"Ends today":`${m} days`}):e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"N/A"})}),e.jsx("td",{className:"px-4 py-3",children:g.length>0?e.jsxs("div",{className:"flex flex-wrap gap-1 max-w-xs",children:[g.slice(0,3).map((x,v)=>e.jsx(Ke,{variant:"outline",className:"text-xs",children:x},v)),g.length>3&&e.jsxs(Ke,{variant:"outline",className:"text-xs",children:["+",g.length-3," more"]})]}):e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"N/A"})}),e.jsx("td",{className:"px-4 py-3",children:p.length>0?e.jsxs("div",{className:"flex flex-wrap gap-1 max-w-xs",children:[p.slice(0,2).map((x,v)=>e.jsx(Ke,{variant:"secondary",className:"text-xs",title:x.description||x.name,children:x.name},v)),p.length>2&&e.jsxs(Ke,{variant:"secondary",className:"text-xs",children:["+",p.length-2," more"]})]}):e.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"No projects"})}),e.jsx("td",{className:"px-4 py-3 text-gray-700 dark:text-gray-300 font-medium",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(vv,{className:"text-xs"}),c.salary?Kc(c.salary,"INR").replace("",""):"N/A"]})})]},u)})})]})})})]})},qm=t=>{if(!t)return"-";try{return new Date(t).toLocaleString()}catch{return"-"}},rM=({tasks:t,currentUser:r,onTaskUpdate:s,onTaskDeleted:a})=>{const i=u=>u?typeof u=="object"&&u.fullName?u.fullName:typeof u=="string"?u.substring(0,8)+"...":"-":"-",l=async(u,m)=>{const h=await ce.put(`/tasks/${u}`,{status:m});s(h.data.data)},c=async u=>{var m,h;if(window.confirm("Are you sure you want to delete this task? This action cannot be undone."))try{await ce.delete(`/tasks/${u}`),a&&a(u)}catch(p){console.error("Error deleting task:",p),alert(((h=(m=p.response)==null?void 0:m.data)==null?void 0:h.message)||"Failed to delete task")}};return e.jsx("div",{className:"overflow-x-auto rounded-lg border",children:e.jsxs("table",{className:"min-w-full text-left text-sm",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 font-semibold text-gray-700",children:"Title"}),e.jsx("th",{className:"px-4 py-3 font-semibold text-gray-700",children:"Description"}),e.jsx("th",{className:"px-4 py-3 font-semibold text-gray-700",children:"Assigned To"}),e.jsx("th",{className:"px-4 py-3 font-semibold text-gray-700",children:"Status"}),e.jsx("th",{className:"px-4 py-3 font-semibold text-gray-700",children:"Assigned At"}),e.jsx("th",{className:"px-4 py-3 font-semibold text-gray-700",children:"Completed At"}),e.jsx("th",{className:"px-4 py-3 font-semibold text-gray-700",children:"Confirmed At"}),e.jsx("th",{className:"px-4 py-3 font-semibold text-gray-700",children:"Actions"})]})}),e.jsxs("tbody",{children:[t.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"px-4 py-6 text-center text-gray-500",children:"No tasks found."})}),t.map(u=>e.jsx(sM,{task:u,currentUser:r,update:l,handleDelete:c,getAssignedUserName:i},u._id))]})]})})},sM=({task:t,currentUser:r,update:s,handleDelete:a,getAssignedUserName:i})=>{var g;const[l,c]=y.useState(!1),u=t.description||"",m=u.length>100,h=m&&!l?u.substring(0,100)+"...":u,p=x=>x?x.split(`
`).map((v,w)=>e.jsxs(je.Fragment,{children:[v,w<x.split(`
`).length-1&&e.jsx("br",{})]},w)):"-";return e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"px-4 py-3 font-medium text-gray-900",children:t.title}),e.jsxs("td",{className:"px-4 py-3 text-gray-700 max-w-[360px]",children:[e.jsx("div",{className:"whitespace-pre-wrap",children:p(h)}),m&&e.jsx("button",{onClick:()=>c(!l),className:"text-blue-600 hover:text-blue-800 text-xs mt-1 underline",children:l?"Show less":"Show more"})]}),e.jsx("td",{className:"px-4 py-3 text-gray-700",children:i(t.assignedTo)}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold ${t.status==="Manager Confirmed"?"bg-green-100 text-green-800":t.status==="Employee Completed"?"bg-yellow-100 text-yellow-800":t.status==="Partially Completed"?"bg-indigo-100 text-indigo-800":t.status==="Not Completed"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:t.status})}),e.jsx("td",{className:"px-4 py-3 text-gray-700",children:qm(t.createdAt)}),e.jsx("td",{className:"px-4 py-3 text-gray-700",children:qm(t.completedAt)}),e.jsx("td",{className:"px-4 py-3 text-gray-700",children:qm(t.confirmedAt)}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex flex-wrap gap-2",children:[r._id===(((g=t.assignedTo)==null?void 0:g._id)||t.assignedTo)&&e.jsxs(e.Fragment,{children:[(t.status==="Pending"||t.status==="Not Completed")&&e.jsx("button",{onClick:()=>s(t._id,"In Progress"),className:"px-3 py-1 text-xs font-semibold text-white bg-slate-600 rounded hover:bg-slate-700",children:"Start"}),(t.status==="In Progress"||t.status==="Partially Completed")&&e.jsx("button",{onClick:()=>s(t._id,"Partially Completed"),className:"px-3 py-1 text-xs font-semibold text-white bg-indigo-500 rounded hover:bg-indigo-600",children:"Mark Partial"}),t.status!=="Employee Completed"&&e.jsx("button",{onClick:()=>s(t._id,"Employee Completed"),className:"px-3 py-1 text-xs font-semibold text-white bg-blue-500 rounded hover:bg-blue-600",children:"Mark Complete"}),t.status!=="Not Completed"&&e.jsx("button",{onClick:()=>s(t._id,"Not Completed"),className:"px-3 py-1 text-xs font-semibold text-white bg-red-500 rounded hover:bg-red-600",children:"Not Completed"})]}),(r.role==="Admin"||r.role==="IT Manager")&&e.jsxs(e.Fragment,{children:[t.status==="Employee Completed"&&e.jsx("button",{onClick:()=>s(t._id,"Manager Confirmed"),className:"px-3 py-1 text-xs font-semibold text-white bg-green-500 rounded hover:bg-green-600",children:"Confirm"}),e.jsx("button",{onClick:()=>a(t._id),className:"px-3 py-1 text-xs font-semibold text-white bg-red-600 rounded hover:bg-red-700",children:"Delete"})]})]})})]})},aM=({users:t,onTaskCreated:r})=>{const[s,a]=y.useState(""),[i,l]=y.useState(""),[c,u]=y.useState(""),m=async h=>{h.preventDefault();try{const p=await ce.post("/tasks",{title:s,description:i,assignedTo:c,department:"IT"});r(p.data.data),a(""),l(""),u("")}catch(p){console.error("Error creating task:",p)}};return e.jsxs("form",{onSubmit:m,className:"p-4 border rounded-lg shadow-sm",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:"Title"}),e.jsx("input",{type:"text",id:"title",value:s,onChange:h=>a(h.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),e.jsx("textarea",{id:"description",value:i,onChange:h=>l(h.target.value),rows:"3",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"assignedTo",className:"block text-sm font-medium text-gray-700",children:"Assign To"}),e.jsxs("select",{id:"assignedTo",value:c,onChange:h=>u(h.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",required:!0,children:[e.jsx("option",{value:"",children:"Select a user"}),t.map(h=>{var v;const p=h._id||h.userId||h.id,g=h.fullName||h.name||"Unknown",x=typeof h.role=="string"?h.role:((v=h.role)==null?void 0:v.name)||"";return e.jsxs("option",{value:p,children:[g," ",x?`(${x})`:""]},p)})]})]}),e.jsx("button",{type:"submit",className:"w-full px-4 py-2 text-white bg-indigo-600 rounded-md hover:bg-indigo-700",children:"Create Task"})]})},nM=({onUserCreated:t,currentUser:r})=>{const[s,a]=y.useState({fullName:"",email:"",password:"",role:"",skills:"",internshipStartDate:"",internshipEndDate:""}),[i,l]=y.useState({photograph:null,aadharCard:null,panCard:null,tenthMarksheet:null,twelfthMarksheet:null,bachelorDegree:null,pcc:null,offerLetter:null,resume:null}),[c,u]=y.useState(!1),[m,h]=y.useState(""),p=w=>{a({...s,[w.target.name]:w.target.value})},g=w=>{l({...i,[w.target.name]:w.target.files[0]})},x=()=>!s.fullName||!s.email||!s.password||!s.role?(h("Please fill all required fields"),!1):(h(""),!0),v=async w=>{var S,k,E;if(w.preventDefault(),!!x()){u(!0);try{const C=new FormData;C.append("fullName",s.fullName),C.append("email",s.email),C.append("password",s.password),C.append("role",s.role),s.skills&&C.append("skills",s.skills),s.role==="IT Intern"&&(s.internshipStartDate&&C.append("internshipStartDate",s.internshipStartDate),s.internshipEndDate&&C.append("internshipEndDate",s.internshipEndDate)),Object.keys(i).forEach(A=>{i[A]&&C.append(A,i[A])});const j=await ce.post("/auth/users/with-documents",C,{headers:{"Content-Type":"multipart/form-data"}});t==null||t(j.data.data),a({fullName:"",email:"",password:"",role:"",skills:"",internshipStartDate:"",internshipEndDate:""}),l({photograph:null,aadharCard:null,panCard:null,tenthMarksheet:null,twelfthMarksheet:null,bachelorDegree:null,pcc:null,offerLetter:null,resume:null}),u(!1)}catch(C){u(!1);const j=((k=(S=C==null?void 0:C.response)==null?void 0:S.data)==null?void 0:k.message)||"Error creating user";h(j),console.error("Error creating user:",((E=C==null?void 0:C.response)==null?void 0:E.data)||C)}}};return e.jsxs("form",{onSubmit:v,className:"p-4 border rounded-lg shadow-sm space-y-5",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Create New User"}),m&&e.jsx("div",{className:"rounded-md bg-red-50 p-3 text-sm text-red-700 border border-red-200",children:m}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Full Name *"}),e.jsx("input",{name:"fullName",value:s.fullName,onChange:p,placeholder:"Full Name",required:!0,className:"mt-1 input w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email *"}),e.jsx("input",{name:"email",type:"email",value:s.email,onChange:p,placeholder:"Email",required:!0,className:"mt-1 input w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Password *"}),e.jsx("input",{name:"password",type:"password",value:s.password,onChange:p,placeholder:"Password",required:!0,minLength:6,className:"mt-1 input w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"System Role *"}),e.jsxs("select",{name:"role",value:s.role,onChange:p,required:!0,className:"mt-1 input w-full",children:[e.jsx("option",{value:"",children:"Select Role"}),r&&r.role==="Admin"&&e.jsx("option",{value:"IT Manager",children:"IT Manager"}),e.jsx("option",{value:"IT Intern",children:"IT Intern"}),e.jsx("option",{value:"IT Permanent",children:"IT Permanent"})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Skills (comma-separated)"}),e.jsx("input",{name:"skills",value:s.skills,onChange:p,placeholder:"MERN, Java, HTML",className:"mt-1 input w-full"})]}),s.role==="IT Intern"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Internship Start Date *"}),e.jsx("input",{name:"internshipStartDate",type:"date",value:s.internshipStartDate,onChange:p,required:!0,className:"mt-1 input w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Internship End Date *"}),e.jsx("input",{name:"internshipEndDate",type:"date",value:s.internshipEndDate,onChange:p,required:!0,className:"mt-1 input w-full"})]})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h4",{className:"text-md font-semibold mb-2",children:"Documents (Optional)"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"You can upload documents now or add them later. All documents are optional."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Photograph"}),e.jsx("input",{name:"photograph",type:"file",accept:"image/*",onChange:g,className:"input-file"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Aadhar Card"}),e.jsx("input",{name:"aadharCard",type:"file",accept:".pdf,.jpg,.jpeg,.png",onChange:g,className:"input-file"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"PAN Card"}),e.jsx("input",{name:"panCard",type:"file",accept:".pdf,.jpg,.jpeg,.png",onChange:g,className:"input-file"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"10th Marksheet"}),e.jsx("input",{name:"tenthMarksheet",type:"file",accept:".pdf,.jpg,.jpeg,.png",onChange:g,className:"input-file"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"12th Marksheet"}),e.jsx("input",{name:"twelfthMarksheet",type:"file",accept:".pdf,.jpg,.jpeg,.png",onChange:g,className:"input-file"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Bachelor's Degree (if applicable)"}),e.jsx("input",{name:"bachelorDegree",type:"file",accept:".pdf,.jpg,.jpeg,.png",onChange:g,className:"input-file"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Police Clearance Certificate (PCC)"}),e.jsx("input",{name:"pcc",type:"file",accept:".pdf,.jpg,.jpeg,.png",onChange:g,className:"input-file"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium",children:"Offer Letter"}),e.jsx("input",{name:"offerLetter",type:"file",accept:".pdf,.doc,.docx",onChange:g,className:"input-file"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium",children:"Resume"}),e.jsx("input",{name:"resume",type:"file",accept:".pdf,.doc,.docx",onChange:g,className:"input-file"})]})]})]}),e.jsx("button",{type:"submit",disabled:c,className:"w-full px-4 py-2 text-white bg-indigo-600 rounded-md hover:bg-indigo-700",children:c?"Creating...":"Create User"})]})},oM=({users:t,employees:r,onUserUpdated:s,onUserDeleted:a,canManage:i})=>{const[l,c]=y.useState(null),[u,m]=y.useState({}),[h,p]=y.useState({}),g=C=>{var P,F;const j=r.find(T=>(T.userId||T._id)===C._id),A=typeof C.role=="string"?C.role:((P=C.role)==null?void 0:P.name)||"";m({fullName:C.fullName||"",email:C.email||"",role:A,skills:((F=j==null?void 0:j.skills)==null?void 0:F.join(", "))||"",internshipStartDate:j!=null&&j.internshipStartDate?new Date(j.internshipStartDate).toISOString().split("T")[0]:"",internshipEndDate:j!=null&&j.internshipEndDate?new Date(j.internshipEndDate).toISOString().split("T")[0]:""}),c(C._id)},x=()=>{c(null),m({})},v=async C=>{var j,A;p({...h,[C]:!0});try{const P=new FormData;Object.keys(u).forEach(F=>{u[F]!==void 0&&u[F]!==""&&P.append(F,u[F])}),await Et.updateUserWithDocuments(C,P),xe.success("User updated successfully"),c(null),m({}),s==null||s()}catch(P){xe.error(((A=(j=P.response)==null?void 0:j.data)==null?void 0:A.message)||"Failed to update user")}finally{p({...h,[C]:!1})}},w=async C=>{var j,A;if(window.confirm("Are you sure you want to delete this user? This action cannot be undone.")){p({...h,[C]:!0});try{await Et.deleteUser(C),xe.success("User deleted successfully"),a==null||a()}catch(P){xe.error(((A=(j=P.response)==null?void 0:j.data)==null?void 0:A.message)||"Failed to delete user")}finally{p({...h,[C]:!1})}}},S=async C=>{var j,A;p({...h,[`toggle-${C}`]:!0});try{const P=await ce.put(`/auth/users/${C}/toggle-active`);xe.success(P.data.message||"User status updated"),s==null||s()}catch(P){xe.error(((A=(j=P.response)==null?void 0:j.data)==null?void 0:A.message)||"Failed to toggle user status")}finally{p({...h,[`toggle-${C}`]:!1})}},k=C=>{if(!C)return null;const j=new Date,A=new Date(C);j.setHours(0,0,0,0),A.setHours(0,0,0,0);const P=A-j;return Math.ceil(P/(1e3*60*60*24))},E=C=>r.find(j=>(j.userId||j._id)===C);return e.jsxs(Ye,{className:"border-0 shadow-lg",children:[e.jsx(vt,{children:e.jsxs(wt,{className:"text-xl flex items-center gap-2",children:[e.jsx(Ot,{className:"text-indigo-600"}),"IT Team Members"]})}),e.jsx(We,{children:t.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No team members yet. Create a new user to get started."}):e.jsx("div",{className:"space-y-4",children:t.map(C=>{var z;const j=E(C._id),A=typeof C.role=="string"?C.role:((z=C.role)==null?void 0:z.name)||C.role||"Unknown",P=A==="IT Intern",F=P&&(j!=null&&j.internshipEndDate)?k(j.internshipEndDate):null,T=F!==null&&F<0,L=l===C._id;return e.jsx(Ye,{className:`border ${T?"border-red-300 bg-red-50 dark:bg-red-900/10":""}`,children:e.jsx(We,{className:"p-4",children:L?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Full Name"}),e.jsx("input",{type:"text",value:u.fullName,onChange:q=>m({...u,fullName:q.target.value}),className:"w-full px-3 py-2 border rounded-lg dark:bg-gray-800"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),e.jsx("input",{type:"email",value:u.email,onChange:q=>m({...u,email:q.target.value}),className:"w-full px-3 py-2 border rounded-lg dark:bg-gray-800"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Skills (comma-separated)"}),e.jsx("input",{type:"text",value:u.skills,onChange:q=>m({...u,skills:q.target.value}),placeholder:"MERN, Java, HTML",className:"w-full px-3 py-2 border rounded-lg dark:bg-gray-800"})]}),A==="IT Intern"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Internship Start Date"}),e.jsx("input",{type:"date",value:u.internshipStartDate,onChange:q=>m({...u,internshipStartDate:q.target.value}),className:"w-full px-3 py-2 border rounded-lg dark:bg-gray-800"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Internship End Date"}),e.jsx("input",{type:"date",value:u.internshipEndDate,onChange:q=>m({...u,internshipEndDate:q.target.value}),className:"w-full px-3 py-2 border rounded-lg dark:bg-gray-800"})]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(jt,{onClick:()=>v(C._id),disabled:h[C._id],size:"sm",children:h[C._id]?"Saving...":"Save"}),e.jsx(jt,{variant:"outline",onClick:x,disabled:h[C._id],size:"sm",children:"Cancel"})]})]}):e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold",children:C.fullName}),e.jsx(Ke,{variant:A==="IT Manager"?"default":A==="IT Permanent"?"secondary":"outline",children:A}),C.active===!1&&e.jsx(Ke,{className:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",children:"Inactive"}),T&&e.jsxs(Ke,{className:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200 flex items-center gap-1",children:[e.jsx(Si,{})," Expired"]})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:C.email}),j&&j.skills&&j.skills.length>0&&e.jsxs("div",{className:"mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Skills: "}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:j.skills.join(", ")})]}),P&&(j==null?void 0:j.internshipEndDate)&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Es,{className:"text-gray-500"}),e.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:["End Date: ",new Date(j.internshipEndDate).toLocaleDateString()]}),F!==null&&e.jsx("span",{className:`font-semibold ${T?"text-red-600":F<=7?"text-orange-600":"text-green-600"}`,children:T?`(${Math.abs(F)} days overdue)`:F===0?"(Ends today)":`(${F} days remaining)`})]})]}),i&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx(jt,{variant:"outline",size:"sm",onClick:()=>g(C),disabled:h[C._id],title:"Edit User",children:e.jsx(hs,{})}),e.jsx(jt,{variant:"outline",size:"sm",onClick:()=>S(C._id),disabled:h[`toggle-${C._id}`],title:C.active?"Deactivate":"Activate",className:C.active?"text-green-600":"text-red-600",children:C.active?e.jsx(E3,{}):e.jsx(C3,{})}),e.jsx(jt,{variant:"outline",size:"sm",onClick:()=>w(C._id),disabled:h[C._id],title:"Delete User",className:"text-red-600 hover:bg-red-50",children:e.jsx(Qn,{})})]})]})})},C._id)})})})]})},iM=({onCreated:t,itUsers:r=[]})=>{const[s,a]=y.useState(""),[i,l]=y.useState(""),[c,u]=y.useState(""),[m,h]=y.useState("ACTIVE"),[p,g]=y.useState(0),[x,v]=y.useState([]),[w,S]=y.useState(new Date().toISOString().split("T")[0]),[k,E]=y.useState(""),[C,j]=y.useState(!1),[A,P]=y.useState(!1),[F,T]=y.useState(""),L=()=>{F&&!x.includes(F)&&(v([...x,F]),T(""),P(!1))},z=B=>{v(x.filter(U=>U!==B))},q=async B=>{B.preventDefault(),j(!0);try{await ce.post("/it-projects",{name:s,description:i,technologies:c,status:m,progress:parseInt(p),team:x,startDate:w,endDate:k||void 0}),xe.success("Project created successfully!"),a(""),l(""),u(""),g(0),v([]),S(new Date().toISOString().split("T")[0]),E(""),t==null||t()}catch{xe.error("Failed to create project")}finally{j(!1)}},O=r.filter(B=>!x.includes(B.userId||B._id));return e.jsxs(Ye,{className:"border-0 shadow-lg bg-gradient-to-br from-indigo-50 to-purple-50 dark:from-indigo-900/20 dark:to-purple-900/20",children:[e.jsx(vt,{children:e.jsxs(wt,{className:"text-xl flex items-center gap-2",children:[e.jsx(As,{className:"text-indigo-600"}),"Create New Project"]})}),e.jsx(We,{children:e.jsxs("form",{onSubmit:q,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Project Name *"}),e.jsx("input",{value:s,onChange:B=>a(B.target.value),placeholder:"Enter project name",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent dark:bg-gray-800",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Description"}),e.jsx("textarea",{value:i,onChange:B=>l(B.target.value),placeholder:"Describe the project...",rows:"3",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent dark:bg-gray-800"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Status"}),e.jsxs("select",{value:m,onChange:B=>h(B.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 dark:bg-gray-800",children:[e.jsx("option",{value:"ACTIVE",children:"Active"}),e.jsx("option",{value:"PENDING",children:"Pending"}),e.jsx("option",{value:"ON_HOLD",children:"On Hold"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Progress (%)"}),e.jsx("input",{type:"number",value:p,onChange:B=>g(B.target.value),min:"0",max:"100",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 dark:bg-gray-800"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Technologies"}),e.jsx("input",{value:c,onChange:B=>u(B.target.value),placeholder:"React, Node.js, MongoDB (comma-separated)",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 dark:bg-gray-800"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Start Date"}),e.jsx("input",{type:"date",value:w,onChange:B=>S(B.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 dark:bg-gray-800"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"End Date (Optional)"}),e.jsx("input",{type:"date",value:k,onChange:B=>E(B.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 dark:bg-gray-800"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-sm font-medium",children:"Team Members"}),!A&&e.jsxs("button",{type:"button",onClick:()=>P(!0),className:"text-sm text-indigo-600 hover:text-indigo-700 flex items-center gap-1",children:[e.jsx(Nv,{})," Add Member"]})]}),A&&e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsxs("select",{value:F,onChange:B=>T(B.target.value),className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 dark:bg-gray-800",children:[e.jsx("option",{value:"",children:"Select team member..."}),O.map(B=>{var U;return e.jsxs("option",{value:B.userId||B._id,children:[B.fullName," (",((U=B.role)==null?void 0:U.name)||B.role||"IT",")"]},B.userId||B._id)})]}),e.jsx(jt,{type:"button",onClick:L,disabled:!F,children:"Add"}),e.jsx(jt,{type:"button",variant:"outline",onClick:()=>P(!1),children:"Cancel"})]}),x.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 p-3 bg-white dark:bg-gray-800 rounded-lg border",children:x.map(B=>{const U=r.find(R=>(R.userId||R._id)===B);return U?e.jsxs(Ke,{className:"flex items-center gap-1 bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-200",children:[U.fullName,e.jsx("button",{type:"button",onClick:()=>z(B),className:"ml-1 hover:text-red-600",children:e.jsx(It,{className:"text-xs"})})]},B):null})})]}),e.jsx(jt,{type:"submit",disabled:C,className:"w-full bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700",children:C?"Creating...":"Create Project"})]})})]})},lM=({project:t,onUpdated:r,onDeleted:s,canEdit:a,itUsers:i=[],currentUser:l})=>{const[c,u]=y.useState(!1),[m,h]=y.useState(!1),[p,g]=y.useState(!1),[x,v]=y.useState(t.progress||0),[w,S]=y.useState("");y.useEffect(()=>{v(t.progress||0)},[t.progress]);const[k,E]=y.useState({name:t.name,description:t.description||"",status:t.status||"ACTIVE",progress:t.progress||0,technologies:(t.technologies||[]).join(", "),team:(t.team||[]).map(R=>typeof R=="object"?R._id||R.id:R),startDate:t.startDate?new Date(t.startDate).toISOString().split("T")[0]:"",endDate:t.endDate?new Date(t.endDate).toISOString().split("T")[0]:""}),[C,j]=y.useState(!1),[A,P]=y.useState(""),F=l&&!a&&t.team&&t.team.some(R=>{var H;const ee=typeof R=="object"&&(R._id||R.id)||R,J=(H=l._id||l.id)==null?void 0:H.toString();return J&&(ee==null?void 0:ee.toString())===J}),T=()=>{A&&!k.team.includes(A)&&(E({...k,team:[...k.team,A]}),P(""),j(!1))},L=R=>{E({...k,team:k.team.filter(ee=>ee!==R)})},z=async()=>{try{await ce.put(`/it-projects/${t._id}`,k),xe.success("Project updated successfully!"),u(!1),r==null||r()}catch{xe.error("Failed to update project")}},q=async()=>{try{h(!0);const R={progress:parseInt(x)};if(w&&w.trim()){const J=`

---
[Progress Update - ${new Date().toLocaleString()} by ${(l==null?void 0:l.fullName)||"Team Member"}]:
${w.trim()}`;R.description=(t.description||"")+J}await ce.put(`/it-projects/${t._id}`,R),xe.success("Progress updated successfully!"),g(!1),S(""),r==null||r()}catch(R){console.error("Error updating progress:",R),xe.error("Failed to update progress")}finally{h(!1)}},O=async()=>{if(window.confirm("Are you sure you want to delete this project?"))try{await ce.delete(`/it-projects/${t._id}`),xe.success("Project deleted successfully!"),s==null||s()}catch{xe.error("Failed to delete project")}},B=R=>{switch(R){case"ACTIVE":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"COMPLETED":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"PENDING":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"ON_HOLD":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200"}},U=i.filter(R=>!k.team.includes(R.userId||R._id));return e.jsx(Ye,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow",children:c?e.jsx(We,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Project Name *"}),e.jsx("input",{className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 dark:bg-gray-800",value:k.name,onChange:R=>E({...k,name:R.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Description"}),e.jsx("textarea",{className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 dark:bg-gray-800",rows:"3",value:k.description,onChange:R=>E({...k,description:R.target.value})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Status"}),e.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 dark:bg-gray-800",value:k.status,onChange:R=>E({...k,status:R.target.value}),children:[e.jsx("option",{value:"ACTIVE",children:"Active"}),e.jsx("option",{value:"PENDING",children:"Pending"}),e.jsx("option",{value:"COMPLETED",children:"Completed"}),e.jsx("option",{value:"ON_HOLD",children:"On Hold"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Progress (%)"}),e.jsx("input",{type:"number",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 dark:bg-gray-800",value:k.progress,onChange:R=>E({...k,progress:parseInt(R.target.value||0)}),min:0,max:100})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Technologies"}),e.jsx("input",{className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 dark:bg-gray-800",value:k.technologies,onChange:R=>E({...k,technologies:R.target.value}),placeholder:"React, Node.js, MongoDB (comma-separated)"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Start Date"}),e.jsx("input",{type:"date",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 dark:bg-gray-800",value:k.startDate,onChange:R=>E({...k,startDate:R.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"End Date"}),e.jsx("input",{type:"date",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 dark:bg-gray-800",value:k.endDate,onChange:R=>E({...k,endDate:R.target.value})})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-sm font-medium",children:"Team Members"}),!C&&e.jsxs("button",{type:"button",onClick:()=>j(!0),className:"text-sm text-indigo-600 hover:text-indigo-700 flex items-center gap-1",children:[e.jsx(Nv,{})," Add Member"]})]}),C&&e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsxs("select",{value:A,onChange:R=>P(R.target.value),className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 dark:bg-gray-800",children:[e.jsx("option",{value:"",children:"Select team member..."}),U.map(R=>{var ee;return e.jsxs("option",{value:R.userId||R._id,children:[R.fullName," (",((ee=R.role)==null?void 0:ee.name)||R.role||"IT",")"]},R.userId||R._id)})]}),e.jsx(jt,{type:"button",onClick:T,disabled:!A,children:"Add"}),e.jsx(jt,{type:"button",variant:"outline",onClick:()=>j(!1),children:"Cancel"})]}),k.team.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg border",children:k.team.map(R=>{const ee=i.find(J=>(J.userId||J._id)===R);return ee?e.jsxs(Ke,{className:"flex items-center gap-1 bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-200",children:[ee.fullName,e.jsx("button",{type:"button",onClick:()=>L(R),className:"ml-1 hover:text-red-600",children:e.jsx(It,{className:"text-xs"})})]},R):null})})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsx(jt,{onClick:z,className:"flex-1 bg-gradient-to-r from-indigo-600 to-purple-600",children:"Save Changes"}),e.jsx(jt,{variant:"outline",onClick:()=>u(!1),className:"flex-1",children:"Cancel"})]})]})}):e.jsxs(We,{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2 flex items-center gap-2",children:[e.jsx(As,{className:"text-indigo-600"}),t.name]}),e.jsx(Ke,{className:B(t.status),children:t.status})]}),e.jsxs("div",{className:"flex gap-2",children:[F&&e.jsxs("button",{onClick:()=>g(!0),className:"px-3 py-1.5 text-sm bg-indigo-600 text-white hover:bg-indigo-700 rounded-lg transition-colors flex items-center gap-1",title:"Update Progress",children:[e.jsx(cr,{className:"text-xs"}),"Update Progress"]}),a&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>u(!0),className:"p-2 text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 rounded-lg transition-colors",title:"Edit Project",children:e.jsx(hs,{})}),e.jsx("button",{onClick:O,className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Delete Project",children:e.jsx(Qn,{})})]})]})]}),t.description&&e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:t.description}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Progress"}),e.jsxs("span",{className:"text-sm font-bold text-indigo-600",children:[t.progress||0,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3 overflow-hidden",children:e.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 h-3 rounded-full transition-all duration-300",style:{width:`${t.progress||0}%`}})}),F&&e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"You can update this project's progress using the button above"})]}),p&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>g(!1),children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 max-w-md w-full mx-4 shadow-2xl",onClick:R=>R.stopPropagation(),children:[e.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[e.jsx(cr,{className:"text-indigo-600"}),"Update Project Progress"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Progress (%)"}),e.jsx("input",{type:"number",min:"0",max:"100",value:x,onChange:R=>v(R.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 dark:bg-gray-700"}),e.jsx("div",{className:"mt-2",children:e.jsx("input",{type:"range",min:"0",max:"100",value:x,onChange:R=>v(R.target.value),className:"w-full"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Progress Note (Optional)"}),e.jsx("textarea",{value:w,onChange:R=>S(R.target.value),placeholder:"Add a note about your progress update...",rows:"3",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 dark:bg-gray-700"})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsx(jt,{onClick:q,disabled:m,className:"flex-1 bg-gradient-to-r from-indigo-600 to-purple-600",children:m?"Updating...":"Update Progress"}),e.jsx(jt,{variant:"outline",onClick:()=>{g(!1),S("")},className:"flex-1",children:"Cancel"})]})]})]})}),t.technologies&&t.technologies.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(yv,{className:"text-gray-500 text-sm"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Tech Stack"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.technologies.map((R,ee)=>e.jsx(Ke,{variant:"outline",className:"bg-blue-50 text-blue-700 dark:bg-blue-900/20 dark:text-blue-300 border-blue-200 dark:border-blue-800",children:R},ee))})]}),t.team&&t.team.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ct,{className:"text-gray-500 text-sm"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Team Members"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.team.map((R,ee)=>{const J=typeof R=="object"?R:i.find(H=>(H.userId||H._id)===R);return J?e.jsxs(Ke,{className:"bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-200 flex items-center gap-1",children:[e.jsx(Ot,{className:"text-xs"}),J.fullName||"Unknown"]},ee):null})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[t.startDate&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(Es,{className:"text-xs"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Start Date"}),e.jsx("div",{children:new Date(t.startDate).toLocaleDateString()})]})]}),t.endDate&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(Xa,{className:"text-xs"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-700 dark:text-gray-300",children:"End Date"}),e.jsx("div",{children:new Date(t.endDate).toLocaleDateString()})]})]})]})]})})},cM=()=>{const{user:t}=Fe(),r=us(),[s,a]=y.useState([]),[i,l]=y.useState([]),[c,u]=y.useState([]),[m,h]=y.useState([]),[p,g]=y.useState("overview"),[x,v]=y.useState(!0),w=async()=>{var L;try{v(!0);const q=(await ce.get("/auth/users?role=IT Manager,IT Intern,IT Permanent")).data.data||[],O=new Set(q.map(G=>(G._id||G.id).toString())),R=((await ce.get("/employees")).data.data||[]).filter(G=>{let _="";return G.role&&(typeof G.role=="string"?_=G.role:G.role.name&&(_=G.role.name)),_.toUpperCase().startsWith("IT")});a(R);const ee=q.map(G=>{const _=R.find(M=>(M.userId||M._id)===G._id);return{...G,userId:G._id,employeeData:_||null}});l(ee);let H=(await ce.get("/it-projects")).data.data||[];if(t&&t.role!=="IT Manager"&&t.role!=="Admin"){const G=(L=t._id||t.id)==null?void 0:L.toString();H=H.filter(_=>{const M=(_.team||[]).map(X=>{const V=typeof X=="object"&&(X._id||X.id)||X;return V?V.toString():null}).filter(Boolean),Z=G&&M.includes(G);return!Z&&_.team&&_.team.length>0&&console.log("Project not assigned to user:",{projectName:_.name,userId:G,teamIds:M,team:_.team}),Z})}u(H);const I=(await ce.get("/tasks?department=IT")).data.data||[];h(I),v(!1)}catch(z){console.error("Error fetching dashboard data:",z),xe.error("Failed to load dashboard data"),v(!1)}};y.useEffect(()=>{w()},[]);const S=L=>{h(m.map(z=>z._id===L._id?L:z))},k=L=>{h(m.filter(z=>z._id!==L))},E=L=>{w()},C=L=>{w()},j=()=>{w()},A=()=>{w()};if(x)return e.jsx("div",{children:"Loading..."});const P=t&&(t.role==="Admin"||t.role==="IT Manager"),F=t&&t.role==="IT Manager",T=t&&(t.role==="Admin"||t.role==="IT Manager");return e.jsx(Je,{children:e.jsxs("div",{className:"container mx-auto p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[e.jsx(As,{className:"text-blue-600"}),"IT Department Dashboard"]}),e.jsxs("div",{className:"flex gap-2",children:[p==="team"&&P&&e.jsx(jt,{variant:"outline",onClick:()=>{r("/employees?dept=IT")},children:"Add Team Member"}),e.jsx(jt,{onClick:w,children:"Refresh Data"})]})]}),e.jsxs(Xh,{value:p,onValueChange:g,className:"mt-6",children:[e.jsxs(dd,{className:`grid w-full ${T?"grid-cols-4":"grid-cols-3"}`,children:[e.jsx(Pr,{value:"overview",children:"Overview"}),T&&e.jsx(Pr,{value:"team",children:"Team"}),e.jsx(Pr,{value:"projects",children:"Projects"}),e.jsx(Pr,{value:"tasks",children:"Tasks"})]}),e.jsx(Dr,{value:"overview",children:s.length===0&&c.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("h3",{className:"text-lg font-medium mb-2",children:"Welcome to IT Department Dashboard!"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Get started by:"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:" Adding team members (Go to Team tab)"}),e.jsx("li",{children:" Creating new projects (Go to Projects tab)"}),e.jsx("li",{children:" Tracking tech stack and progress"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(eM,{employees:s,projects:c,user:t}),((t==null?void 0:t.role)==="IT Manager"||(t==null?void 0:t.role)==="Admin")&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-4 flex justify-end",children:e.jsx(jt,{onClick:async()=>{try{const L=await ce.post("/employees/fix-it-interns");L.data.success&&(xe.success(`Fixed ${L.data.fixed} IT Intern employee records`),w())}catch(L){console.error("Error fixing IT Interns:",L),xe.error("Failed to fix IT Intern records")}},variant:"outline",className:"text-sm",children:"Fix IT Interns Data"})}),e.jsx(tM,{employees:s,projects:c})]})]})}),e.jsx(Dr,{value:"team",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(oM,{users:i,employees:s,onUserUpdated:j,onUserDeleted:A,canManage:P}),s.length>0&&e.jsx(JD,{employees:s}),P&&e.jsxs("div",{className:"mt-8",children:[e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Create New User"}),e.jsx(nM,{onUserCreated:C,currentUser:t})]})]})}),e.jsx(Dr,{value:"projects",children:e.jsxs("div",{className:"space-y-6",children:[F&&e.jsx(iM,{onCreated:w,itUsers:i}),c.length===0?e.jsx(Ye,{className:"border-0 shadow-lg",children:e.jsxs(We,{className:"py-16 text-center",children:[e.jsx(As,{className:"text-6xl mx-auto mb-4 text-gray-300 dark:text-gray-600"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"No Projects Yet"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Create your first project to get started"})]})}):e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:c.map(L=>e.jsx(lM,{project:L,onUpdated:w,onDeleted:w,canEdit:P,itUsers:i,currentUser:t},L._id))})]})}),e.jsxs(Dr,{value:"tasks",children:[e.jsx(rM,{tasks:m,currentUser:t,onTaskUpdate:S,onTaskDeleted:k}),(P||(t==null?void 0:t.role)==="Admin")&&e.jsxs("div",{className:"mt-8",children:[e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Create New Task"}),e.jsx(aM,{users:i,onTaskCreated:E})]})]})]})]})})},dM=y.lazy(()=>xa(()=>import("./SalesTrackingPage-D1Dm6akF.js"),__vite__mapDeps([0,1]))),uM=y.lazy(()=>xa(()=>import("./AdminUsersPage-C7FrADE9.js"),[])),mM=y.lazy(()=>xa(()=>import("./AdminReportsPage-Cxx1Z846.js"),[])),hM=y.lazy(()=>xa(()=>import("./ProspectsPage-DLuQZvK2.js"),[])),Nb=y.lazy(()=>xa(()=>import("./InvoiceManagementPage-vPcUIICS.js"),[])),fM=y.lazy(()=>xa(()=>import("./LeadSalesSheet-wT_RLE8Q.js"),[])),pM=y.lazy(()=>xa(()=>import("./DocumentManagementPage-AXbogFtu.js"),[])),gM=y.lazy(()=>xa(()=>import("./AdminActivityLogsPage-C7-N_c7z.js"),[])),kb=()=>{const{user:t}=Fe();return t&&["IT Manager","IT Intern","IT Permanent"].includes(t.role)?e.jsx(D5,{}):e.jsx(A5,{})},xM=()=>e.jsxs(Rk,{children:[e.jsx($e,{path:"/",element:e.jsx(kb,{})}),e.jsx($e,{path:"/login",element:e.jsx(M5,{})}),e.jsx($e,{path:"/customer-signup",element:e.jsx(L5,{})}),e.jsx($e,{path:"/debug",element:e.jsx(r8,{})}),e.jsx($e,{path:"/forgot-password",element:e.jsx($T,{})}),e.jsx($e,{path:"/tutorials",element:e.jsx(HT,{})}),e.jsx($e,{path:"/management-contacts",element:e.jsx(BP,{})}),e.jsx($e,{path:"/countries",element:e.jsx(FP,{})}),e.jsx($e,{path:"/customer",element:e.jsx(et,{allowedRoles:["Customer"],children:e.jsx(VP,{})})}),e.jsx($e,{path:"/signup",element:e.jsx(R5,{})}),e.jsx($e,{path:"/it",element:e.jsx(et,{allowedRoles:["IT Manager","IT Intern","IT Permanent","Admin"],children:e.jsx(cM,{})})}),e.jsx($e,{path:"/test-notifications",element:e.jsx(et,{allowedRoles:["Sales Person","Lead Person","Manager","Admin"],children:e.jsx(UP,{})})}),e.jsx($e,{path:"/leads",element:e.jsx(et,{allowedRoles:["Sales Person","Lead Person","Manager","Admin"],children:e.jsx(AS,{})})}),e.jsx($e,{path:"/sales",element:e.jsx(et,{allowedRoles:["Sales Person","Manager","Admin"],children:e.jsx(PS,{})})}),e.jsx($e,{path:"/sales-tracking",element:e.jsx(et,{allowedRoles:["Sales Person","Manager","Admin"],children:e.jsx(y.Suspense,{fallback:e.jsx(Jt,{}),children:e.jsx(dM,{})})})}),e.jsx($e,{path:"/create-sale",element:e.jsx(et,{allowedRoles:["Sales Person","Manager","Admin"],children:e.jsx(DS,{})})}),e.jsx($e,{path:"/invoices",element:e.jsx(et,{allowedRoles:["Sales Person","Manager","Admin"],children:e.jsx(y.Suspense,{fallback:e.jsx(Jt,{}),children:e.jsx(Nb,{})})})}),e.jsx($e,{path:"/tasks",element:e.jsx(et,{allowedRoles:["Sales Person","Lead Person","Manager","Admin","IT Manager","IT Intern","IT Permanent"],children:e.jsx(eP,{})})}),e.jsx($e,{path:"/profile",element:e.jsx(et,{allowedRoles:["Sales Person","Lead Person","Manager","Admin","Customer","HR","Employee","IT Manager","IT Intern","IT Permanent"],children:e.jsx(t8,{})})}),e.jsx($e,{path:"/admin",element:e.jsx(et,{allowedRoles:["Admin","Lead Person"],children:e.jsx(s8,{})})}),e.jsx($e,{path:"/admin/users",element:e.jsx(et,{allowedRoles:["Admin"],children:e.jsx(y.Suspense,{fallback:e.jsx(Jt,{}),children:e.jsx(uM,{})})})}),e.jsx($e,{path:"/admin/leads",element:e.jsx(et,{allowedRoles:["Admin"],children:e.jsx(a8,{})})}),e.jsx($e,{path:"/admin/import",element:e.jsx(et,{allowedRoles:["Admin"],children:e.jsx(n8,{})})}),e.jsx($e,{path:"/admin/reports",element:e.jsx(et,{allowedRoles:["Admin"],children:e.jsx(y.Suspense,{fallback:e.jsx(Jt,{}),children:e.jsx(mM,{})})})}),e.jsx($e,{path:"/admin/activity",element:e.jsx(et,{allowedRoles:["Admin","Manager"],children:e.jsx(o8,{})})}),e.jsx($e,{path:"/admin/activity-logs",element:e.jsx(et,{allowedRoles:["Admin"],children:e.jsx(y.Suspense,{fallback:e.jsx(Jt,{}),children:e.jsx(gM,{})})})}),e.jsx($e,{path:"/repeat-customers",element:e.jsx(et,{allowedRoles:["Admin","Manager"],children:e.jsx(tP,{})})}),e.jsx($e,{path:"/lead-sales-sheet",element:e.jsx(et,{allowedRoles:["Lead Person","Manager","Admin"],children:e.jsx(y.Suspense,{fallback:e.jsx(Jt,{}),children:e.jsx(fM,{})})})}),e.jsx($e,{path:"/update-sales",element:e.jsx(et,{allowedRoles:["Lead Person","Manager","Admin"],children:e.jsx(VT,{})})}),e.jsx($e,{path:"/manager",element:e.jsx(et,{allowedRoles:["Manager","Admin"],children:e.jsx(XD,{})})}),e.jsx($e,{path:"/prospects",element:e.jsx(et,{allowedRoles:["Sales Person","Manager","Admin"],children:e.jsx(y.Suspense,{fallback:e.jsx(Jt,{}),children:e.jsx(hM,{})})})}),e.jsx($e,{path:"/employees",element:e.jsx(et,{allowedRoles:["HR","Manager","Admin","IT Manager"],children:e.jsx(GD,{})})}),e.jsx($e,{path:"/documents",element:e.jsx(et,{allowedRoles:["Sales Person","Lead Person","Manager","Admin","HR","Employee","IT Manager","IT Intern","IT Permanent"],children:e.jsx(y.Suspense,{fallback:e.jsx(Jt,{}),children:e.jsx(pM,{})})})}),e.jsx($e,{path:"/invoice-management",element:e.jsx(et,{allowedRoles:["Admin","Manager","Sales"],children:e.jsx(y.Suspense,{fallback:e.jsx(Jt,{}),children:e.jsx(Nb,{})})})}),e.jsx($e,{path:"/stripe-invoices",element:e.jsx(et,{allowedRoles:["Admin","Manager","Sales"],children:e.jsx(QD,{})})}),e.jsx($e,{path:"*",element:e.jsx(kb,{})})]}),yM=({isOpen:t,onClose:r})=>{const{notificationPreferences:s,saveNotificationPreferences:a,testNotificationSound:i}=Di(),[l,c]=y.useState({enableSounds:!0,messageSound:"message",volume:.3,enableBrowserNotifications:!0,enableToastNotifications:!0,enableStatusSounds:!1});y.useEffect(()=>{t&&c(x=>({...x,...s}))},[t,s]);const u=(x,v)=>{c(w=>({...w,[x]:v}))},m=()=>{a(l),r()},h=x=>{i(x)},p=x=>x===0?"Muted":x<=.2?"Very Low":x<=.4?"Low":x<=.6?"Medium":x<=.8?"High":"Very High",g=[{value:"message",label:"Message",icon:mc,description:"Standard message tone"},{value:"group",label:"Group Chat",icon:mc,description:"Triple tone for group messages"},{value:"urgent",label:"Urgent",icon:Si,description:"Rapid beeps for urgent messages"},{value:"soft",label:"Soft",icon:a0,description:"Gentle tone for quiet environments"}];return t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b dark:border-gray-700",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(Ec,{className:"text-blue-500"}),"Notification Settings"]}),e.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:e.jsx(It,{})})]}),e.jsxs("div",{className:"p-4 space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-md font-medium text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(l0,{className:"text-green-500"}),"Sound Settings"]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(FaVolume,{className:"text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Enable Sounds"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:l.enableSounds,onChange:x=>u("enableSounds",x.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),l.enableSounds&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Volume"}),e.jsx("span",{className:"text-sm text-blue-600 dark:text-blue-400",children:p(l.volume)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(T3,{className:"text-gray-400"}),e.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:l.volume,onChange:x=>u("volume",parseFloat(x.target.value)),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700"}),e.jsx(l0,{className:"text-gray-400"})]})]}),l.enableSounds&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Notification Sound"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:g.map(x=>e.jsxs("div",{className:"space-y-1",children:[e.jsxs("label",{className:`flex items-center gap-2 p-2 rounded-lg border cursor-pointer transition-colors ${l.messageSound===x.value?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[e.jsx("input",{type:"radio",name:"messageSound",value:x.value,checked:l.messageSound===x.value,onChange:v=>u("messageSound",v.target.value),className:"sr-only"}),e.jsx(x.icon,{className:`text-sm ${l.messageSound===x.value?"text-blue-600":"text-gray-400"}`}),e.jsx("span",{className:`text-sm ${l.messageSound===x.value?"text-blue-600 dark:text-blue-400 font-medium":"text-gray-700 dark:text-gray-300"}`,children:x.label})]}),e.jsxs("button",{onClick:()=>h(x.value),className:"w-full flex items-center justify-center gap-1 py-1 px-2 text-xs text-gray-500 hover:text-blue-600 dark:text-gray-400 dark:hover:text-blue-400 transition-colors",children:[e.jsx($a,{className:"text-xs"}),"Test"]})]},x.value))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(a0,{className:"text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Status Change Sounds"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:l.enableStatusSounds,onChange:x=>u("enableStatusSounds",x.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-md font-medium text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(Ec,{className:"text-blue-500"}),"Notification Types"]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(h3,{className:"text-gray-500"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Browser Notifications"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Show notifications outside the browser"})]})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:l.enableBrowserNotifications,onChange:x=>u("enableBrowserNotifications",x.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(mc,{className:"text-gray-500"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"In-App Notifications"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Show toast notifications within the app"})]})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:l.enableToastNotifications,onChange:x=>u("enableToastNotifications",x.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-md font-medium text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx($a,{className:"text-purple-500"}),"Test Notifications"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("button",{onClick:()=>h("message"),className:"flex items-center justify-center gap-2 py-2 px-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:[e.jsx($a,{className:"text-sm"}),e.jsx("span",{className:"text-sm",children:"Message"})]}),e.jsxs("button",{onClick:()=>h("urgent"),className:"flex items-center justify-center gap-2 py-2 px-3 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:[e.jsx($a,{className:"text-sm"}),e.jsx("span",{className:"text-sm",children:"Urgent"})]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 border-t dark:border-gray-700",children:[e.jsx("button",{onClick:r,className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:m,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(di,{}),"Save Changes"]})]})]})}):null},bM=({isOpen:t,onClose:r})=>{var h,p;const{testNotificationSound:s}=Di(),[a,i]=y.useState(""),l=[{type:"message",name:"Message Sound",icon:mc,color:"#10b981",description:"Standard WhatsApp-style message notification"},{type:"group",name:"Group Message",icon:Ct,color:"#3b82f6",description:"Triple tone for group conversations"},{type:"urgent",name:"Urgent Alert",icon:Si,color:"#ef4444",description:"Rapid beeps for important messages"},{type:"soft",name:"Soft Notification",icon:a0,color:"#8b5cf6",description:"Gentle tone for quiet environments"},{type:"success",name:"Success Sound",icon:Xa,color:"#06d6a0",description:"Message sent confirmation"},{type:"error",name:"Error Sound",icon:S3,color:"#f72585",description:"Error or failure notification"}],c=async(g,x)=>{try{i(`Testing ${x}...`),await s(g),i(` Played: ${x}`),setTimeout(()=>{i("")},3e3)}catch(v){i(` Error playing ${x}`),console.error("Error testing sound:",v)}},u=()=>{"Notification"in window?Notification.permission==="granted"?(new Notification(" CRM Chat Test",{body:"This is a test browser notification with sound!",icon:"/favicon.ico",requireInteraction:!1}),i(" Browser notification sent")):Notification.permission!=="denied"?Notification.requestPermission().then(g=>{g==="granted"?(new Notification(" Permission Granted!",{body:"Browser notifications are now enabled",icon:"/favicon.ico"}),i(" Permission granted & notification sent")):i(" Permission denied")}):i(" Notifications are blocked"):i(" Browser does not support notifications")},m=()=>{const g={senderId:"test-user-123",senderName:"John Doe (Test)",content:"Hey! This is a test message to demonstrate WhatsApp-style notifications ",timestamp:new Date().toISOString(),isGuest:!1};yr.handleChatMessageNotification(g),i(" Simulated incoming message with sound & notification")};return t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999]",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-2xl w-full max-w-lg mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b dark:border-gray-700",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-3",children:[e.jsx(l0,{className:"text-blue-500"}),"Test Chat Notifications"]}),e.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 text-xl",children:""})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[a&&e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3",children:e.jsx("p",{className:"text-blue-800 dark:text-blue-200 text-sm font-medium",children:a})}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Audio System Status"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:[" Audio Support: ",e.jsx("span",{className:"font-medium text-green-600",children:(h=yr.sounds)!=null&&h.isAudioSupported()?"Enabled":"Not Available"})]}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:[" Audio State: ",e.jsx("span",{className:"font-medium text-blue-600",children:((p=yr.sounds)==null?void 0:p.getAudioState())||"Unknown"})]}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:[" Notifications: ",e.jsx("span",{className:"font-medium text-green-600",children:Notification.permission==="granted"?"Allowed":Notification.permission==="denied"?"Blocked":"Not Requested"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Test Notification Sounds"}),e.jsx("div",{className:"grid grid-cols-1 gap-3",children:l.map(g=>{const x=g.icon;return e.jsxs("button",{onClick:()=>c(g.type,g.name),className:"flex items-center gap-4 p-4 bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-lg transition-all group",children:[e.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center text-white",style:{backgroundColor:g.color},children:e.jsx(x,{className:"text-lg"})}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("div",{className:"font-medium text-gray-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400",children:g.name}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:g.description})]}),e.jsx($a,{className:"text-gray-400 group-hover:text-blue-500 transition-colors"})]},g.type)})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Complete Experience Tests"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:u,className:"w-full flex items-center gap-3 p-4 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg hover:from-purple-600 hover:to-pink-600 transition-all",children:[e.jsx("div",{className:"w-10 h-10 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:""}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("div",{className:"font-medium",children:"Test Browser Notification"}),e.jsx("div",{className:"text-sm opacity-90",children:"Check desktop notification permissions"})]})]}),e.jsxs("button",{onClick:m,className:"w-full flex items-center gap-3 p-4 bg-gradient-to-r from-green-500 to-blue-500 text-white rounded-lg hover:from-green-600 hover:to-blue-600 transition-all",children:[e.jsx("div",{className:"w-10 h-10 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:""}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("div",{className:"font-medium",children:"Simulate Incoming Message"}),e.jsx("div",{className:"text-sm opacity-90",children:"Full notification experience with sound + popup"})]})]})]})]}),e.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-yellow-800 dark:text-yellow-200 mb-2",children:" How to Test"}),e.jsxs("ol",{className:"text-sm text-yellow-700 dark:text-yellow-300 space-y-1 list-decimal list-inside",children:[e.jsx("li",{children:"Click any sound button to test different notification tones"}),e.jsx("li",{children:"Test browser notifications to enable desktop alerts"}),e.jsx("li",{children:"Simulate an incoming message for the full experience"}),e.jsx("li",{children:"Try sending real messages to hear the sounds in action"})]})]})]}),e.jsx("div",{className:"flex justify-end p-6 border-t dark:border-gray-700",children:e.jsx("button",{onClick:r,className:"px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Close"})})]})}):null},vM=()=>{const{user:t}=Fe(),{isConnected:r,onlineUsers:s,chatRooms:a,activeChat:i,messages:l,unreadCounts:c,typingUsers:u,isChatOpen:m,sendMessage:h,sendTypingIndicator:p,fetchChatRooms:g,fetchAllUsers:x,startChat:v,closeChat:w,setIsChatOpen:S,getTotalUnreadCount:k}=Di(),[E,C]=y.useState(""),[j,A]=y.useState(!1),[P,F]=y.useState(!1),[T,L]=y.useState(!1),[z,q]=y.useState(""),O=y.useRef(null),B=y.useRef(null);y.useEffect(()=>{U()},[l,i]),y.useEffect(()=>{r&&(g(),x())},[r]);const U=()=>{var M;(M=O.current)==null||M.scrollIntoView({behavior:"smooth"})},R=M=>{M.preventDefault(),E.trim()&&i&&(h(i.otherUser._id,E.trim()),C(""))},ee=M=>{C(M.target.value),i&&(p(i.otherUser._id,!0),B.current&&clearTimeout(B.current),B.current=setTimeout(()=>{p(i.otherUser._id,!1)},1e3))},J=M=>new Date(M).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),H=M=>{const Z=new Date,X=new Date(M),V=Math.floor((Z-X)/(1e3*60));return V<1?"Just now":V<60?`${V}m ago`:V<1440?`${Math.floor(V/60)}h ago`:X.toLocaleDateString()},K=M=>{switch(M){case"ONLINE":return"#10b981";case"AWAY":return"#f59e0b";case"OFFLINE":return"#6b7280";default:return"#6b7280"}},I=s.filter(M=>M.fullName.toLowerCase().includes(z.toLowerCase())||M.email.toLowerCase().includes(z.toLowerCase())),G=i?l[i.chatId]||[]:[],_=k();return m?e.jsxs("div",{className:"chat-window",children:[e.jsxs("div",{className:"chat-header",children:[e.jsxs("div",{className:"chat-header-left",children:[e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-comments"}),"Chat",_>0&&e.jsx("span",{className:"header-unread-count",children:_>99?"99+":_})]}),e.jsxs("div",{className:"connection-status",children:[e.jsx("span",{className:`status-indicator ${r?"connected":"disconnected"}`}),r?"Connected":"Connecting...",!r&&e.jsx("button",{className:"retry-connection",onClick:()=>window.location.reload(),title:"Retry connection",children:""})]})]}),e.jsxs("div",{className:"chat-header-actions",children:[e.jsxs("button",{className:"btn-icon",onClick:()=>L(!0),title:"Test notification sounds",children:[e.jsx("i",{className:"fas fa-volume-up"}),e.jsx("span",{className:"btn-text",children:""})]}),e.jsxs("button",{className:"btn-icon",onClick:()=>F(!0),title:"Notification settings",children:[e.jsx("i",{className:"fas fa-bell"}),e.jsx("span",{className:"btn-text",children:""})]}),e.jsxs("button",{className:"btn-icon",onClick:()=>A(!j),title:"Start new chat",children:[e.jsx("i",{className:"fas fa-plus"}),e.jsx("span",{className:"btn-text",children:""})]}),e.jsxs("button",{className:"btn-icon",onClick:()=>S(!1),title:"Minimize chat",children:[e.jsx("i",{className:"fas fa-minus"}),e.jsx("span",{className:"btn-text",children:""})]})]})]}),e.jsxs("div",{className:"chat-body",children:[j&&e.jsxs("div",{className:"user-list-sidebar",children:[e.jsxs("div",{className:"user-list-header",children:[e.jsx("h4",{children:"Start New Chat"}),e.jsx("button",{className:"btn-close",onClick:()=>A(!1),children:e.jsx("i",{className:"fas fa-times"})})]}),e.jsx("div",{className:"user-search",children:e.jsx("input",{type:"text",placeholder:"Search users...",value:z,onChange:M=>q(M.target.value),className:"search-input"})}),e.jsxs("div",{className:"user-list",children:[I.map(M=>e.jsxs("div",{className:"user-item",onClick:()=>{v(M),A(!1)},children:[e.jsxs("div",{className:"user-avatar",children:[M.profilePicture?e.jsx("img",{src:M.profilePicture,alt:M.fullName}):e.jsx("div",{className:"avatar-placeholder",children:M.fullName.charAt(0).toUpperCase()}),e.jsx("div",{className:"status-dot",style:{backgroundColor:K(M.status||M.chatStatus)}})]}),e.jsxs("div",{className:"user-info",children:[e.jsx("div",{className:"user-name",children:M.fullName}),e.jsx("div",{className:"user-role",children:M.role}),e.jsx("div",{className:"user-status",children:M.status==="ONLINE"||M.chatStatus==="ONLINE"?"Online":M.lastSeen?`Last seen ${H(M.lastSeen)}`:"Offline"})]}),c[M._id]>0&&e.jsx("div",{className:"user-unread-count",children:c[M._id]>99?"99+":c[M._id]})]},M._id)),I.length===0&&e.jsx("div",{className:"no-users",children:z?"No users found":"Loading users..."})]})]}),e.jsx("div",{className:"chat-content",children:i?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"active-chat-header",children:[e.jsxs("div",{className:"chat-user-info",children:[e.jsxs("div",{className:"chat-user-avatar",children:[i.otherUser.profilePicture?e.jsx("img",{src:i.otherUser.profilePicture,alt:i.otherUser.fullName}):e.jsx("div",{className:"avatar-placeholder",children:i.otherUser.fullName.charAt(0).toUpperCase()}),e.jsx("div",{className:"status-dot",style:{backgroundColor:K(i.otherUser.status||i.otherUser.chatStatus)}})]}),e.jsxs("div",{className:"chat-user-details",children:[e.jsx("div",{className:"chat-user-name",children:i.otherUser.fullName}),e.jsx("div",{className:"chat-user-status",children:u[i.otherUser._id]?e.jsxs("span",{className:"typing-indicator",children:[e.jsx("i",{className:"fas fa-ellipsis-h"}),"Typing..."]}):e.jsx("span",{children:i.otherUser.status==="ONLINE"||i.otherUser.chatStatus==="ONLINE"?"Online":i.otherUser.lastSeen?`Last seen ${H(i.otherUser.lastSeen)}`:"Offline"})})]})]}),e.jsx("button",{className:"btn-close-chat",onClick:w,title:"Close chat",children:e.jsx("i",{className:"fas fa-times"})})]}),e.jsxs("div",{className:"messages-container",children:[G.length===0?e.jsxs("div",{className:"no-messages",children:[e.jsx("i",{className:"fas fa-comments"}),e.jsx("p",{children:"No messages yet. Start the conversation!"})]}):G.map(M=>e.jsx("div",{className:`message ${M.senderId._id===t._id?"sent":"received"} ${M.isOptimistic?"optimistic":""}`,children:e.jsxs("div",{className:"message-content",children:[e.jsx("div",{className:"message-text",children:M.content}),e.jsxs("div",{className:"message-meta",children:[e.jsx("span",{className:"message-time",children:J(M.timestamp)}),M.senderId._id===t._id&&e.jsx("span",{className:"message-status",children:M.isOptimistic?e.jsx("i",{className:"fas fa-clock",title:"Sending..."}):M.delivered?e.jsx("i",{className:"fas fa-check-double",title:"Delivered"}):e.jsx("i",{className:"fas fa-check",title:"Sent"})})]})]})},M._id)),e.jsx("div",{ref:O})]}),e.jsx("form",{onSubmit:R,className:"message-input-form",children:e.jsxs("div",{className:"message-input-container",children:[e.jsx("input",{type:"text",value:E,onChange:ee,placeholder:"Type a message...",className:"message-input",disabled:!r}),e.jsx("button",{type:"submit",className:"send-button",disabled:!E.trim()||!r,children:e.jsx("i",{className:"fas fa-paper-plane"})})]})})]}):e.jsx("div",{className:"chat-welcome",children:e.jsxs("div",{className:"welcome-content",children:[e.jsx("i",{className:"fas fa-comments"}),e.jsxs("div",{className:"welcome-stats",children:[e.jsxs("div",{className:"stat",children:[e.jsx("span",{className:"stat-number",children:s.length}),e.jsx("span",{className:"stat-label",children:"Users Online"})]}),e.jsxs("div",{className:"stat",children:[e.jsx("span",{className:"stat-number",children:a.length}),e.jsx("span",{className:"stat-label",children:"Active Chats"})]}),e.jsxs("div",{className:"stat",children:[e.jsx("span",{className:"stat-number",children:_}),e.jsx("span",{className:"stat-label",children:"Unread Messages"})]})]})]})})})]}),e.jsx(yM,{isOpen:P,onClose:()=>F(!1)}),e.jsx(bM,{isOpen:T,onClose:()=>L(!1)})]}):e.jsxs("div",{className:"chat-toggle-button",onClick:()=>S(!0),children:[e.jsx("i",{className:"fas fa-comments"}),_>0&&e.jsx("span",{className:"unread-badge",children:_>99?"99+":_})]})},wM=()=>{const{user:t,token:r}=Fe(),{socket:s,isConnected:a}=Di(),[i,l]=y.useState(!1);if(!i)return e.jsx("button",{onClick:()=>l(!0),style:{position:"fixed",top:"10px",right:"10px"}});const c=async()=>{try{const g=await fetch("https://crm-trial-backend.onrender.com/api/chat/users",{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}});if(g.ok){const x=await g.json();alert(` API Connection OK! Found ${x.data.length} users`)}else alert(` API Error: ${g.status} ${g.statusText}`)}catch(h){alert(` Connection Error: ${h.message}`)}},u=()=>{s?(s.emit("test-connection",{message:"Hello from debug"}),alert(" Socket test message sent")):alert(" No socket connection available")},m=async()=>{"Notification"in window?await Notification.requestPermission()==="granted"?(new Notification("Chat Notifications Enabled!",{body:"You will now receive chat notifications.",icon:"/favicon.ico"}),alert(" Notifications enabled!")):alert(" Notifications denied"):alert(" Notifications not supported")};return e.jsxs("div",{style:{position:"fixed",top:"10px",right:"10px",background:"white",border:"2px solid #ccc",borderRadius:"8px",padding:"15px",zIndex:9999,minWidth:"300px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)"},children:[e.jsx("h3",{style:{margin:"0 0 10px 0",color:"#333"},children:" Chat Debug"}),e.jsxs("div",{style:{marginBottom:"8px"},children:[e.jsx("strong",{children:"User:"})," ",(t==null?void 0:t.fullName)||"Not logged in"]}),e.jsxs("div",{style:{marginBottom:"8px"},children:[e.jsx("strong",{children:"Token:"})," ",r?" Present":" Missing",r&&e.jsxs("div",{style:{fontSize:"10px",color:"#666",marginTop:"2px"},children:[r.substring(0,20),"..."]})]}),e.jsxs("div",{style:{marginBottom:"8px"},children:[e.jsx("strong",{children:"Socket:"})," ",s?" Created":" Not created"]}),e.jsxs("div",{style:{marginBottom:"8px"},children:[e.jsx("strong",{children:"Connected:"})," ",a?" Yes":" No"]}),e.jsxs("div",{style:{marginBottom:"12px"},children:[e.jsx("strong",{children:"Server URL:"})," ","https://crm-trial-backend.onrender.com"]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[e.jsx("button",{onClick:c,style:{padding:"8px 12px",background:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Test API Connection"}),e.jsx("button",{onClick:u,style:{padding:"8px 12px",background:"#28a745",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Test Socket Connection"}),e.jsx("button",{onClick:m,style:{padding:"8px 12px",background:"#ffc107",color:"black",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Request Permission"}),e.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"8px 12px",background:"#6c757d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Reload Page"})]}),e.jsx("div",{style:{marginTop:"12px",fontSize:"11px",color:"#6b7280"},children:" Check browser console for detailed logs"})]})},jM=()=>{const{user:t}=Fe();return y.useEffect(()=>{if(t&&t._id)return console.log(" Initializing notifications for user:",t.fullName),yr.connect(t._id),yr.requestNotificationPermission(),()=>{yr.disconnect()}},[t]),null},NM=()=>(y.useEffect(()=>{document.title="Traincape Technology CRM"},[]),e.jsx(Uk,{children:e.jsx(s3,{children:e.jsx($P,{children:e.jsxs("div",{className:"min-h-screen bg-white dark:bg-slate-900 text-slate-900 dark:text-white transition-all duration-200 ease-out",children:[e.jsx(jM,{}),e.jsx(xM,{}),e.jsx(vM,{}),e.jsx(wM,{}),e.jsx(TS,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,iconTheme:{primary:"#4ade80",secondary:"#fff"}},error:{duration:5e3,iconTheme:{primary:"#ef4444",secondary:"#fff"}}}})]})})})})),kM=UN.createRoot(document.getElementById("root"));kM.render(e.jsx(y.StrictMode,{children:e.jsx($N,{children:e.jsx(NM,{})})}));export{Ot as $,Kc as A,me as B,cr as C,c3 as D,HD as E,YM as F,bv as G,WM as H,Es as I,ve as J,zM as K,Je as L,xe as M,jx as N,r3 as O,Qe as P,Jt as Q,Gc as R,g3 as S,qM as T,hs as U,oh as V,ce as W,KM as X,r0 as Y,XM as Z,jv as _,y as a,Et as b,di as c,It as d,li as e,ls as f,q0 as g,Qn as h,as as i,e as j,Kt as k,$t as l,Te as m,HM as n,hv as o,GM as p,y3 as q,Y0 as r,Vn as s,Ts as t,Fe as u,Si as v,Xa as w,Pc as x,f3 as y,Ac as z};
